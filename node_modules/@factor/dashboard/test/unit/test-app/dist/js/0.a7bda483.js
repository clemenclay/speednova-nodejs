(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{434:function(t,e,s){"use strict";s.r(e);var a=s(2).a.extend({}),i=s(452),n=Object(i.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content-layout"},[e("router-view")],1)}),[],!1,null,null,null);e.default=n.exports},439:function(t,e,s){"use strict";s.r(e);var a=s(2),i=s(197),n=a.a.extend({components:{factorLoadingRing:i.y},props:{list:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},data:()=>({selectAllSelected:!1,actionValue:""}),computed:{},methods:{}}),r=(s(607),s(452)),l=Object(r.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-empty"},[t.loading&&0==t.list.length?s("factor-loading-ring"):t._e(),t._v(" "),t.loading||0!=t.list.length?t._e():s("div",{staticClass:"no-posts"},[s("div",{staticClass:"no-posts-text"},[t._v("Nothing Found")])])],1)}),[],!1,null,null,null);e.default=l.exports},440:function(t,e,s){"use strict";s.r(e);var a=s(2).a.extend({components:{"table-pagination":()=>s.e(1).then(s.bind(null,695))},props:{tabs:{type:Array,default:()=>[]},actions:{type:Array,default:()=>[]},meta:{type:Object,default:()=>{}},count:{type:Number,default:0},pageCurrent:{type:Number,default:0}},data:()=>({action:""}),computed:{},methods:{pageCount:(t,e)=>0==t?1:Math.ceil(t/e)}}),i=(s(608),s(452)),n=Object(i.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"table-footer"},[e("table-pagination",{attrs:{count:this.meta.totalForQuery,"page-count":this.pageCount(this.meta.totalForQuery,this.meta.limit),"page-current":this.$route.query.page||1}})],1)}),[],!1,null,null,null);e.default=n.exports},441:function(t,e,s){"use strict";s.r(e);var a=s(197),i=s(2).a.extend({components:{factorInputWrap:a.v}}),n=(s(609),s(452)),r=Object(n.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("factor-input-wrap",this._g(this._b({staticClass:"dashboard-input"},"factor-input-wrap",this.$attrs,!1),this.$listeners),[this._t("default")],2)}),[],!1,null,null,null);e.default=r.exports},442:function(t,e,s){"use strict";s.r(e);var a=s(197),i=s(0),n=s(2).a.extend({components:{factorIcon:a.g},props:{postId:{type:String,default:""},subText:{type:String,default:""},remove:{type:Boolean,default:!1}},computed:{postSet(){return!Object(i.m)(this.user)},user(){return Object(i.D)(this.postId)||{}}}}),r=(s(610),s(452)),l=Object(r.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-user card-wrap"},[t.postSet?s("div",{staticClass:"card"},[s("div",{staticClass:"name"},[t._v(t._s(t.user.displayName||t.user.email))]),t._v(" "),t.$listeners.remove?s("div",{staticClass:"remove",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$emit("remove",e)}}},[s("factor-icon",{attrs:{icon:"fas fa-remove"}})],1):t._e()]):t._e()])}),[],!1,null,null,null);e.default=l.exports},443:function(t,e,s){"use strict";s.r(e);var a=s(198),i=s(24),n=s(2).a.extend({components:{dashboardInput:a.a,dashboardUserCard:a.g},props:{customValidity:{type:String,default:""},value:{type:Array,default:()=>[]},placeholder:{type:String,default:"Search"}},data:()=>({potentialAuthors:[],newAuthor:"",searchResults:[],authors:[],toggle:!1}),watch:{authors:{handler:function(t){this.$emit("input",t)},deep:!0},value:{handler:function(t){t&&t!=this.authors&&(this.authors=t)},immediate:!0}},async mounted(){const t=await Object(i.c)({postType:"user",conditions:{accessLevel:{$gt:99}},options:{limit:100}});this.potentialAuthors=t.map(t=>({name:`${t.displayName} (${t.email})`,value:t._id}))},methods:{addAuthor(){this.authors.includes(this.newAuthor)||this.authors.push(this.newAuthor),this.newAuthor=""},deleteItem(t){this.$delete(this.authors,t)},setValidity(){const t=this.value;let e="";this.min&&(!t||t.length<this.min)?e=`Add at least ${this.min} item`:this.max&&t&&t.length>this.max&&(e=`Add no more than ${this.max} items`),this.$emit("update:customValidity",e)}}}),r=(s(611),s(452)),l=Object(r.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-list-input"},[s("div",{staticClass:"user-list-items"},[t._l(t.authors,(function(e,a){return s("div",{key:a,staticClass:"added-user"},[s("dashboard-user-card",{staticClass:"custom-list-item",attrs:{"post-id":e},on:{remove:function(e){return t.deleteItem(a)}}})],1)})),t._v(" "),s("div",{staticClass:"input-text"},[s("dashboard-input",{attrs:{list:t.potentialAuthors,input:"factor-input-select",placeholder:"Select Author"},on:{change:function(e){return t.addAuthor(e)}},model:{value:t.newAuthor,callback:function(e){t.newAuthor=e},expression:"newAuthor"}})],1)],2)])}),[],!1,null,null,null);e.default=l.exports},444:function(t,e,s){"use strict";s.r(e);var a=s(197),i=s(23),n=s(0),r=s(2).a.extend({components:{factorLoadingRing:a.y,dashboardNav:()=>s.e(3).then(s.bind(null,696)),dashboardHead:()=>s.e(3).then(s.bind(null,697))},metaInfo(){const t=this.$route.path.split("/").pop();return{title:Object(n.H)(t),description:"Factor Dashboard",titleTemplate:"%s - Fiction Dashboard"}},data(){return{loading:!0,activeRoute:this.$route.path,toggle:!1}},computed:{postType(){return this.$route.params.postType||""},postTypeConfig(){return Object(n.k)(this.postType)}},watch:{$route:function(t){this.activeRoute=t.path,this.toggleNav(!1)}},async mounted(){await i.g(),this.loading=!1},methods:{toggleNav(t){document&&(this.toggle=void 0===t?!this.toggle:t,this.clickHandler=()=>{this.toggle=!1,document.removeEventListener("click",this.clickHandler,!1)},this.toggle?document.addEventListener("click",this.clickHandler,!1):document.removeEventListener("click",this.clickHandler,!1))}}}),l=(s(612),s(613),s(452)),o=Object(l.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-wrap"},[this.loading?[e("div",{staticClass:"user-loading"},[e("factor-loading-ring",{attrs:{width:"4em"}})],1)]:[e("div",{staticClass:"app-layout",class:this.toggle?"nav-overlay":""},[e("dashboard-head",{staticClass:"app-head"}),this._v(" "),e("div",{staticClass:"app-nav",on:{click:function(t){t.stopPropagation()}}},[e("dashboard-nav")],1),this._v(" "),e("div",{staticClass:"app-main"},[e("div",{staticClass:"app-main-content"},[this.$slots.default?this._t("default"):e("router-view")],2)])],1)]],2)}),[],!1,null,null,null);e.default=o.exports},445:function(t,e,s){"use strict";s.r(e);var a=s(197),i=s(198),n=s(2).a.extend({components:{dashboardPage:i.d,dashboardPane:i.e,factorLink:a.x}}),r=(s(614),s(452)),l=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("dashboard-page",[e("dashboard-pane",[e("div",{staticClass:"four04"},[e("div",{staticClass:"pad"},[e("div",{staticClass:"title"},[this._v("Not Found (404)")]),this._v(" "),e("factor-link",{attrs:{path:"/dashboard"}},[this._v("Go to Dashboard →")])],1)])])],1)}),[],!1,null,null,null);e.default=l.exports},448:function(t,e,s){"use strict";s.r(e);var a=s(197),i=s(0),n=s(2),r=s(200),l=n.a.extend({components:{factorModal:a.A,factorSignin:()=>s.e(1).then(s.bind(null,698))},data:function(){return{vis:!1,redirect:"",title:"",subTitle:"",mode:""}},computed:{view(){return this.$route.query.view||""}},watch:{$route(t){t.query.signInView&&(this.vis=!0)}},mounted(){this.$route.query.signInView?this.vis=!0:(Object(i.q)("sign-in-modal",(t={})=>{const{redirect:e="",view:s=null,user:a}=t;this.user=a,this.redirect=e,s&&this.view!=s&&this.setView(s),this.vis=!0}),Object(i.w)("sign-in-modal-loaded"))},methods:{setView(t){const e={...this.$route.query,view:t};t||delete e.view,e!=this.$route.query&&this.$router.replace({query:e})},close(){this.vis=!1,this.view&&this.setView(null),Object(r.a)()},done(){""!=this.redirect&&(this.$router.push({path:this.redirect}),this.redirect=""),this.close()}}}),o=s(452),u=Object(o.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("factor-modal",{attrs:{vis:t.vis},on:{"update:vis":function(e){t.vis=e},close:function(e){return t.close("modal")}}},[s("factor-signin",{attrs:{redirect:t.redirect,format:"modal"},on:{done:function(e){return t.done(e)},close:function(e){return t.close("signin")}}})],1)}),[],!1,null,null,null);e.default=u.exports},450:function(t,e,s){"use strict";s.r(e);var a=s(458).a,i=(s(531),s(452)),n=Object(i.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fallback-page"},[e("div",{staticClass:"fallback-page-pad"},[e("div",{staticClass:"title"},[this._v(this._s(this.title))]),this._v(" "),e("div",{staticClass:"sub-title"},[this._v(this._s(this.subTitle))])])])}),[],!1,null,null,null);e.default=n.exports},452:function(t,e,s){"use strict";function a(t,e,s,a,i,n,r,l){var o,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=s,u._compiled=!0),a&&(u.functional=!0),n&&(u._scopeId="data-v-"+n),r?(o=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=o):i&&(o=l?function(){i.call(this,this.$root.$options.shadowRoot)}:i),o)if(u.functional){u._injectStyles=o;var c=u.render;u.render=function(t,e){return o.call(e),c(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,o):[o]}return{exports:t,options:u}}s.d(e,"a",(function(){return a}))},458:function(t,e,s){"use strict";(function(t){var a=s(2);e.a=a.a.extend({metaInfo(){return{title:`${this.errorText} Error`,description:`Looks like you've hit a ${this.errorText} error.`,meta:[{name:"robots",content:"noindex"}]}},computed:{errorText(){return this.$route.meta.error||404},title(){return this.details.title},subTitle(){return this.details.subTitle},details(){let t;return t=403==this.$route.meta.error?{title:"403 Error",subTitle:"You don't have permissions to access this page"}:{title:"404 Error",subTitle:"This page doesn't exist."},t}},created(){t&&(t.env.factorServerStatus="404")}})}).call(this,s(10))},459:function(t,e,s){},464:function(t,e,s){},465:function(t,e,s){},466:function(t,e,s){},467:function(t,e,s){},469:function(t,e,s){},472:function(t,e,s){},478:function(t,e,s){},479:function(t,e,s){},480:function(t,e,s){},481:function(t,e,s){},482:function(t,e,s){},483:function(t,e,s){},484:function(t,e,s){},485:function(t,e,s){},490:function(t,e,s){},493:function(t,e,s){},494:function(t,e,s){},495:function(t,e,s){},531:function(t,e,s){"use strict";var a=s(459);s.n(a).a},592:function(t,e,s){"use strict";var a=s(464);s.n(a).a},593:function(t,e,s){"use strict";var a=s(465);s.n(a).a},594:function(t,e,s){"use strict";var a=s(466);s.n(a).a},595:function(t,e,s){"use strict";var a=s(467);s.n(a).a},597:function(t,e,s){"use strict";var a=s(469);s.n(a).a},601:function(t,e,s){"use strict";var a=s(472);s.n(a).a},607:function(t,e,s){"use strict";var a=s(478);s.n(a).a},608:function(t,e,s){"use strict";var a=s(479);s.n(a).a},609:function(t,e,s){"use strict";var a=s(480);s.n(a).a},610:function(t,e,s){"use strict";var a=s(481);s.n(a).a},611:function(t,e,s){"use strict";var a=s(482);s.n(a).a},612:function(t,e,s){"use strict";var a=s(483);s.n(a).a},613:function(t,e,s){"use strict";var a=s(484);s.n(a).a},614:function(t,e,s){"use strict";var a=s(485);s.n(a).a},619:function(t,e,s){"use strict";var a=s(490);s.n(a).a},622:function(t,e,s){"use strict";var a=s(493);s.n(a).a},623:function(t,e,s){"use strict";var a=s(494);s.n(a).a},624:function(t,e,s){"use strict";var a=s(495);s.n(a).a},661:function(t,e,s){"use strict";s.r(e);var a=s(202),i=s(9),n=s(7),r=s(533),l=s.n(r),o=s(588),u=s(589),c=s.n(u),d=s(590),p=s.n(d),h=s(591),f=s.n(h),m=s(0);let v;var g=s(2).a.extend({components:{factorPostEdit:a.a},props:{postId:{type:String,default:""}},computed:{post:()=>Object(m.D)("post")||{},settings(){return this.post.settings||{}}},methods:{renderMarkdown:(t="",e)=>{const s=(v||(v=l()({html:!0,linkify:!0,typographer:!1,breaks:!0}),v.use(o.a,{slugify:i.k}),v.use(c.a),v.use(p.a),v.use(f.a,{dataType:!0,figcaption:!0,tabindex:!1,link:!0})),v);if("string"==typeof t){const{variables:a}=e||{};return a&&(t=t.replace(/{{([\S\s]+?)}}/g,t=>{const e=t.replace(/[{}]/g,"");let s=Object(i.b)({key:e,settings:Object(n.b)()});return s||(s=Object(m.y)(e)),s||""})),s.render(t,e)}return""}},templateSettings:()=>[{_id:"headerAlignment",input:"select",label:"Header Alignment",description:"Alignment of the page header",list:["left","center","right"],default:"left"}]}),b=(s(592),s(452)),_=Object(b.a)(g,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"long-form"},[t.post.title?s("div",{staticClass:"title",style:{textAlign:t.settings.headerAlignment||"left"}},[s("h1",{directives:[{name:"formatted-text",rawName:"v-formatted-text",value:t.post.title,expression:"post.title"}]})]):t._e(),t._v(" "),s("div",{directives:[{name:"formatted-text",rawName:"v-formatted-text",value:t.renderMarkdown(t.post.content),expression:"renderMarkdown(post.content)"}],staticClass:"content entry-content"}),t._v(" "),s("factor-post-edit",{attrs:{"post-id":t.post._id}})],1)}),[],!1,null,null,null);e.default=_.exports},663:function(t,e,s){"use strict";s.r(e);var a=s(197),i=s(2).a.extend({components:{factorBtnBase:a.c}}),n=(s(593),s(452)),r=Object(n.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("factor-btn-base",this._g(this._b({staticClass:"app-btn"},"factor-btn-base",this.$attrs,!1),this.$listeners),[this._t("default")],2)}),[],!1,null,null,null);e.default=r.exports},664:function(t,e,s){"use strict";s.r(e);var a=s(2).a.extend({components:{"btn-base":()=>s.e(0).then(s.bind(null,665))}}),i=(s(594),s(452)),n=Object(i.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("btn-base",this._g(this._b({staticClass:"btn-dashboard"},"btn-base",this.$attrs,!1),this.$listeners),[this._t("default")],2)}),[],!1,null,null,null);e.default=n.exports},665:function(t,e,s){"use strict";s.r(e);var a=s(197),i=s(2).a.extend({components:{factorLoadingRing:a.y},props:{image:{type:String,default:""},text:{type:String,default:""},type:{type:String,default:"button"},loading:{type:Boolean,default:!1},circle:{type:String,default:""},btn:{type:String,default:""},disabled:{type:Boolean,default:!1},size:{type:String,default:""}},data:()=>({backupCircleClass:"lightcolor"}),computed:{scope(){return!("test"==this.btn&&!this.$testing.isTest)},buttonClass(){const t=["factor-btn","factor-btn-load"];return this.loading&&t.push("loading"),this.image&&t.push("with-img"),this.disabled&&t.push("disabled"),this.btn?t.push(this.btn):t.push("default"),this.size&&t.push(this.size),t},circleClass(){if(this.circle)return this.circle;let t="lightcolor";return["google","default","subtle"].forEach(e=>{(this.$el&&this.$el.classList.contains(e)||this.buttonClass.includes(e))&&(t="darkcolor")}),t}}}),n=(s(595),s(452)),r=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.scope?s("button",t._g({class:t.buttonClass,attrs:{type:t.type}},t.$listeners),[s("span",{staticClass:"wrap-items"},[s("span",{staticClass:"btn-content"},[t.image?s("img",{attrs:{src:t.image,alt:"btn image"}}):t._e(),t._v(" "),t._t("default"),t._v(" "),t.text?s("span",{directives:[{name:"formatted-text",rawName:"v-formatted-text",value:t.text,expression:"text"}],staticClass:"txt"}):t._e()],2),t._v(" "),t.loading?s("transition",{attrs:{name:"fade"}},[t.loading?s("div",{staticClass:"waitload"},[s("factor-loading-ring",{class:t.circleClass,attrs:{width:"1.2em"}})],1):t._e()]):t._e()],1)]):t._e()}),[],!1,null,null,null);e.default=r.exports},666:function(t,e,s){"use strict";s.r(e);var a=s(2).a.extend({props:{width:{type:String,default:"3em"}}}),i=(s(597),s(452)),n=Object(i.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-ring-wrap"},[e("div",{staticClass:"loader",style:{width:this.width}},[e("svg",{staticClass:"ring-circular",attrs:{viewBox:"25 25 50 50"}},[e("circle",{staticClass:"ring-path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"5","stroke-miterlimit":"30"}})])])])}),[],!1,null,null,null);e.default=n.exports},672:function(t,e,s){"use strict";s.r(e);var a=s(197),i=s(199),n=s(0),r=s(2).a.extend({components:{factorLoadingRing:a.y,factorError404:a.e},data:()=>({comp:null,settings:""}),computed:{post:()=>Object(n.D)("post")||{},templateLocation(){return this.post.template?this.post.template:"default"},templateLoader(){const t=Object(i.a)().find(t=>t.slug==this.templateLocation);return t&&t.component?t.component:()=>Promise.all([s.e(5),s.e(0)]).then(s.bind(null,661))}}}),l=(s(619),s(452)),o=Object(l.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page"},[this.post.loading?e("div",{staticClass:"post-loading"},[e("factor-loading-ring")],1):this.post._id?e("div",[e(this.templateLoader,{tag:"component",attrs:{"post-id":this.post._id,post:this.post}})],1):e("factor-error-404")],1)}),[],!1,null,null,null);e.default=o.exports},674:function(t,e,s){"use strict";s.r(e);var a=s(2).a.extend({props:{icon:{type:String,default:""}},metaInfo:{link:[{vmid:"fa",rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css"}]}}),i=s(452),n=Object(i.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("i",{staticClass:"factor-icon",class:this.icon})}),[],!1,null,null,null);e.default=n.exports},676:function(t,e,s){"use strict";s.r(e);var a=s(2).a.extend({props:{save:{type:Boolean,default:!1},watchValid:{type:Object,default:()=>{}}},watch:{save:function(t){t&&(this.$refs.send.click(),this.$emit("update:save",!1))}},mounted(){this.$watch("watchValid",(function(){this.$nextTick(()=>{this.$emit("valid",this.$refs.form.checkValidity())})}),{deep:!0,immediate:!0})},methods:{checkForm(t){t.preventDefault(),this.$emit("submit",t)}}}),i=(s(622),s(452)),n=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{ref:"form",staticClass:"wrap-form",attrs:{autocomplete:"on"},on:{submit:function(e){return t.checkForm(e)}}},[t._t("default"),t._v(" "),s("input",{ref:"send",staticClass:"submit",attrs:{type:"submit",value:"submit"}})],2)}),[],!1,null,null,null);e.default=n.exports},677:function(t,e,s){"use strict";s.r(e);var a=s(197),i=s(198),n=s(2).a.extend({components:{factorInputWrap:a.v,factorInputEmail:a.l,factorInputDate:a.j,factorInputTags:a.s,factorInputEditor:a.k,factorInputText:a.t,factorInputPhone:a.o,factorInputCheckbox:a.i,factorInputBirthday:a.h,factorInputImageUpload:a.m,factorInputSelect:a.p,factorInputSubmit:a.r,factorInputPassword:a.n,factorInputTextarea:a.u,factorInputSortable:a.q,dashboardUserList:i.h},inheritAttrs:!1,props:{value:{type:null,default:()=>{}},label:{type:String,default:""},description:{type:String,default:""},format:{type:String,default:""},input:{type:String,default:""},inputClasses:{type:String,default:""},labelClasses:{type:String,default:""}},computed:{renderKey(){return this.$attrs["data-test"]?this.$attrs["data-test"]:this.label},isRequired(){return!(void 0===this.$attrs.required&&!this.$attrs["input-min"])},requiredClass(){return this.isRequired?"is-required":"is-optional"},inputFormat(){return this.format?this.format:"vertical"}},methods:{}}),r=(s(623),s(452)),l=Object(r.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{key:t.renderKey,staticClass:"input-wrap",class:[t.requiredClass,t.inputFormat]},[t.label||t.description?s("div",{staticClass:"input-meta"},[s("label",{staticClass:"label-wrap"},[t.label?s("span",{staticClass:"label",class:t.labelClasses},[t._v(t._s(t.label))]):t._e()]),t._v(" "),t.description||t.$slots.description?s("div",{staticClass:"description-wrap"},[t.$slots.description?t._t("description"):s("span",{directives:[{name:"formatted-text",rawName:"v-formatted-text",value:t.description,expression:"description"}]})],2):t._e()]):t._e(),t._v(" "),s("div",{staticClass:"input-area"},[s("div",{staticClass:"the-input"},[t.input?s(t.input,t._g(t._b({tag:"component",class:t.inputClasses,attrs:{value:t.value}},"component",t.$attrs,!1),t.$listeners)):t._e(),t._v(" "),t._t("default")],2)])])}),[],!1,null,null,null);e.default=l.exports},678:function(t,e,s){"use strict";s.r(e);var a=s(2).a.extend({props:{value:{type:String,default:""}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit("input",t.target.value)}}}}),i=s(452),n=Object(i.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("input",this._g(this._b({attrs:{type:"email",autocomplete:"email",required:this.$attrs.required},domProps:{value:this.value}},"input",this.$attrs,!1),this.listeners))}),[],!1,null,null,null);e.default=n.exports},679:function(t,e,s){"use strict";s.r(e);var a=s(197),i=s(0),n=s(2).a.extend({components:{factorBtn:a.b,factorIcon:a.g,factorInputText:a.t,factorInputSelect:a.p},props:{value:{type:Array,default:()=>[]},list:{type:Array,default:void 0},min:{type:[Number,String],default:0},max:{type:[Number,String],default:10}},data:()=>({tags:[],addedText:""}),computed:{tagNumber(){return this.tags.length},addedSlug(){return Object(i.A)(this.addedText)},parsedList(){return this.list?Object(i.r)(this.list):[]}},mounted(){setTimeout(()=>this.setValidity(),500),this.$watch("value",(function(t){t&&!Object(i.n)(t,this.tags)&&(this.tags=t)}),{immediate:!0,deep:!0})},methods:{toLabel:i.H,setValidity(){const t=this.list?this.$refs.selectField:this.$refs.textField,e=null==t?void 0:t.$el;if(e)if(this.tags.length<this.min){const t=`Minimum ${this.min} Needed (${this.tags.length} added)`;e.setCustomValidity(t)}else e.setCustomValidity("")},getListItemName(t){const e=this.parsedList.find(e=>e.value==t);return e?e.name:Object(i.H)(t)},addTag(){this.addedSlug.length<3?Object(i.i)("notify","Tags require at least 3 characters"):(this.addedSlug&&!this.tags.includes(this.addedSlug)&&(this.tags.push(this.addedSlug),this.setValidity(),this.$emit("input",this.tags)),this.addedText="")},removeTag(t){this.tags.splice(t,1),this.$emit("input",this.tags)}}}),r=(s(624),s(452)),l=Object(r.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tag-input",on:{keydown:function(t){t.stopPropagation()}}},[t.list?s("div",{staticClass:"the-input"},[s("factor-input-select",{ref:"selectField",attrs:{list:t.parsedList,disabled:t.tagNumber>=t.max},on:{input:function(e){return t.addTag()}},model:{value:t.addedText,callback:function(e){t.addedText=e},expression:"addedText"}})],1):s("div",{staticClass:"the-input"},[s("factor-input-text",{ref:"textField",attrs:{disabled:t.tagNumber>=t.max,type:"text",placeholder:"Enter tag"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addTag(e))}},model:{value:t.addedText,callback:function(e){t.addedText=e},expression:"addedText"}}),t._v(" "),s("factor-btn",{attrs:{btn:"default",disabled:t.tagNumber>=t.max},on:{click:function(e){return t.addTag()}}},[t._v("→")])],1),t._v(" "),t.tags.length>0?s("div",{staticClass:"the-tags"},t._l(t.tags,(function(e,a){return s("div",{key:a,staticClass:"tag"},[s("span",{staticClass:"tx"},[t._v(t._s(t.list?t.getListItemName(e):e))]),t._v(" "),s("span",{staticClass:"rm",on:{click:function(e){return t.removeTag(a)}}},[s("factor-icon",{attrs:{icon:"fas fa-times"}})],1)])})),0):t._e()])}),[],!1,null,null,null);e.default=l.exports},682:function(t,e,s){"use strict";s.r(e);var a=s(2).a.extend({props:{value:{type:String,default:""}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit("input",t.target.value)}}}}),i=s(452),n=Object(i.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("input",this._g(this._b({attrs:{autocomplete:this.$attrs.autocomplete||"current-password",type:"password",minlength:"6",required:this.$attrs.required},domProps:{value:this.value}},"input",this.$attrs,!1),this.listeners))}),[],!1,null,null,null);e.default=n.exports},683:function(t,e,s){"use strict";s.r(e);var a=s(2).a.extend({props:{value:{type:[String,Number],default:""}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit("input",t.target.value)}}}}),i=s(452),n=Object(i.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("input",this._g(this._b({class:this.$attrs.inputClasses,attrs:{type:"text",required:this.$attrs.required},domProps:{value:this.value}},"input",this.$attrs,!1),this.listeners))}),[],!1,null,null,null);e.default=n.exports},691:function(t,e,s){"use strict";s.r(e);var a=s(23),i=s(0),n=s(24),r=s(2).a.extend({components:{"edit-user":()=>s.e(2).then(s.bind(null,693))},computed:{post:()=>Object(i.D)(Object(a.f)())||{}},async mounted(){const t=await Object(a.g)();t&&t._id&&await Object(n.g)({_id:t._id,postType:"user"})}}),l=s(452),o=Object(l.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("edit-user",{attrs:{post:this.post}})}),[],!1,null,null,null);e.default=o.exports},692:function(t,e,s){"use strict";s.r(e);var a=s(198),i=s(23),n=s(34),r=s(0),l=s(24),o=s(2).a.extend({name:"UserList",components:{dashboardPane:a.e,dashboardTableFooter:a.f,dashboardListPost:a.c,dashboardListControls:a.b},props:{title:{type:String,default:""},list:{type:Array,default:()=>[]},meta:{type:Object,default:()=>{}},loading:{type:Boolean,default:!1}},data:()=>({selected:[],loadingAction:!1}),computed:{currentUser:i.b,roles:()=>["admin","moderator","editor","member"]},methods:{toLabel:r.H,standardDate:r.B,controlStatus(){var t;const e={};return["admin","moderator","editor","member"].forEach(t=>{e[t]=Object(n.c)({meta:this.meta,field:"role",key:t})}),[{value:"",label:`All (${null!==(t=this.meta.totalForQuery)&&void 0!==t?t:0})`},{value:"admin",label:`Admin (${e.admin})`},{value:"moderator",label:`Moderator (${e.moderator})`},{value:"editor",label:`Editor (${e.editor})`},{value:"member",label:`Member (${e.member})`}]},controlActions(){const t=[];return Object(i.e)({accessLevel:400})&&(t.push({value:"delete",label:"Permanently Delete",confirm:t=>`Permanently delete ${t.length} user(s)?`}),this.roles.forEach(e=>{t.push({value:e,label:`Change to ${Object(r.H)(e)}`,confirm:t=>`Change ${t.length} user(s) to "${e}" role?`})})),t},postItemMeta:t=>[{value:Object(r.H)(t.role||"no role")},{label:"Username",value:t.username||t.email},{label:"Since",value:Object(r.B)(t.createdAt)}],async handleAction(t){this.loadingAction=!0,"delete"==t?await Object(l.a)({_ids:this.selected,postType:this.postType}):["admin","moderator","editor","member"].includes(t)&&await Object(l.f)({_ids:this.selected,data:{role:t},postType:"user"}),Object(r.i)("refresh-table"),this.selected=[],this.loadingAction=!1},selectAll(t){this.selected=t?this.list.map(t=>t._id):[]}}}),u=(s(601),s(452)),c=Object(u.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("dashboard-pane",{attrs:{title:t.title}},[s("dashboard-list-controls",{attrs:{"control-actions":t.controlActions(),"control-status":t.controlStatus(),"status-field":"role",selected:t.selected,loading:t.loading,list:t.list},on:{action:function(e){return t.handleAction(e)},"select-all":function(e){return t.selectAll(e)}}}),t._v(" "),t._l(t.list,(function(e){return s("dashboard-list-post",{key:e._id,attrs:{post:e,title:e.displayName||"No Name","sub-title":e.email,meta:t.postItemMeta(e)},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})})),t._v(" "),s("dashboard-table-footer",t._b({attrs:{meta:t.meta}},"dashboard-table-footer",t.$attrs,!1))],2)}),[],!1,null,null,null);e.default=c.exports}}]);