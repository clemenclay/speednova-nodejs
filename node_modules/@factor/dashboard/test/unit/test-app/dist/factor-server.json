{
  "entry": "server-bundle-main.js",
  "files": {
    "server-bundle-0.js": "exports.ids=[0],exports.modules=Array(75).concat([function(t,e,s){\"use strict\";s.r(e);var a=s(2),i=s.n(a).a.extend({props:{title:{type:String,default:\"\"},note:{type:String,default:\"\"}}}),n=s(93);var r=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"dashboard-pane\"},[t.title||t.$slots.nav?t._ssrNode('<div class=\"head\">',\"</div>\",[t.$slots.title?t._ssrNode(\"<div>\",\"</div>\",[t._t(\"title\")],2):s(\"div\",{directives:[{name:\"formatted-text\",rawName:\"v-formatted-text\",value:t.title,expression:\"title\"}],staticClass:\"title\"},[]),t._ssrNode(\" \"),t._ssrNode('<div class=\"actions\">',\"</div>\",[t._t(\"nav\")],2)],2):t._e(),t._ssrNode(\" \"),t.$slots.default?t._ssrNode('<div class=\"cont\">',\"</div>\",[t._t(\"default\")],2):t._e(),t._ssrNode(\" \"),t.note||t.$slots.actions?t._ssrNode('<div class=\"foot\">',\"</div>\",[t.note?s(\"div\",{directives:[{name:\"formatted-text\",rawName:\"v-formatted-text\",value:t.note,expression:\"note\"}],staticClass:\"note\"},[]):t._e(),t._ssrNode(\" \"),t._ssrNode('<div class=\"actions\">',\"</div>\",[t._t(\"actions\")],2)],2):t._e()],2)}),[],!1,(function(t){var e=s(108);e.__inject__&&e.__inject__(t)}),null,\"70e735bc\");e.default=r.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(55),n=s(2),r=s.n(n).a.extend({components:{factorLoadingRing:a.y,dashboardPane:i.e,dashboardFooter:()=>s.e(0).then(s.bind(null,185))},props:{title:{type:String,default:\"\"},loading:{type:Boolean,default:!1}}}),o=s(93);var l=Object(o.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"dpg\"},[t._ssrNode('<div class=\"dpg-content-pad\">',\"</div>\",[t._ssrNode('<div class=\"title-bar\">',\"</div>\",[t._ssrNode('<div class=\"page-title\">'+t._ssrEscape(t._s(t.title))+\"</div> \"),t._ssrNode('<div class=\"actions\">',\"</div>\",[t._t(\"actions\")],2)],2),t._ssrNode(\" \"),t.loading?s(\"dashboard-pane\",{staticClass:\"dpg-loading\"},[s(\"factor-loading-ring\",{attrs:{width:\"4em\"}})],1):!t.loading&&t.$slots.primary?s(\"div\",{staticClass:\"page-grid\"},[s(\"div\",{staticClass:\"col col-primary\"},[t._t(\"primary\")],2),t._v(\" \"),s(\"div\",{staticClass:\"col col-secondary\"},[t._t(\"secondary\")],2),t._v(\" \"),s(\"div\",{staticClass:\"col col-meta\"},[t._t(\"meta\")],2)]):t.loading?t._e():s(\"div\",{staticClass:\"page-full\"},[t._t(\"default\")],2),t._ssrNode(\" \"),s(\"dashboard-footer\")],2)])}),[],!1,(function(t){var e=s(109);e.__inject__&&e.__inject__(t)}),null,\"88cb0e6e\");e.default=l.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(2),i=s.n(a),n=s(54),r=s(0),o=i.a.extend({components:{factorLink:n.x},props:{post:{type:Object,default:()=>{}},title:{type:String,default:\"\"},subTitle:{type:String,default:\"\"},meta:{type:Array,default:()=>[]},additional:{type:Array,default:()=>[]},value:{type:Array,default:()=>[]},toggle:{type:Object,default:()=>({show:\"More\",hide:\"Less\"})},editPath:{type:[String,Boolean],default:!0},clickEvent:{type:[Function,Boolean],default:!1}},data:()=>({moreInfoToggle:!1}),computed:{checked:{get(){return this.value.includes(this.post._id)},set(t){let e=this.value;const s=e.indexOf(this.post._id);t||-1==s?-1==s&&(e=[...this.value,this.post._id]):e.splice(s,1),this.$emit(\"input\",e)}},itemTitle(){return this.title||this.post.title},itemPath(){let t=\"\";return!0===this.editPath?t=`${this.$route.path}/edit?_id=${this.post._id}`:this.editPath&&(t=this.editPath),t},itemSubTitle(){return this.subTitle||this.post.permalink},itemMeta(){return this.meta&&this.meta.length>0?this.meta:[]},itemAdditional(){return(this.additional&&this.additional.length>0?this.additional:[]).filter(t=>t.value)},itemAvatar(){const t=Object(r.D)(this.post.avatar);return t&&t.url?t.url:\"\"}},methods:{toLabel:r.H,postLink:r.t}}),l=s(93);var c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"post-item\"},[t._ssrNode('<div class=\"post-item-grid\">',\"</div>\",[t._ssrNode('<div class=\"selector\"><input type=\"checkbox\"'+t._ssrAttr(\"checked\",Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked)+' class=\"checkbox\"></div> '),t._ssrNode('<div class=\"post-info\">',\"</div>\",[t.itemAvatar?t._ssrNode('<div class=\"post-media\">',\"</div>\",[s(\"factor-link\",{staticClass:\"post-avatar\",attrs:{path:t.itemPath}},[s(\"img\",{attrs:{src:t.itemAvatar,alt:\"Avatar\"}})])],1):t._e(),t._ssrNode(\" \"),t._ssrNode('<div class=\"text-header\">',\"</div>\",[t.clickEvent?t._ssrNode('<div class=\"title click-title\">',\"</div>\",[t._ssrNode(t._ssrEscape(t._s(t.itemTitle)))],2):s(\"factor-link\",{staticClass:\"title\",attrs:{path:t.itemPath}},[t._v(t._s(t.itemTitle))]),t._ssrNode(\" \"+(t.itemSubTitle?'<div class=\"sub-title\">'+t._ssrEscape(t._s(t.itemSubTitle))+\"</div>\":\"\\x3c!----\\x3e\"))],2),t._ssrNode(' <div class=\"meta-information\">'+t._ssrList(t.itemMeta,(function(e,s){return'<div class=\"data-item\">'+(e.label?'<div class=\"label\">'+t._ssrEscape(t._s(e.label))+\"</div>\":\"\\x3c!----\\x3e\")+\" \"+(e.value?'<div class=\"value\">'+t._ssrEscape(t._s(e.value))+\"</div>\":\"\\x3c!----\\x3e\")+\"</div>\"}))+\" \"+(t.itemAdditional.length>0?'<div class=\"data-item\"><div class=\"toggle-additional-information value\">'+(t.moreInfoToggle?\"<span>\"+t._ssrEscape(t._s(t.toggle.hide)+\" ↑\")+\"</span>\":\"<span>\"+t._ssrEscape(t._s(t.toggle.show)+\" ↓\")+\"</span>\")+\"</div></div>\":\"\\x3c!----\\x3e\")+\"</div> \"+(t.moreInfoToggle&&t.itemAdditional?'<div class=\"additional-information\"><div class=\"additional-items\">'+t._ssrList(t.itemAdditional,(function(e,s){return'<div class=\"data-item\">'+(e.label?'<div class=\"label\">'+t._ssrEscape(t._s(t.toLabel(e.label)))+\"</div>\":\"\\x3c!----\\x3e\")+\" \"+(e.value?'<div class=\"value\">'+t._ssrEscape(t._s(e.value))+\"</div>\":\"\\x3c!----\\x3e\")+\"</div>\"}))+\"</div></div>\":\"\\x3c!----\\x3e\"))],2)],2)])}),[],!1,(function(t){var e=s(110);e.__inject__&&e.__inject__(t)}),null,\"67a5eebb\");e.default=c.exports},,,function(t,e,s){\"use strict\";s.r(e);var a=s(2),i=s.n(a).a.extend({components:{\"table-pagination\":()=>s.e(0).then(s.bind(null,186))},props:{tabs:{type:Array,default:()=>[]},actions:{type:Array,default:()=>[]},meta:{type:Object,default:()=>{}},count:{type:Number,default:0},pageCurrent:{type:Number,default:0}},data:()=>({action:\"\"}),computed:{},methods:{pageCount:(t,e)=>0==t?1:Math.ceil(t/e)}}),n=s(93);var r=Object(n.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"table-footer\"},[e(\"table-pagination\",{attrs:{count:this.meta.totalForQuery,\"page-count\":this.pageCount(this.meta.totalForQuery,this.meta.limit),\"page-current\":this.$route.query.page||1}})],1)}),[],!1,(function(t){var e=s(113);e.__inject__&&e.__inject__(t)}),null,\"52e274ae\");e.default=r.exports},,function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(0),n=s(2),r=s.n(n).a.extend({components:{factorIcon:a.g},props:{postId:{type:String,default:\"\"},subText:{type:String,default:\"\"},remove:{type:Boolean,default:!1}},computed:{postSet(){return!Object(i.m)(this.user)},user(){return Object(i.D)(this.postId)||{}}}}),o=s(93);var l=Object(o.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"card-user card-wrap\"},[t.postSet?t._ssrNode('<div class=\"card\">',\"</div>\",[t._ssrNode('<div class=\"name\">'+t._ssrEscape(t._s(t.user.displayName||t.user.email))+\"</div> \"),t.$listeners.remove?t._ssrNode('<div class=\"remove\">',\"</div>\",[s(\"factor-icon\",{attrs:{icon:\"fas fa-remove\"}})],1):t._e()],2):t._e()])}),[],!1,(function(t){var e=s(115);e.__inject__&&e.__inject__(t)}),null,\"46ffbec4\");e.default=l.exports},,,,function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(12),n=s(22),r=s(0),o=s(2),l=s.n(o).a.extend({name:\"AccountMenu\",components:{factorAvatar:a.a,factorLink:a.x},props:{showName:{type:Boolean,default:!1}},data:()=>({toggle:!1,accountMenu:[]}),computed:{currentUser:()=>Object(i.b)()||{},role(){return this.currentUser.role||{}}},created(){const t=[{items:[{key:\"account\",path:\"/dashboard/account\",name:\"Account Settings\"},{key:\"logout\",click:()=>Object(n.a)(),name:\"Logout\"}]}];this.$set(this,\"accountMenu\",t)},mounted(){Object(r.q)(\"reset-ui\",()=>{this.clickHandler()})},methods:{isLoggedIn:i.c,toLabel:r.H,itemClick(t){\"function\"==typeof t.click&&t.click(),this.clickHandler()},clickHandler(){this.toggle&&(this.toggle=!1,document.removeEventListener(\"click\",this.clickHandler,!1))},setToggle(){Object(i.c)()||Object(r.i)(\"sign-in-modal\"),this.toggle?(this.toggle=!1,document.removeEventListener(\"click\",this.clickHandler,!1)):(this.toggle=!0,document.addEventListener(\"click\",this.clickHandler,!1))}}}),c=s(93);var d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"account-menu\"},[t._ssrNode('<span data-test=\"account-menu-toggle\"'+t._ssrClass(\"account-menu-toggle\",t.toggle?\"active\":\"inactive\")+\">\",\"</span>\",[t._ssrNode((t.showName?'<div class=\"display-name\">'+t._ssrEscape(t._s(t.currentUser.displayName))+\"</div>\":\"\\x3c!----\\x3e\")+\" \"),s(\"factor-avatar\",{attrs:{width:\"2rem\",\"post-id\":t.currentUser.avatar}})],2),t._ssrNode(\" \"),s(\"transition\",{attrs:{name:\"leftfade\"}},[t.toggle?s(\"div\",{staticClass:\"account-menu-nav\",on:{click:function(t){t.stopPropagation()}}},[s(\"div\",{staticClass:\"nav-pad\"},[s(\"div\",{staticClass:\"user-basics\"},[t.isLoggedIn()?s(\"factor-avatar\",{attrs:{\"post-id\":t.currentUser.avatar,width:\"2.5em\"}}):t._e(),t._v(\" \"),s(\"div\",{staticClass:\"content\",attrs:{\"data-uid\":t.currentUser._id}},[s(\"div\",{staticClass:\"name\"},[t._v(t._s(t.currentUser.displayName||t.currentUser.email))]),t._v(\" \"),t.role.title?s(\"div\",{staticClass:\"privs\"},[s(\"span\",{staticClass:\"status\"},[t._v(t._s(t.toLabel(t.role.title)))])]):t._e()])],1),t._v(\" \"),s(\"div\",{staticClass:\"account-nav-items\"},t._l(t.accountMenu,(function(e,a){return s(\"div\",{key:a,staticClass:\"list-group\"},[e.title?s(\"div\",{staticClass:\"list-group-title\"},[t._v(t._s(e.title))]):t._e(),t._v(\" \"),t._l(e.items,(function(e,a){return s(\"factor-link\",{key:a,attrs:{path:e.path,query:e.query,\"data-test\":\"account-nav-\"+e.key},on:{click:function(s){return t.itemClick(e)}}},[t._v(t._s(e.name))])}))],2)})),0)])]):t._e()])],2)}),[],!1,(function(t){var e=s(120);e.__inject__&&e.__inject__(t)}),null,\"97a25c80\");e.default=d.exports},,,function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(0),n=s(12),r=s(2),o=s.n(r).a.extend({components:{factorLink:a.x},props:{postId:{type:String,default:\"\"}},data:()=>({factorBtn:a.b}),computed:{post(){return this.postId?Object(i.D)(this.postId):{}},editText(){return this.meta&&this.meta.nameSingle?`Edit ${this.meta.nameSingle}`:\"Edit\"},meta(){return this.post.postType?Object(i.k)(this.post.postType):{}},author(){return this.post&&this.post.author?this.post.author:[]},accessLevel(){const t=Object(n.b)();return t?t.accessLevel:0},canEdit(){return this.accessLevel>100||this.author.includes(Object(n.f)())}}}),l=s(93),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.postId&&t.canEdit?s(\"factor-link\",{staticClass:\"edit\",attrs:{path:\"/dashboard/posts/\"+t.post.postType+\"/edit\",query:{_id:t.post._id}}},[t._v(t._s(t.editText)+\" →\")]):t._e()}),[],!1,null,null,\"34174afb\");e.default=c.exports},,,,function(t,e,s){\"use strict\";function a(t,e,s,a,i,n,r,o){var l,c=\"function\"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),a&&(c.functional=!0),n&&(c._scopeId=\"data-v-\"+n),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=o?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}s.d(e,\"a\",(function(){return a}))},function(t,e,s){\"use strict\";s.d(e,\"b\",(function(){return r})),s.d(e,\"a\",(function(){return o}));var a=s(0),i=s(12),n=s(55);const r=async t=>{await Object(i.g)();const e=[\"dashboard\",\"account\",\"action\"];Object(i.e)({accessLevel:100})&&e.push(\"admin\");const r={};return e.forEach(e=>{const i=Object(a.f)(`${e}-menu`,[]);r[e]=i.map(i=>{const r=Object(n.i)(i.path),o=i.icon?i.icon:s(141);let l=r==t;const c=Object(a.f)(`${e}-menu-${i.group}`,i.items||[]).map(e=>{const s=Object(n.i)(e.path,r),a=s==t;return a&&(l=a),{...e,path:s,active:a}});return{...i,icon:o,active:l,path:r,items:c}})}),r},o=(t,e)=>{let s=[];return s=\"app\"==e?[{name:\"Visit Site &rarr;\",path:\"/\"}]:[{name:\"Documentation\",path:\"https://factor.dev\"},{name:\"Community\",path:\"https://link.fiction.com/slack\"},{name:\"Support\",path:\"https://link.fiction.com/slack\"}],s.map(e=>({...e,active:e.path==t}))}},function(t,e){},,function(t,e){},function(t,e){},,,,,function(t,e){},,,function(t,e){},,function(t,e){},function(t,e){},function(t,e){},,,function(t,e){},,function(t,e){},,,,,function(t,e){},,,,function(t,e){},,function(t,e){},function(t,e){},,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,s){t.exports=s.p+\"select-5cb6a946.svg\"},function(t,e){},,function(t,e){},function(t,e){},function(t,e,s){t.exports=s.p+\"generic-aa7736a5.svg\"},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,s){\"use strict\";s.r(e);var a=s(59),i=s(6),n=s(4),r=s(70),o=s.n(r),l=s(71),c=s.n(l),d=s(72),u=s.n(d),p=s(73),h=s.n(p),v=s(74),m=s.n(v),f=s(0);let _;var g=s(2),b=s.n(g).a.extend({components:{factorPostEdit:a.a},props:{postId:{type:String,default:\"\"}},computed:{post:()=>Object(f.D)(\"post\")||{},settings(){return this.post.settings||{}}},methods:{renderMarkdown:(t=\"\",e)=>{const s=(_||(_=o()({html:!0,linkify:!0,typographer:!1,breaks:!0}),_.use(c.a,{slugify:i.k}),_.use(u.a),_.use(h.a),_.use(m.a,{dataType:!0,figcaption:!0,tabindex:!1,link:!0})),_);if(\"string\"==typeof t){const{variables:a}=e||{};return a&&(t=t.replace(/{{([\\S\\s]+?)}}/g,t=>{const e=t.replace(/[{}]/g,\"\");let s=Object(i.b)({key:e,settings:Object(n.b)()});return s||(s=Object(f.y)(e)),s||\"\"})),s.render(t,e)}return\"\"}},templateSettings:()=>[{_id:\"headerAlignment\",input:\"select\",label:\"Header Alignment\",description:\"Alignment of the page header\",list:[\"left\",\"center\",\"right\"],default:\"left\"}]}),y=s(93);var x=Object(y.a)(b,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"long-form\"},[t.post.title?t._ssrNode('<div class=\"title\"'+t._ssrStyle(null,{textAlign:t.settings.headerAlignment||\"left\"},null)+\">\",\"</div>\",[s(\"h1\",{directives:[{name:\"formatted-text\",rawName:\"v-formatted-text\",value:t.post.title,expression:\"post.title\"}]},[])]):t._e(),t._ssrNode(\" \"),s(\"div\",{directives:[{name:\"formatted-text\",rawName:\"v-formatted-text\",value:t.renderMarkdown(t.post.content),expression:\"renderMarkdown(post.content)\"}],staticClass:\"content entry-content\"},[]),t._ssrNode(\" \"),s(\"factor-post-edit\",{attrs:{\"post-id\":t.post._id}})],2)}),[],!1,(function(t){var e=s(97);e.__inject__&&e.__inject__(t)}),null,\"16d0a272\");e.default=x.exports},,function(t,e,s){\"use strict\";s.r(e);var a=s(2),i=s.n(a).a.extend({metaInfo(){return{title:`${this.errorText} Error`,description:`Looks like you've hit a ${this.errorText} error.`,meta:[{name:\"robots\",content:\"noindex\"}]}},computed:{errorText(){return this.$route.meta.error||404},title(){return this.details.title},subTitle(){return this.details.subTitle},details(){let t;return t=403==this.$route.meta.error?{title:\"403 Error\",subTitle:\"You don't have permissions to access this page\"}:{title:\"404 Error\",subTitle:\"This page doesn't exist.\"},t}},created(){process&&(process.env.factorServerStatus=\"404\")}}),n=s(93);var r=Object(n.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\",{staticClass:\"fallback-page\"},[this._ssrNode('<div class=\"fallback-page-pad\"><div class=\"title\">'+this._ssrEscape(this._s(this.title))+'</div> <div class=\"sub-title\">'+this._ssrEscape(this._s(this.subTitle))+\"</div></div>\")])}),[],!1,(function(t){var e=s(95);e.__inject__&&e.__inject__(t)}),null,\"4caeb781\");e.default=r.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(2),i=s.n(a).a.extend({}),n=s(93),r=Object(n.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"content-layout\"},[e(\"router-view\")],1)}),[],!1,null,null,\"446659c2\");e.default=r.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(2),n=s.n(i).a.extend({components:{factorBtnBase:a.c}}),r=s(93);var o=Object(r.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)(\"factor-btn-base\",this._g(this._b({staticClass:\"app-btn\"},\"factor-btn-base\",this.$attrs,!1),this.$listeners),[this._t(\"default\")],2)}),[],!1,(function(t){var e=s(98);e.__inject__&&e.__inject__(t)}),null,\"010499c6\");e.default=o.exports},,,,function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(5),n=s(2),r=s.n(n).a.extend({components:{factorIcon:a.g},inheritAttrs:!1,props:{vis:{type:Boolean,default:!1},title:{type:String,default:\"\"},sub:{type:String,default:\"\"},modalClass:{type:String,default:\"\"}},data:()=>({appended:!1}),watch:{$route(t,e){t.path!=e.path&&this.vis&&this.$emit(\"update:vis\",!1)},vis:function(t){this.handleCloseEvents(t),Object(i.a)(\"modal\",t)}},mounted(){this.$nextTick(()=>{this.$el.parentNode.removeChild(this.$el);const t=document.querySelector(\"#app\");t&&t.append(this.$el),this.appended=!0})},methods:{escapeHandler(t){27===t.keyCode&&(this.close(),window.removeEventListener(\"keydown\",this.escapeHandler))},clickHandler(){this.close(),window.removeEventListener(\"click\",this.clickHandler)},close:function(){this.$emit(\"update:vis\",!1),this.$emit(\"close\")},handleCloseEvents(t){t?setTimeout(()=>{window.addEventListener(\"keydown\",this.escapeHandler),window.addEventListener(\"click\",this.clickHandler)},200):(window.removeEventListener(\"keydown\",this.escapeHandler),window.removeEventListener(\"click\",this.clickHandler))}}}),o=s(93);var l=Object(o.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"transition\",{attrs:{name:\"scaleInModal\"}},[t.vis&&t.appended?s(\"div\",{staticClass:\"el-modal\",class:t.modalClass,attrs:{\"data-test\":\"modal-window\"}},[s(\"div\",{staticClass:\"el-modal-wrap\"},[s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.vis,expression:\"vis\"}],staticClass:\"el-modal-content\",on:{click:function(t){t.stopPropagation()}}},[s(\"div\",{staticClass:\"el-modal-pad modal-content\",attrs:{\"data-test\":\"modal-content\"}},[s(\"span\",{staticClass:\"close\",on:{click:function(e){return e.stopPropagation(),t.close(e)}}},[s(\"factor-icon\",{attrs:{icon:\"fas fa-times\"}})],1),t._v(\" \"),s(\"div\",{staticClass:\"modal-text\"},[s(\"div\",{staticClass:\"modal-text-content\"},[t.title?s(\"div\",{staticClass:\"modal-header\"},[s(\"h3\",{staticClass:\"title\"},[t._v(t._s(t.title))]),t._v(\" \"),s(\"div\",{staticClass:\"sub-title\"},[t._v(t._s(t.sub))])]):t._e(),t._v(\" \"),t._t(\"default\")],2)])])])])]):t._e()])}),[],!1,(function(t){var e=s(103);e.__inject__&&e.__inject__(t)}),null,\"6f2c1917\");e.default=l.exports},,,function(t,e,s){\"use strict\";s.r(e);var a=s(55),i=s(56),n=s(0),r=s(2),o=s.n(r).a.extend({components:{dashboardInput:a.a},props:{postId:{type:String,required:!0}},data:()=>({}),computed:{post:{get(){return Object(n.D)(this.postId)||{}},set(t){Object(n.C)(this.postId,t)}},pageTemplates(){var t;return(null!==(t=Object(i.a)())&&void 0!==t?t:[]).map(t=>(t.slug&&!t.value&&(t.value=t.slug),t))}},watch:{},methods:{getPageTemplates:i.a}}),l=s(93),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"edit-page-templates\"},[s(\"dashboard-input\",{attrs:{list:t.pageTemplates,input:\"factor-input-select\",label:\"Page Template\"},model:{value:t.post.template,callback:function(e){t.$set(t.post,\"template\",e)},expression:\"post.template\"}})],1)}),[],!1,null,null,\"41c9f01b\");e.default=c.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(55),i=s(56),n=s(0),r=s(2),o=s.n(r).a.extend({components:{dashboardInput:a.a},props:{postId:{type:String,required:!0}},data:()=>({template:\"\",settings:{},pageTemplateInfo:{}}),computed:{post:{get(){return Object(n.D)(this.postId)||{}},set(t){Object(n.C)(this.postId,t)}},fields(){return this.pageTemplateInfo.fields||this.postTypeSettings},postType(){return this.$route.params.postType||\"\"},postTypeConfig(){return Object(n.k)(this.postType)},postTypeSettings(){return this.postTypeConfig.templateSettings||[]}},watch:{settings:{handler:function(t){this.post={...this.post,settings:t}},deep:!0},template:{handler:function(t){this.setPageTemplate(t)}},\"post.template\":{handler:function(t){t&&t!=this.template&&(this.template=t)},immediate:!0},\"post.settings\":{handler:function(t){t&&t!=this.settings&&(this.settings=t)},immediate:!0}},mounted(){this.setTemplateDefaults()},methods:{getPageTemplates:i.a,async setPageTemplate(t){this.pageTemplateInfo=await Object(i.b)(t),this.setTemplateDefaults()},setTemplateDefaults(){this.fields.forEach(t=>{const e=t._id;let s;void 0===this.settings[e]&&t.default&&(s=t.settings&&t.default&&Array.isArray(t.settings)&&Array.isArray(t.default)?t.default.map(e=>(t.settings&&t.settings.forEach(t=>{void 0===e[t._id]&&t.default&&(e[t._id]=t.default)}),e)):t.default,this.$set(this.settings,e,s))})}}}),l=s(93);var c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"edit-page-templates\"},[0==t.fields.length?t._ssrNode('<div class=\"no-options\">',\"</div>\",[t._ssrNode(\"No settings available for selected template.\")],2):t._l(t.fields,(function(e,a){return s(\"dashboard-input\",{key:a,class:[\"engine-input\",e.input],attrs:{list:e.list,input:\"factor-input-\"+e.input,label:e.label,description:e.description,inputs:e.settings||[],\"post-id\":t.postId},model:{value:t.settings[e._id],callback:function(s){t.$set(t.settings,e._id,s)},expression:\"settings[field._id]\"}})}))],2)}),[],!1,(function(t){}),null,\"ee9bf512\");e.default=c.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(56),n=s(0),r=s(2),o=s.n(r).a.extend({components:{factorLoadingRing:a.y,factorError404:a.e},data:()=>({comp:null,settings:\"\"}),computed:{post:()=>Object(n.D)(\"post\")||{},templateLocation(){return this.post.template?this.post.template:\"default\"},templateLoader(){const t=Object(i.a)().find(t=>t.slug==this.templateLocation);return t&&t.component?t.component:()=>s.e(0).then(s.bind(null,150))}}}),l=s(93);var c=Object(l.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"page\"},[this.post.loading?this._ssrNode('<div class=\"post-loading\">',\"</div>\",[e(\"factor-loading-ring\")],1):this.post._id?this._ssrNode(\"<div>\",\"</div>\",[e(this.templateLoader,{tag:\"component\",attrs:{\"post-id\":this.post._id,post:this.post}})],1):e(\"factor-error-404\")],1)}),[],!1,(function(t){var e=s(124);e.__inject__&&e.__inject__(t)}),null,\"6d4c6a29\");e.default=c.exports},,,function(t,e,s){\"use strict\";s.r(e);var a=s(0),i=s(12),n=s(2),r=s.n(n).a.extend({props:{width:{type:String,default:\"\"},postId:{type:String,default:\"\"},url:{type:String,default:\"\"},loading:{type:Boolean,default:!1}},data:()=>({init:!0}),computed:{hasImage(){return!!this.src},avatar(){return Object(a.D)(this.postId)||{}},src(){return this.avatar&&this.avatar.url?this.avatar.url:this.url?this.url:\"\"}},async mounted(){await Object(i.g)(),this.init=!1},methods:{getStyle(t={}){const e=this.width;return{...this.width?{width:e,height:e}:{},...t}}}}),o=s(93);var l=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(\"div\",{staticClass:\"avatar\"},[t._ssrNode(t.hasImage?'<div class=\"thumb thumb-src\"'+t._ssrStyle(null,t.getStyle({backgroundImage:\"url(\"+t.src+\")\"}),null)+\"></div>\":t.hasImage?\"\\x3c!----\\x3e\":'<div class=\"thumb thumb-default\"'+t._ssrStyle(null,t.getStyle(),null)+'><svg version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" class=\"user-blank\" style=\"enable-background:new 0 0 24 24;\"><g class=\"st0\"><path d=\"M12,5c1.7,0,3,1.3,3,3s-1.3,3-3,3S9,9.7,9,8S10.3,5,12,5z M12,19.2c-2.5,0-4.7-1.3-6-3.2c0-2,4-3.1,6-3.1c2,0,6,1.1,6,3.1\\n        C16.7,17.9,14.5,19.2,12,19.2z\"></path></g></svg></div>')])}),[],!1,(function(t){var e=s(126);e.__inject__&&e.__inject__(t)}),null,\"91e04142\");e.default=l.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(2),i=s.n(a).a.extend({props:{save:{type:Boolean,default:!1},watchValid:{type:Object,default:()=>{}}},watch:{save:function(t){t&&(this.$refs.send.click(),this.$emit(\"update:save\",!1))}},mounted(){this.$watch(\"watchValid\",(function(){this.$nextTick(()=>{this.$emit(\"valid\",this.$refs.form.checkValidity())})}),{deep:!0,immediate:!0})},methods:{checkForm(t){t.preventDefault(),this.$emit(\"submit\",t)}}}),n=s(93);var r=Object(n.a)(i,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(\"form\",{ref:\"form\",staticClass:\"wrap-form\",attrs:{autocomplete:\"on\"},on:{submit:function(e){return t.checkForm(e)}}},[t._t(\"default\"),t._ssrNode(' <input type=\"submit\" value=\"submit\" class=\"submit\">')],2)}),[],!1,(function(t){var e=s(127);e.__inject__&&e.__inject__(t)}),null,\"249bc7cd\");e.default=r.exports},,,function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(0),n=s(2),r=s.n(n).a.extend({components:{factorBtn:a.b,factorIcon:a.g,factorInputText:a.t,factorInputSelect:a.p},props:{value:{type:Array,default:()=>[]},list:{type:Array,default:void 0},min:{type:[Number,String],default:0},max:{type:[Number,String],default:10}},data:()=>({tags:[],addedText:\"\"}),computed:{tagNumber(){return this.tags.length},addedSlug(){return Object(i.A)(this.addedText)},parsedList(){return this.list?Object(i.r)(this.list):[]}},mounted(){setTimeout(()=>this.setValidity(),500),this.$watch(\"value\",(function(t){t&&!Object(i.n)(t,this.tags)&&(this.tags=t)}),{immediate:!0,deep:!0})},methods:{toLabel:i.H,setValidity(){const t=this.list?this.$refs.selectField:this.$refs.textField,e=null==t?void 0:t.$el;if(e)if(this.tags.length<this.min){const t=`Minimum ${this.min} Needed (${this.tags.length} added)`;e.setCustomValidity(t)}else e.setCustomValidity(\"\")},getListItemName(t){const e=this.parsedList.find(e=>e.value==t);return e?e.name:Object(i.H)(t)},addTag(){this.addedSlug.length<3?Object(i.i)(\"notify\",\"Tags require at least 3 characters\"):(this.addedSlug&&!this.tags.includes(this.addedSlug)&&(this.tags.push(this.addedSlug),this.setValidity(),this.$emit(\"input\",this.tags)),this.addedText=\"\")},removeTag(t){this.tags.splice(t,1),this.$emit(\"input\",this.tags)}}}),o=s(93);var l=Object(o.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"tag-input\",on:{keydown:function(t){t.stopPropagation()}}},[t.list?t._ssrNode('<div class=\"the-input\">',\"</div>\",[s(\"factor-input-select\",{ref:\"selectField\",attrs:{list:t.parsedList,disabled:t.tagNumber>=t.max},on:{input:function(e){return t.addTag()}},model:{value:t.addedText,callback:function(e){t.addedText=e},expression:\"addedText\"}})],1):t._ssrNode('<div class=\"the-input\">',\"</div>\",[s(\"factor-input-text\",{ref:\"textField\",attrs:{disabled:t.tagNumber>=t.max,type:\"text\",placeholder:\"Enter tag\"},on:{keydown:function(e){return!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:(e.preventDefault(),t.addTag(e))}},model:{value:t.addedText,callback:function(e){t.addedText=e},expression:\"addedText\"}}),t._ssrNode(\" \"),s(\"factor-btn\",{attrs:{btn:\"default\",disabled:t.tagNumber>=t.max},on:{click:function(e){return t.addTag()}}},[t._v(\"→\")])],2),t._ssrNode(\" \"),t.tags.length>0?t._ssrNode('<div class=\"the-tags\">',\"</div>\",t._l(t.tags,(function(e,a){return t._ssrNode('<div class=\"tag\">',\"</div>\",[t._ssrNode('<span class=\"tx\">'+t._ssrEscape(t._s(t.list?t.getListItemName(e):e))+\"</span> \"),t._ssrNode('<span class=\"rm\">',\"</span>\",[s(\"factor-icon\",{attrs:{icon:\"fas fa-times\"}})],1)],2)})),0):t._e()],2)}),[],!1,(function(t){var e=s(129);e.__inject__&&e.__inject__(t)}),null,\"483786bc\");e.default=l.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(0),n=s(5),r=s(58),o=s(2),l=s.n(o).a.extend({components:{factorLoadingRing:a.y},props:{value:{type:String,default:\"\"},postId:{type:String,default:\"\"},imageInputSelector:{type:String,default:\"post-images\"}},data:()=>({editor:null,session:null,content:\"\",loading:!0,destroyed:!1}),computed:{listeners(){return{...this.$listeners,change:t=>this.$emit(\"input\",t.target.value)}}},watch:{value:function(t){this.easyMDE&&this.easyMDE.value()!=t&&this.easyMDE.value(t)}},beforeDestroy(){this.destroyed=!0},async mounted(){await this.initializeEditor(),this.loading=!1},methods:{async initializeEditor(){await Object(i.J)(100);const t=this.postId?{enabled:!0,uniqueId:this.postId,delay:5e3}:void 0,e=await Promise.resolve().then(s.t.bind(null,90,7));this.destroyed||(this.easyMDE=new e.default({element:this.$refs.editor,minHeight:\"200px\",spellChecker:!1,forceSync:!0,autoDownloadFontAwesome:!1,shortcuts:{drawImage:\"Shift-Cmd-I\"},autosave:t,toolbar:[\"bold\",\"italic\",\"strikethrough\",\"code\",\"quote\",\"heading\",\"|\",\"unordered-list\",\"ordered-list\",\"|\",\"link\",\"image\",\"table\",\"|\",\"preview\",\"side-by-side\",\"fullscreen\",\"guide\"],uploadImage:!0,imageUploadFunction:(t,e,s)=>{Object(r.b)({file:t,onError:t=>{var e;s(null!==(e=t.message)&&void 0!==e?e:\"There was an error\")},onFinished:t=>{e(t.url),Object(n.a)(\"addImageToInput\",{selector:this.imageInputSelector,_id:t._id})}})}}),Object(n.b)(\"focus-editor\",()=>{this.easyMDE.codemirror.focus()}),Object(n.b)(\"save-post\",()=>{this.easyMDE.clearAutosavedValue()}),this.easyMDE.codemirror.on(\"change\",()=>{this.$emit(\"input\",this.easyMDE.value())}))}}}),c=s(93);var d=Object(c.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"editor-input\"},[this._ssrNode('<div class=\"editor-wrap\"'+this._ssrStyle(null,null,{display:this.loading?\"none\":\"\"})+\"><textarea\"+this._ssrAttr(\"value\",this.value)+\"></textarea></div> \"),this.loading?e(\"factor-loading-ring\"):this._e()],2)}),[],!1,(function(t){var e=s(130);e.__inject__&&e.__inject__(t)}),null,\"538287b6\");e.default=d.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(0),i=s(2),n=s.n(i).a.extend({components:{\"date-picker\":()=>Promise.resolve().then(s.t.bind(null,91,7))},props:{value:{type:String,default:null}},data:()=>({date:null}),computed:{val(){return this.value?Object(a.G)(this.value):\"\"},listeners(){return{...this.$listeners,input:t=>{this.$emit(\"input\",t.toISOString())}}}},methods:{clk(){this.$refs.picker.showCalendar()}}}),r=s(93);var o=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"date-input\",attrs:{id:\"sel\"}},[e(\"date-picker\",this._g({ref:\"picker\",staticClass:\"date-picker\",attrs:{value:this.val,\"calendar-class\":\"date-picker-cal\",format:\"yyyy-M-d\"}},this.listeners))],1)}),[],!1,(function(t){var e=s(131);e.__inject__&&e.__inject__(t)}),null,\"733b25b7\");e.default=o.exports},,,function(t,e,s){\"use strict\";s.r(e);var a=s(68),i=s.n(a),n=s(2),r=s.n(n).a.extend({props:{value:{type:[String,Number],default:\"\"}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit(\"input\",t.target.value)}}},mounted(){this.$watch(\"value\",(function(){this.setHeight()}),{immediate:!0})},methods:{setHeight(){const t=i()(this.$refs.textarea);if(0!=t.length){const e=t.height(0).get(0).scrollHeight;t.height(e)}}}}),o=s(93);var l=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(\"textarea\",t._g(t._b({ref:\"textarea\",staticClass:\"standard-textarea\",class:t.value?\"set\":\"empty\",attrs:{required:t.$attrs.required,placeholder:t.$attrs.placeholder},domProps:{value:t.value},on:{input:function(e){return t.setHeight()}}},\"textarea\",t.$attrs,!1),t.listeners),[])}),[],!1,(function(t){var e=s(132);e.__inject__&&e.__inject__(t)}),null,\"f846b27a\");e.default=l.exports},,,function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(6),n=s(68),r=s.n(n),o=s(69),l=s.n(o),c=s(2),d=s.n(c).a.extend({components:{factorBtnDashboard:a.d,factorIcon:a.g,factorInputWrap:a.v},props:{value:{type:[Array,Object],default:()=>[]},inputs:{type:Array,default:()=>[]}},data:()=>({selected:0}),computed:{localValue:{get(){return this.ensure(this.value)},set(t){this.$emit(\"input\",t)}}},mounted(){this.sortItems()},methods:{ensure:t=>t.map(t=>(t.__key||(t.__key=Object(i.c)()),t)),sortItems(){l.a.create(this.$refs.organizer,{filter:\".ignore-sortable\",ghostClass:\"sortable-ghost\",onUpdate:t=>{const e=this.localValue.slice();if(t.oldIndex&&e[t.oldIndex]){const s=e.splice(t.oldIndex,1);e.splice(t.newIndex,0,s[0]),this.localValue=e,this.selected=t.newIndex}},onMove:t=>!r()(t.related).hasClass(\"ignore-sortable\")})},addItem(){const t=this.localValue.slice();t.push({__title:\"\",__key:Object(i.c)()}),this.localValue=t},removeItem(t){const e=this.localValue.slice();e.splice(t),this.localValue=e,t==this.selected&&(this.selected=0)},getValue(t){return this.localValue[this.selected]?this.localValue[this.selected][t]:null},setValue(t,e){const s=this.localValue.slice();s[this.selected]=Object.assign({},s[this.selected],{[t]:e}),this.localValue=s}}}),u=s(93);var p=Object(u.a)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"sortable-input\"},[t._ssrNode('<div class=\"sortable-items\">',\"</div>\",[t._ssrNode('<div class=\"controls\">',\"</div>\",[t._ssrNode(t._ssrList(t.localValue,(function(e,s){return\"<div\"+t._ssrClass(\"sortable-item\",s==t.selected?\"active\":\"inactive\")+'><div class=\"handle\">'+(e.__title?\"<span>\"+t._ssrEscape(t._s(e.__title))+\"</span>\":\"\\x3c!----\\x3e\")+' <span class=\"icon\">→</span></div></div>'}))+\" \"),s(\"factor-btn-dashboard\",{attrs:{btn:\"primary\"},on:{click:function(e){return t.addItem()}}},[t._v(\"+\")])],2),t._ssrNode(\" \"),t._ssrNode('<div class=\"inputs\">',\"</div>\",[t._ssrNode('<div class=\"title\">',\"</div>\",[t._ssrNode('<input type=\"text\" placeholder=\"Edit Title\"'+t._ssrAttr(\"size\",t.getValue(\"__title\")?t.getValue(\"__title\").length+2:8)+t._ssrAttr(\"value\",t.getValue(\"__title\"))+' class=\"title-input\"> '),t._ssrNode('<span class=\"edit-me\">',\"</span>\",[s(\"factor-icon\",{attrs:{icon:\"fas fa-pencil\"}})],1)],2),t._ssrNode(\" \"),t._l(t.inputs,(function(e,a){return s(\"factor-input-wrap\",t._b({key:a,class:[\"engine-input\",e.input],attrs:{value:t.getValue(e._id),input:\"factor-input-\"+e.input,label:e.label,description:e.description,inputs:e.inputs||[],\"data-test\":\"input-\"+e._id+\"-\"+(t.selected+1)},on:{input:function(s){return t.setValue(e._id,s)}}},\"factor-input-wrap\",t.$attrs,!1))})),t._ssrNode(\" \"),t._ssrNode(\"<div>\",\"</div>\",[s(\"factor-btn-dashboard\",{attrs:{size:\"small\"},on:{click:function(e){return t.removeItem(t.selected)}}},[t._v(\"Remove Item\")])],1)],2)],2)])}),[],!1,(function(t){var e=s(133);e.__inject__&&e.__inject__(t)}),null,\"5127ec81\");e.default=p.exports},,function(t,e,s){\"use strict\";s.r(e);var a=s(0),i=s(2),n=s.n(i).a.extend({props:{value:{type:[Number,String,Boolean],default:\"\"},list:{type:Array,default:()=>[]},listSuffix:{type:String,default:\"\"}},data:()=>({selected:\"\"}),computed:{listeners(){return{...this.$listeners,input:t=>{const e=t.target;this.$emit(\"input\",e.value)}}},setting(){return void 0!==this.value?this.value:void 0},parsedList(){return this.list?Object(a.r)(this.list,{suffix:this.listSuffix}):[]},inputStyle:()=>({backgroundImage:`url(${s(136)})`})}}),r=s(93);var o=Object(r.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(\"select\",t._g({staticClass:\"select-standard\",style:t.inputStyle,attrs:{required:t.$attrs.required},domProps:{value:t.setting}},t.listeners),[t._ssrNode('<option disabled=\"disabled\" value>'+t._ssrEscape(t._s(t.$attrs.placeholder||\"Select\"))+\"</option> \"+t._ssrList(t.parsedList,(function(e,s){return\"<option\"+t._ssrAttr(\"disabled\",e.disabled)+t._ssrAttr(\"value\",e.value)+\">\"+t._ssrEscape(t._s(e.label||e.name))+\"</option>\"})))])}),[],!1,(function(t){var e=s(137);e.__inject__&&e.__inject__(t)}),null,\"4d933bc5\");e.default=o.exports},,,function(t,e,s){\"use strict\";s.r(e);var a=s(55),i=s(12),n=s(17),r=s(0),o=s(13),l=s(2),c=s.n(l).a.extend({name:\"UserList\",components:{dashboardPane:a.e,dashboardTableFooter:a.f,dashboardListPost:a.c,dashboardListControls:a.b},props:{title:{type:String,default:\"\"},list:{type:Array,default:()=>[]},meta:{type:Object,default:()=>{}},loading:{type:Boolean,default:!1}},data:()=>({selected:[],loadingAction:!1}),computed:{currentUser:i.b,roles:()=>[\"admin\",\"moderator\",\"editor\",\"member\"]},methods:{toLabel:r.H,standardDate:r.B,controlStatus(){var t;const e={};return[\"admin\",\"moderator\",\"editor\",\"member\"].forEach(t=>{e[t]=Object(n.c)({meta:this.meta,field:\"role\",key:t})}),[{value:\"\",label:`All (${null!==(t=this.meta.totalForQuery)&&void 0!==t?t:0})`},{value:\"admin\",label:`Admin (${e.admin})`},{value:\"moderator\",label:`Moderator (${e.moderator})`},{value:\"editor\",label:`Editor (${e.editor})`},{value:\"member\",label:`Member (${e.member})`}]},controlActions(){const t=[];return Object(i.e)({accessLevel:400})&&(t.push({value:\"delete\",label:\"Permanently Delete\",confirm:t=>`Permanently delete ${t.length} user(s)?`}),this.roles.forEach(e=>{t.push({value:e,label:`Change to ${Object(r.H)(e)}`,confirm:t=>`Change ${t.length} user(s) to \"${e}\" role?`})})),t},postItemMeta:t=>[{value:Object(r.H)(t.role||\"no role\")},{label:\"Username\",value:t.username||t.email},{label:\"Since\",value:Object(r.B)(t.createdAt)}],async handleAction(t){this.loadingAction=!0,\"delete\"==t?await Object(o.a)({_ids:this.selected,postType:this.postType}):[\"admin\",\"moderator\",\"editor\",\"member\"].includes(t)&&await Object(o.f)({_ids:this.selected,data:{role:t},postType:\"user\"}),Object(r.i)(\"refresh-table\"),this.selected=[],this.loadingAction=!1},selectAll(t){this.selected=t?this.list.map(t=>t._id):[]}}}),d=s(93);var u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"dashboard-pane\",{attrs:{title:t.title}},[s(\"dashboard-list-controls\",{attrs:{\"control-actions\":t.controlActions(),\"control-status\":t.controlStatus(),\"status-field\":\"role\",selected:t.selected,loading:t.loading,list:t.list},on:{action:function(e){return t.handleAction(e)},\"select-all\":function(e){return t.selectAll(e)}}}),t._v(\" \"),t._l(t.list,(function(e){return s(\"dashboard-list-post\",{key:e._id,attrs:{post:e,title:e.displayName||\"No Name\",\"sub-title\":e.email,meta:t.postItemMeta(e)},model:{value:t.selected,callback:function(e){t.selected=e},expression:\"selected\"}})})),t._v(\" \"),s(\"dashboard-table-footer\",t._b({attrs:{meta:t.meta}},\"dashboard-table-footer\",t.$attrs,!1))],2)}),[],!1,(function(t){var e=s(106);e.__inject__&&e.__inject__(t)}),null,\"1a465e90\");e.default=u.exports},,function(t,e,s){\"use strict\";s.r(e);var a=s(2),i=s.n(a).a.extend({}),n=s(93);var r=Object(n.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\",{staticClass:\"app-footer\"},[this._ssrNode('<div class=\"footer-pad\"><div class=\"legal\"><div class=\"copyright\">\\n        Powered by\\n        <a href=\"https://factor.dev\" target=\"_blank\" rel=\"noopener noreferrer\">Factor</a></div></div></div>')])}),[],!1,(function(t){var e=s(139);e.__inject__&&e.__inject__(t)}),null,\"f46fb556\");e.default=r.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(2),n=s.n(i).a.extend({components:{factorBtnDashboard:a.d},props:{pageCount:{type:Number,default:0},pageCurrent:{type:Number,default:0},count:{type:Number,default:0}},methods:{page(t){const e=parseInt(this.pageCurrent);let s;\"next\"==t&&e!==this.pageCount?s=e+1:e>1&&(s=e-1),s&&this.$router.push({query:{...this.$route.query,page:s}})}}}),r=s(93);var o=Object(r.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"pagination\"},[t._ssrNode((t.count&&t.count>0?'<div class=\"items\">'+t._ssrEscape(t._s(t.count)+\" Items\")+\"</div>\":\"\\x3c!----\\x3e\")+\" \"),t.pageCount&&t.pageCurrent?[s(\"factor-btn-dashboard\",{attrs:{disabled:1==t.pageCurrent},on:{click:function(e){return t.page(\"previous\")}}},[t._v(\"←\")]),t._ssrNode(' <div class=\"sep\">'+t._ssrEscape(t._s(t.pageCurrent)+\" of \"+t._s(t.pageCount))+\"</div> \"),s(\"factor-btn-dashboard\",{attrs:{disabled:t.pageCurrent==t.pageCount},on:{click:function(e){return t.page(\"next\")}}},[t._v(\"→\")])]:t._e()],2)}),[],!1,(function(t){var e=s(140);e.__inject__&&e.__inject__(t)}),null,\"2637247e\");e.default=o.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(0),n=s(94),r=s(2),o=s.n(r).a.extend({components:{factorLink:a.x},data:()=>({toggle:!1,clickHandler:!1,menu:{},loading:!1}),computed:{},watch:{$route:function(t,e){t.path!=e.path&&this.setMenu()}},async mounted(){this.loading=!0,await this.setMenu(),this.loading=!1},methods:{toLabel:i.H,slugify:i.A,async setMenu(){this.menu=await Object(n.b)(this.$route.path)}}}),l=s(93);var c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"app-nav-pad\"},[t._ssrNode('<div class=\"nav-list\">',\"</div>\",[t._l([\"account\",\"dashboard\",\"admin\"],(function(e){return[t.menu&&t.menu[e]&&t.menu[e].length>0?t._ssrNode(\"<div\"+t._ssrClass(\"nav-area\",e)+\">\",\"</div>\",[t._ssrNode((\"action\"!=e&&\"account\"!=e?'<div class=\"area-title\">'+t._ssrEscape(t._s(t.toLabel(e)))+\"</div>\":\"\\x3c!----\\x3e\")+\" \"),t._l(t.menu[e],(function(e,a){return[t._ssrNode(\"<div\"+t._ssrClass(\"nav-group\",e.active?\"active\":\"\")+\">\",\"</div>\",[s(\"factor-link\",{staticClass:\"menu-item-link\",class:e.active?\"active\":\"not-active\",attrs:{path:e.path,query:e.query,action:e.action},on:{click:function(t){e.click&&e.click()}}},[s(\"div\",{staticClass:\"item-icon\"},[s(\"img\",{attrs:{src:e.icon||t.defaultIcon,alt:e.name+\" Icon\"}})]),t._v(\" \"),s(\"div\",{staticClass:\"item-text\"},[s(\"span\",{directives:[{name:\"formatted-text\",rawName:\"v-formatted-text\",value:e.name,expression:\"item.name\"}]})])]),t._ssrNode(\" \"),e.active&&e.items.length>0?t._ssrNode('<div class=\"sub-menu\">',\"</div>\",[t._ssrNode('<div class=\"sub-menu-links\">',\"</div>\",[t._l(e.items,(function(e){return[e.name?s(\"factor-link\",{key:e.name,staticClass:\"sub-item\",attrs:{path:e.path,query:e.query,action:e.action,\"data-test\":\"app-subnav-\"+t.slugify(e.name)}},[s(\"span\",{directives:[{name:\"formatted-text\",rawName:\"v-formatted-text\",value:e.name,expression:\"subItem.name\"}]})]):t._e()]}))],2)]):t._e()],2)]}))],2):t._e()]}))],2)])}),[],!1,(function(t){var e=s(142);e.__inject__&&e.__inject__(t)}),null,\"73b1e2d9\");e.default=c.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(94),n=s(0),r=s(12),o=s(2),l=s.n(o).a.extend({components:{dashboardIcon:()=>s.e(0).then(s.bind(null,192)),factorAvatar:a.a,factorLink:a.x,mobileMenu:()=>s.e(0).then(s.bind(null,193)),toggleCaret:()=>s.e(0).then(s.bind(null,194))},data:()=>({toggle:\"off\",menuType:\"menu\"}),computed:{currentUser:r.b,iconUrl(){const t=Object(n.y)(\"app.icon\");return\"function\"==typeof t?t():t},appName(){var t;return null!==(t=Object(n.y)(\"app.name\"))&&void 0!==t?t:\"No Name\"},menu(){return Object(i.b)(this.$route.path)},dashboardMenu(){return Object(i.a)(this.$route.path,this.menuType)}},methods:{isLoggedIn:r.c,toLabel:n.H,getUser(t){return this.currentUser?this.currentUser[t]:void 0},toggleNav(t,e){if(!document)return;const s=this.menuType;this.menuType=e,this.toggle=\"toggle\"===t?this.toggle&&\"off\"!=this.toggle&&e===s?\"off\":\"on\":t,this.clickHandler=()=>{this.toggle=\"off\",document.removeEventListener(\"click\",this.clickHandler,!1)},\"on\"==this.toggle?document.addEventListener(\"click\",this.clickHandler,!1):document.removeEventListener(\"click\",this.clickHandler,!1)}}}),c=s(93);var d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"dashboard-head\"},[t._ssrNode('<div class=\"dashboard-head-pad\">',\"</div>\",[t._ssrNode('<div class=\"icon-nav\">',\"</div>\",[t._ssrNode(\"<div\"+t._ssrClass(\"menu-factor menu-toggle\",\"on\"==t.toggle&&\"factor\"==t.menuType?\"open\":\"closed\")+\">\",\"</div>\",[\"on\"==t.toggle&&\"factor\"==t.menuType?t._ssrNode('<div class=\"menu-items\">',\"</div>\",t._l(t.dashboardMenu,(function(e,a){return t._ssrNode('<div class=\"menu-item\">',\"</div>\",[s(\"factor-link\",{directives:[{name:\"formatted-text\",rawName:\"v-formatted-text\",value:e.name,expression:\"item.name\"}],staticClass:\"menu-item-name\",attrs:{path:e.path}})],1)})),0):t._e(),t._ssrNode(\" \"),t._ssrNode('<div class=\"menu-icon\">',\"</div>\",[s(\"dashboard-icon\",{attrs:{icon:\"pin\"}})],1),t._ssrNode(\" \"),\"on\"==t.toggle&&\"factor\"==t.menuType?t._ssrNode('<div class=\"app-name\">',\"</div>\",[t._ssrNode(\"\\n          Factor JS\\n          \"),s(\"toggle-caret\")],2):t._e()],2),t._ssrNode(\" \"),t._ssrNode(\"<div\"+t._ssrClass(\"menu-app menu-toggle\",\"on\"==t.toggle&&\"app\"==t.menuType?\"open\":\"closed\")+\">\",\"</div>\",[\"on\"==t.toggle&&\"app\"==t.menuType?t._ssrNode('<div class=\"menu-items\">',\"</div>\",t._l(t.dashboardMenu,(function(e,a){return t._ssrNode('<div class=\"menu-item\">',\"</div>\",[s(\"factor-link\",{directives:[{name:\"formatted-text\",rawName:\"v-formatted-text\",value:e.name,expression:\"item.name\"}],staticClass:\"menu-item-name\",attrs:{path:e.path}})],1)})),0):t._e(),t._ssrNode(\" \"),t._ssrNode('<div class=\"menu-icon\">',\"</div>\",[s(\"dashboard-icon\",{attrs:{icon:\"globe\"}})],1),t._ssrNode(\" \"),\"off\"==t.toggle||\"on\"==t.toggle&&\"app\"==t.menuType?t._ssrNode('<div class=\"app-name\">',\"</div>\",[s(\"span\",{directives:[{name:\"formatted-text\",rawName:\"v-formatted-text\",value:t.appName,expression:\"appName\"}],staticClass:\"name-text\"},[]),t._ssrNode(\" \"),s(\"toggle-caret\")],2):t._e()],2)],2),t._ssrNode(' <div class=\"filler\"></div> '),t._ssrNode('<div class=\"nav\">',\"</div>\",[t._t(\"default\"),t._ssrNode(\" \"),t._ssrNode('<div class=\"mobile-nav-toggle-wrap\">',\"</div>\",[t._ssrNode(\"<div\"+t._ssrClass(\"mobile-nav-toggle\",\"on\"==t.toggle&&\"dashboard\"==t.menuType?\"active\":\"inactive\")+\">\",\"</div>\",[s(\"factor-avatar\",{attrs:{\"post-id\":t.getUser(\"avatar\"),width:\"2rem\"}}),t._ssrNode(' <div class=\"bars\"><div class=\"bar\"></div> <div class=\"bar\"></div> <div class=\"bar\"></div></div>')],2)])],2),t._ssrNode(\" \"),\"on\"==t.toggle&&\"dashboard\"==t.menuType?t._ssrNode(\"<div\"+t._ssrClass(\"mobile-nav\",[\"menu-panel-\"+t.menuType])+\">\",\"</div>\",[s(\"mobile-menu\",{staticClass:\"menu-panel\"})],1):t._e()],2)])}),[],!1,(function(t){var e=s(143);e.__inject__&&e.__inject__(t)}),null,\"45ded39a\");e.default=d.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(22),i=s(55),n=s(54),r=s(12),o=s(33),l=s(0),c=s(2),d=s.n(c),u=s(57),p=d.a.extend({components:{factorForm:n.f,factorBtn:n.b,dashboardInput:i.a,factorLink:n.x},props:{format:{type:String,default:\"page\"},redirect:{type:String,default:\"\"},initialView:{type:String,default:\"\"}},data:()=>({loading:!1,form:{},newAccount:!1,user:void 0}),computed:{header(){return\"account-created\"==this.view?{title:\"Account Created\",subTitle:\"Good work. Please check your email to confirm your email address.\"}:\"password-email-sent\"==this.view?{title:\"Reset Email Sent\",subTitle:\"Check your inbox for instructions on recovering your password.\"}:\"successful-password-reset\"==this.view?{title:\"Password Changed\",subTitle:\"You've successfully changed your password.\"}:\"forgot-password\"==this.view?{title:\"Password Reset\",subTitle:\"Enter your account email address.\"}:\"reset-password\"==this.view?{title:\"Enter New Password\",subTitle:\"Enter your new password.\"}:Object(r.c)()?{title:\"You are signed in\"}:this.newAccount?{title:\"Sign Up\"}:{title:\"Login\"}},view(){return this.$route.query.view||\"\"},mode(){return this.$route.query.mode||\"continue\"},redirectPath(){const t=\"signin\"==this.$route.name&&\"/\";return this.redirect?this.redirect:this.$route.query.redirect||t}},created(){const{email:t,displayName:e,newAccount:s}=this.$route.query;t&&this.$set(this.form,\"email\",t),e&&this.$set(this.form,\"displayName\",e),void 0!==s&&(this.newAccount=!0),this.initialView&&this.setView(this.initialView)},methods:{sendPasswordResetEmail:o.a,verifyAndResetPassword:o.d,isLoggedIn:r.c,logout:a.a,trigger(t){this.$refs[t].$el.focus(),this.$refs[t].$el.click()},async send({action:t,next:e}){if(!this.$refs[\"signin-form\"].$el.reportValidity())return;this.loading=!0;const s={...this.form,...this.$route.query};try{await t(s),this.setView(e)}catch(t){this.loading=!1}this.loading=!1},async signIn(){if(this.errors=[],!this.$refs[\"signin-form\"].$el.reportValidity())return;let t;this.loading=!0;try{t=await Object(r.a)({...this.form,newAccount:this.newAccount})}catch(t){this.loading=!1}t&&(this.user=t,this.success(t)),this.loading=!1},setView(t){const e={...this.$route.query,view:t};t||delete e.view,e!=this.$route.query&&this.$router.replace({query:e})},done(){this.$emit(\"done\"),\"modal\"!=this.format&&this.setView()},notifySignedIn(){\"modal\"!=this.format&&Object(u.a)()},success(){const t=this.newAccount;this.redirectPath?Object(r.g)(async e=>{e&&e._id&&this.redirectPath&&(await this.$router.push({path:this.redirectPath}),Object(l.J)(1e3),t&&Object(l.i)(\"sign-in-modal\",{view:\"account-created\",user:e}))}):(this.notifySignedIn(),t?this.setView(\"account-created\"):this.done())}}}),h=s(93);var v=Object(h.a)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"signin\",attrs:{\"data-test\":\"signin\"}},[t._ssrNode('<div class=\"signin-header\"><div class=\"title\">'+t._ssrEscape(t._s(t.header.title))+\"</div> \"+(t.header.subTitle?'<div class=\"sub-title\">'+t._ssrEscape(t._s(t.header.subTitle))+\"</div>\":\"\\x3c!----\\x3e\")+\" \"+(t.isLoggedIn()?\"\\x3c!----\\x3e\":t.newAccount&&!t.view?'<div class=\"forgot-password alternative-action-link\">\\n        Have an account?\\n        <a href=\"#\" data-test=\"link-login\">Login →</a></div>':t.view?\"\\x3c!----\\x3e\":'<div class=\"new-account alternative-action-link\">\\n        Don\\'t have an account?\\n        <a href=\"#\" data-test=\"link-register\">Sign Up →</a></div>')+\"</div> \"),s(\"factor-form\",{ref:\"signin-form\"},[\"forgot-password\"==t.view?[s(\"dashboard-input\",{attrs:{\"data-test\":\"input-password-email\",input:\"factor-input-email\",required:\"\",placeholder:\"Email\"},on:{keyup:function(e){return!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:t.trigger(\"forgot-password\")}},model:{value:t.form.email,callback:function(e){t.$set(t.form,\"email\",e)},expression:\"form.email\"}}),t._v(\" \"),s(\"factor-btn\",{ref:\"forgot-password\",attrs:{loading:t.loading,btn:\"primary\",\"data-test\":\"send-password-email\",text:\"Send Password Reset Email\"},on:{click:function(e){return t.send({action:t.sendPasswordResetEmail,next:\"password-email-sent\"})}}})]:\"reset-password\"==t.view?[s(\"dashboard-input\",{attrs:{input:\"factor-input-password\",\"data-test\":\"reset-password\",autocomplete:\"new-password\",required:\"\",placeholder:\"Password\"},on:{keyup:function(e){return!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:t.trigger(\"reset-password\")}},model:{value:t.form.password,callback:function(e){t.$set(t.form,\"password\",e)},expression:\"form.password\"}}),t._v(\" \"),s(\"factor-btn\",{ref:\"reset-password\",attrs:{btn:\"primary\",loading:t.loading,text:\"Reset Password\"},on:{click:function(e){return t.send({action:t.verifyAndResetPassword,next:\"successful-password-reset\"})}}})]:!t.view&&t.isLoggedIn()?[s(\"div\",{staticClass:\"action\"},[s(\"factor-link\",{attrs:{btn:\"primary\",text:\"Account Settings\",path:\"/dashboard/account\"}})],1)]:t.view?t._e():[t.newAccount?s(\"dashboard-input\",{attrs:{input:\"factor-input-text\",\"data-test\":\"signin-name\",required:\"\",placeholder:\"Full Name\"},on:{keyup:function(e){return!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:t.trigger(\"submit\")}},model:{value:t.form.displayName,callback:function(e){t.$set(t.form,\"displayName\",e)},expression:\"form.displayName\"}}):t._e(),t._v(\" \"),s(\"dashboard-input\",{attrs:{input:\"factor-input-email\",\"data-test\":\"signin-email\",required:\"\",placeholder:\"Email\"},on:{keyup:function(e){return!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:t.trigger(\"submit\")}},model:{value:t.form.email,callback:function(e){t.$set(t.form,\"email\",e)},expression:\"form.email\"}}),t._v(\" \"),s(\"dashboard-input\",{attrs:{input:\"factor-input-password\",\"data-test\":\"signin-password\",autocomplete:t.newAccount?\"new-password\":\"current-password\",required:\"\",placeholder:\"Password\"},on:{keyup:function(e){return!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:t.trigger(\"submit\")}},model:{value:t.form.password,callback:function(e){t.$set(t.form,\"password\",e)},expression:\"form.password\"}}),t._v(\" \"),s(\"div\",{staticClass:\"action\"},[s(\"factor-btn\",{ref:\"submit\",attrs:{\"data-test\":\"submit-login\",loading:t.loading,btn:\"primary\"},on:{click:function(e){return t.signIn(\"email\")}}},[t._v(t._s(t.newAccount?\"Sign Up\":\"Login\")+\" →\")])],1)]],2),t._ssrNode(' <div class=\"alt-links\">'+(t.isLoggedIn()?t.view?\"\\x3c!----\\x3e\":'<div class=\"forgot-password alternative-action-link\">\\n      Sign in to another account?\\n      <a>logout →</a></div>':t.view?'<div class=\"alternative-action-link\"><a data-test=\"link-back\">← Back to Sign In</a></div>':'<div class=\"forgot-password alternative-action-link\">\\n          Did you\\n          <a data-test=\"link-forgot-password\">forget your password?</a></div>')+\"</div>\")],2)}),[],!1,(function(t){var e=s(144);e.__inject__&&e.__inject__(t)}),null,\"af8f4ff8\");e.default=v.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(55),i=s(17),n=s(13),r=s(0),o=s(2),l=s.n(o).a.extend({components:{dashboardListPost:a.c,dashboardListControls:a.b,dashboardPane:a.e,dashboardTableFooter:a.f},props:{title:{type:String,default:\"\"},list:{type:Array,default:()=>[]},meta:{type:Object,default:()=>{}},loading:{type:Boolean,default:!1}},data:()=>({selected:[],loadingAction:!1}),computed:{statusDetails(){const{categories:{status:t={}}={}}=this.index||{};return t},postType(){return this.$route.params.postType||\"\"}},methods:{toLabel:r.H,standardDate:r.B,selectAll(t){this.selected=t?this.list.map(t=>t._id):[]},controlStatus(){var t,e,s,a;const n=null!==(t=Object(i.c)({meta:this.meta,key:\"trash\"}))&&void 0!==t?t:0,r=null!==(e=Object(i.c)({meta:this.meta,key:\"published\"}))&&void 0!==e?e:0,o=null!==(s=Object(i.c)({meta:this.meta,key:\"draft\"}))&&void 0!==s?s:0;return[{value:\"\",label:`All (${null!==(a=this.meta.totalForQuery)&&void 0!==a?a:0})`},{value:\"published\",label:`Published (${r})`},{value:\"draft\",label:`Draft (${o})`},{value:\"trash\",label:`Trash (${n})`}]},additional:t=>[{label:\"synopsis\",value:t.synopsis},{label:\"tags\",value:\"\"},{label:\"updated\",value:Object(r.B)(t.updatedAt)},{label:\"created\",value:Object(r.B)(t.createdAt)}],metaInfo(t){return[{value:Object(r.H)(t.status)},{label:\"by\",value:this.getAuthorNames(t.author)},{label:\"on\",value:Object(r.B)(t.date)}]},controlActions:()=>[{value:\"published\",label:\"Publish Selected\",condition:t=>\"trash\"!=t.status,confirm:t=>`Change ${t.length} items to published?`},{value:\"draft\",label:\"Draft Selected\",condition:t=>\"trash\"!=t.status,confirm:t=>`Change ${t.length} items to draft?`},{value:\"trash\",label:\"Move to Trash\",condition:t=>\"trash\"!=t.status,confirm:t=>`Move ${t.length} items to trash?`},{value:\"delete\",label:\"Permanently Delete\",condition:t=>\"trash\"==t.status,confirm:t=>`Permanently delete ${t.length} items?`}],async handleAction(t){this.loadingAction=!0,this.selected.length>0&&(\"delete\"==t?await Object(n.a)({_ids:this.selected,postType:this.postType}):await Object(n.f)({_ids:this.selected,data:{status:t},postType:this.postType}),Object(r.i)(\"refresh-table\")),this.loadingAction=!1},postlink:(t,e)=>Object(r.j)({postType:t,permalink:e}),setDefault:()=>!0,getAuthorNames:t=>t.map(t=>Object(r.D)(t)||{}).map(t=>t.displayName).join(\", \")}}),c=s(93);var d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"dashboard-pane\",{attrs:{title:t.title}},[t._t(\"title\",null,{slot:\"title\"}),t._v(\" \"),s(\"dashboard-list-controls\",{attrs:{\"control-actions\":t.controlActions(),\"control-status\":t.controlStatus(),selected:t.selected,loading:t.loading,list:t.list},on:{action:function(e){return t.handleAction(e)},\"select-all\":function(e){return t.selectAll(e)}}}),t._v(\" \"),t._l(t.list,(function(e){return s(\"dashboard-list-post\",{key:e._id,attrs:{post:e,additional:t.additional(e),meta:t.metaInfo(e)},model:{value:t.selected,callback:function(e){t.selected=e},expression:\"selected\"}})})),t._v(\" \"),s(\"dashboard-table-footer\",t._b({attrs:{meta:t.meta}},\"dashboard-table-footer\",t.$attrs,!1))],2)}),[],!1,(function(t){var e=s(145);e.__inject__&&e.__inject__(t)}),null,\"42483e6c\");e.default=d.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(0),n=s(40),r=s(13),o=s(55),l=s(2),c=s.n(l).a.extend({components:{dashboardInput:o.a,dashboardPage:o.d,dashboardPane:o.e,factorBtnDashboard:a.d,factorLink:a.x,factorInputTags:a.s,factorInputEditor:a.k,factorClientOnly:()=>Promise.resolve().then(s.t.bind(null,92,7)),inputPermalink:()=>s.e(0).then(s.bind(null,195))},data:()=>({sending:!1,sendingDraft:!1,loading:!1,isNew:null,saveNeeded:!1,willsave:null,settings:[],reactivePost:{}}),metaInfo(){return{title:this.title}},computed:{post:{get(){return Object(i.D)(this._id)||{}},set(t){Object(i.C)(this._id,t)}},test(){return this.post.title},_id(){return this.$route.query._id||\"\"},excerpt(){return Object(n.a)(this.post.content)},postTypeConfig(){return Object(i.k)(this.postType)||{}},title(){return`${this.isNew?\"Add New\":\"Edit\"} ${this.postTypeConfig.nameSingle||Object(i.H)(this.postType)}`},postType(){return this.$route.params.postType||this.post.postType||\"page\"},url(){return this.postTypeConfig.permalink(this.post)},lastRevision(){return this.post.revisions&&this.post.revisions.length>0?this.post.revisions[0]:{}},canRevert(){return!!(!this.lastRevision.published&&this.post.revisions&&this.post.revisions.length>0&&this.post.revisions.some(t=>t.published))}},methods:{isEmpty:i.m,timeUtil:i.E,async savePost(){let t;this.sending=!0,this.clearAutosave(),Object(i.i)(\"save-post\");try{t=await Object(r.e)({post:this.post,postType:this.postType})}catch(t){this.sending=!1}t&&(this.post=t,Object(i.i)(\"notify\",\"Saved!\")),this.sending=!1},doDraftSave(){this.willsave||(this.willsave=setTimeout(()=>{this.saveDraft()},3e4))},clearAutosave(){clearTimeout(this.willsave),this.willsave=null},async saveDraft(){this.sendingDraft=!0,this.sendingDraft=!1}}}),d=s(93);var u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"dashboard-page\",{attrs:{loading:t.loading,title:t.title},scopedSlots:t._u([{key:\"actions\",fn:function(){return[s(\"factor-link\",{attrs:{btn:\"default\",path:t.url}},[t._v(\"View\")]),t._v(\" \"),s(\"factor-btn-dashboard\",{attrs:{btn:\"primary\",loading:t.sending},on:{click:function(e){return t.savePost()}}},[t._v(\"Update\")])]},proxy:!0},{key:\"primary\",fn:function(){return[s(\"dashboard-pane\",{staticClass:\"compose\"},[s(\"dashboard-input\",{staticClass:\"post-title\",attrs:{input:\"factor-input-text\",label:\"Title\"},on:{keyup:function(e){return t.doDraftSave()}},model:{value:t.post.title,callback:function(e){t.$set(t.post,\"title\",e)},expression:\"post.title\"}}),t._v(\" \"),s(\"dashboard-input\",{attrs:{label:\"Post Content\"}},[s(\"factor-input-editor\",{attrs:{\"post-id\":t.post._id},model:{value:t.post.content,callback:function(e){t.$set(t.post,\"content\",e)},expression:\"post.content\"}})],1)],1)]},proxy:!0},{key:\"meta\",fn:function(){return[s(\"dashboard-pane\",{staticClass:\"post-media\"},[s(\"dashboard-input\",{attrs:{label:\"Status\",list:[\"published\",\"draft\",\"trash\"],input:\"factor-input-select\"},model:{value:t.post.status,callback:function(e){t.$set(t.post,\"status\",e)},expression:\"post.status\"}}),t._v(\" \"),t.postTypeConfig.customPermalink?s(\"dashboard-input\",{attrs:{label:\"Permalink\"}},[s(\"input-permalink\",{attrs:{initial:t.post.title,\"post-type\":t.postType},model:{value:t.post.permalink,callback:function(e){t.$set(t.post,\"permalink\",e)},expression:\"post.permalink\"}})],1):t._e(),t._v(\" \"),s(\"dashboard-input\",{staticClass:\"post-title\",attrs:{input:\"factor-input-text\",label:\"Synopsis\",description:\"A short description or teaser\"},on:{keyup:function(e){return t.doDraftSave()}},model:{value:t.post.synopsis,callback:function(e){t.$set(t.post,\"synopsis\",e)},expression:\"post.synopsis\"}}),t._v(\" \"),s(\"factor-client-only\",[s(\"dashboard-input\",{attrs:{input:\"factor-input-date\",label:\"Date\"},model:{value:t.post.date,callback:function(e){t.$set(t.post,\"date\",e)},expression:\"post.date\"}})],1),t._v(\" \"),s(\"dashboard-input\",{attrs:{label:\"Tags\"}},[s(\"factor-input-tags\",{model:{value:t.post.tag,callback:function(e){t.$set(t.post,\"tag\",e)},expression:\"post.tag\"}})],1),t._v(\" \"),t.postTypeConfig.categories&&t.postTypeConfig.categories.length>0?s(\"dashboard-input\",{attrs:{label:\"Category\"}},[s(\"factor-input-tags\",{attrs:{list:t.postTypeConfig.categories},model:{value:t.post.category,callback:function(e){t.$set(t.post,\"category\",e)},expression:\"post.category\"}})],1):t._e(),t._v(\" \"),s(\"dashboard-input\",{attrs:{input:\"factor-input-image-upload\",label:\"Avatar\",max:\"1\"},on:{autosave:function(e){return t.saveDraft()}},model:{value:t.post.avatar,callback:function(e){t.$set(t.post,\"avatar\",e)},expression:\"post.avatar\"}}),t._v(\" \"),s(\"dashboard-input\",{attrs:{selector:\"post-images\",input:\"factor-input-image-upload\",label:\"Post Images\"},on:{autosave:function(e){return t.saveDraft()}},model:{value:t.post.images,callback:function(e){t.$set(t.post,\"images\",e)},expression:\"post.images\"}}),t._v(\" \"),s(\"dashboard-input\",{attrs:{input:\"dashboard-user-list\",label:\"Author\"},model:{value:t.post.author,callback:function(e){t.$set(t.post,\"author\",e)},expression:\"post.author\"}}),t._v(\" \"),s(\"dashboard-input\",{attrs:{input:\"factor-input-text\",label:\"Source\",description:\"Used when sharing DB in multiple apps\"},model:{value:t.post.source,callback:function(e){t.$set(t.post,\"source\",e)},expression:\"post.source\"}})],1),t._v(\" \"),t._t(\"meta\")]},proxy:!0},{key:\"secondary\",fn:function(){return[t._t(\"edit\")]},proxy:!0}],null,!0)})}),[],!1,(function(t){var e=s(146);e.__inject__&&e.__inject__(t)}),null,\"519065d8\");e.default=u.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(2),i=s.n(a).a.extend({props:{icon:{type:String,default:\"pin\"}},data:()=>({}),computed:{box(){return\"globe\"==this.icon?{width:16,height:16}:{width:340,height:336}}}}),n=s(93);var r=Object(n.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)(\"svg\",{class:this.icon,attrs:{width:this.box.width,height:this.box.height,viewBox:\"0 0 \"+this.box.width+\" \"+this.box.height,fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"}},[this._ssrNode(\"globe\"==this.icon?'<g><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8 1.28736C4.29271 1.28736 1.28736 4.29271 1.28736 8C1.28736 11.7073 4.29271 14.7126 8 14.7126C11.7073 14.7126 14.7126 11.7073 14.7126 8C14.7126 4.29271 11.7073 1.28736 8 1.28736ZM0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z\" class=\"icon-path\"></path> <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.97493 3.08616C5.36278 4.31046 4.96558 6.04687 4.96558 8C4.96558 9.95313 5.36278 11.6895 5.97493 12.9138C6.60634 14.1766 7.35952 14.7126 8.00006 14.7126C8.6406 14.7126 9.39379 14.1766 10.0252 12.9138C10.6373 11.6895 11.0345 9.95313 11.0345 8C11.0345 6.04687 10.6373 4.31046 10.0252 3.08616C9.39379 1.82335 8.6406 1.28736 8.00006 1.28736C7.35952 1.28736 6.60634 1.82335 5.97493 3.08616ZM4.82349 2.51043C5.52331 1.11077 6.60921 0 8.00006 0C9.39091 0 10.4768 1.11077 11.1766 2.51043C11.8957 3.94859 12.3219 5.89035 12.3219 8C12.3219 10.1097 11.8957 12.0514 11.1766 13.4896C10.4768 14.8892 9.39091 16 8.00006 16C6.60921 16 5.52331 14.8892 4.82349 13.4896C4.10441 12.0514 3.67822 10.1097 3.67822 8C3.67822 5.89035 4.10441 3.94859 4.82349 2.51043Z\" class=\"icon-path\"></path> <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.99997 12.0154C5.77845 12.0154 3.8466 12.5285 2.62551 13.2802L1.95068 12.1839C3.42752 11.2748 5.61092 10.728 7.99997 10.728C10.357 10.728 12.5122 11.2602 13.9868 12.1455L13.3241 13.2492C12.1001 12.5143 10.1904 12.0154 7.99997 12.0154Z\" class=\"icon-path\"></path> <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.00006 3.98475C10.2216 3.98475 12.1535 3.4716 13.3746 2.72021L14.0493 3.81664C12.5725 4.72533 10.3891 5.2721 8.00006 5.2721C5.64336 5.2721 3.48782 4.73996 2.01324 3.85461L2.67592 2.75091C3.89988 3.48578 5.80994 3.98475 8.00006 3.98475Z\" class=\"icon-path\"></path> <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15.3563 8.64356H0.643677V7.3562H15.3563V8.64356Z\" class=\"icon-path\"></path> <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.35638 15.3564V0.643799H8.64374V15.3564H7.35638Z\" class=\"icon-path\"></path></g>':'<g><path d=\"M292.66 335.466H145.832C136.313 335.466 127.353 331.811 120.633 325.167L8.63634 214.432C0.236593 206.127 -2.33933 193.614 2.25253 182.762C6.8444 171.799 17.4841 164.712 29.4677 164.712H166.552V29.0624C166.552 17.2137 173.719 6.69393 184.695 2.1538C195.559 -2.27559 208.55 0.27131 216.838 8.46568L328.835 119.2C335.555 125.955 339.251 134.703 339.251 144.116V289.289C339.363 314.758 318.419 335.466 292.66 335.466ZM151.992 285.524H288.852V150.206L217.062 79.2252V214.543H80.2022L151.992 285.524Z\" class=\"icon-path\"></path></g>')])}),[],!1,(function(t){}),null,\"8920a9e2\");e.default=r.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(0),i=s(54),n=s(94),r=s(12),o=s(2),l=s.n(o).a.extend({components:{factorLink:i.x,factorAvatar:i.a},data:()=>({menu:{},loading:!1}),computed:{currentUser:r.b},watch:{$route:function(t,e){t.path!=e.path&&this.setMenu()}},async mounted(){this.loading=!0,await this.setMenu(),this.loading=!1},methods:{toLabel:a.H,getUser(t){return this.currentUser?this.currentUser[t]:void 0},async setMenu(){this.menu=await Object(n.b)(this.$route.path)}}}),c=s(93);var d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"mobile-nav-content\"},[t._ssrNode('<div class=\"user-menu menu-area\">',\"</div>\",[s(\"factor-avatar\",{attrs:{\"post-id\":t.getUser(\"avatar\"),width:\"2rem\"}}),t._ssrNode(\" <div\"+t._ssrAttr(\"data-uid\",t.getUser(\"_id\"))+' class=\"content\"><div class=\"name\">'+t._ssrEscape(t._s(t.getUser(\"displayName\")||t.getUser(\"email\")))+\"</div> \"+(t.getUser(\"role\")?'<div class=\"name-sub\"><span class=\"status\">'+t._ssrEscape(t._s(t.toLabel(t.getUser(\"role\"))))+\"</span></div>\":\"\\x3c!----\\x3e\")+\"</div>\")],2),t._ssrNode(\" \"),t._ssrNode('<div class=\"nav-menus\">',\"</div>\",[t._l([\"account\",\"dashboard\",\"admin\",\"action\"],(function(e,a){return[t.menu[e]&&t.menu[e].length>0?t._ssrNode(\"<div\"+t._ssrClass(\"menu-area\",e)+\">\",\"</div>\",[t._ssrNode((\"action\"!=e&&\"account\"!=e?'<div class=\"area-title\">'+t._ssrEscape(t._s(t.toLabel(e)))+\"</div>\":\"\\x3c!----\\x3e\")+\" \"),t._ssrNode('<div class=\"menu-area-items\">',\"</div>\",[t._l(t.menu[e],(function(e,a){return[s(\"factor-link\",{key:a,staticClass:\"menu-item-link\",class:e.active?\"active\":\"not-active\",attrs:{path:e.path,query:e.query,action:e.action},on:{click:function(t){e.click&&e.click()}}},[s(\"div\",{staticClass:\"item-icon\"},[s(\"img\",{attrs:{src:e.icon||t.defaultIcon,alt:e.name+\" Icon\"}})]),t._v(\" \"),s(\"div\",{staticClass:\"item-text\"},[s(\"span\",{directives:[{name:\"formatted-text\",rawName:\"v-formatted-text\",value:e.name,expression:\"primary.name\"}]})])])]}))],2)],2):t._e()]}))],2)],2)}),[],!1,(function(t){var e=s(147);e.__inject__&&e.__inject__(t)}),null,\"c35a7a74\");e.default=d.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(2),i=s.n(a).a.extend({}),n=s(93);var r=Object(n.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)(\"svg\",{staticClass:\"caret\",staticStyle:{\"enable-background\":\"new 0 0 28 28\"},attrs:{version:\"1.1\",xmlns:\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",x:\"0px\",y:\"0px\",viewBox:\"0 0 28 28\",\"xml:space\":\"preserve\"}},[this._ssrNode('<path fill=\"#9ab5ca\" d=\"M26.8,6c-0.4-0.4-0.9-0.5-1.4-0.5c-0.5,0-1,0.3-1.4,0.7L14,17.5L4,6.2C3.6,5.8,3.2,5.5,2.6,5.5C2.1,5.5,1.6,5.7,1.2,6\\n\\tC0.3,6.7,0.3,8,1,8.8l11.5,13c0.4,0.4,0.9,0.7,1.5,0.7c0.6,0,1.1-0.2,1.5-0.7L27,8.8c0.4-0.4,0.5-0.9,0.5-1.4S27.2,6.4,26.8,6z\"></path>')])}),[],!1,(function(t){}),null,\"065b29cf\");e.default=r.exports},function(t,e,s){\"use strict\";s.r(e);var a=s(54),i=s(0),n=s(2),r=s.n(n).a.extend({components:{factorBtnDashboard:a.d,factorLink:a.x,factorInputText:a.t},props:{value:{type:String,default:\"\"},toggle:{type:Boolean,default:!1},initial:{type:String,default:\"\"},postType:{type:String,default:\"\"}},data:()=>({tog:!1,actual:\"\"}),computed:{locked(){return!!this.value},permalink(){return this.value?this.value:this.initialPermalink},toggleValue(){return!(!this.tog&&!this.toggle)},initialPermalink(){return Object(i.A)(this.initial)},listeners(){return{...this.$listeners,input:t=>this.emit(t)}}},watch:{lock:function(t){t&&this.emit(t)}},mounted(){Object(i.q)(\"save-post\",()=>{this.value||this.emit(this.initialPermalink)})},methods:{getPermalink:i.j,emit(t){this.$emit(\"input\",Object(i.A)(t))},updateFromInitial(){this.emit(this.initialPermalink)},updateToggle(t){this.$emit(\"update:toggle\",t),this.tog=t},setToggle(){document&&(this.clickHandler=()=>{this.toggleValue&&(this.updateToggle(!1),document.removeEventListener(\"click\",this.clickHandler,!1))},this.toggleValue?(this.updateToggle(!1),document.removeEventListener(\"click\",this.clickHandler,!1)):(this.updateToggle(!0),this.$refs.perm.$el.focus(),document.addEventListener(\"click\",this.clickHandler,!1)))}}}),o=s(93);var l=Object(o.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"permalink\",on:{click:function(t){t.stopPropagation()}}},[t._ssrNode('<div class=\"linky\">',\"</div>\",[s(\"factor-link\",{staticClass:\"linky-link\",attrs:{path:t.value?t.getPermalink({postType:t.postType,permalink:t.permalink}):\"\"}},[s(\"span\",{staticClass:\"root\"},[t._v(t._s(t.getPermalink({postType:t.postType})))]),t._v(\" \"),t.toggleValue?t._e():s(\"span\",{staticClass:\"permalink-value\"},[s(\"span\",{staticClass:\"val\"},[t._v(t._s(t.permalink))])])]),t._ssrNode(\" \"),t._ssrNode('<span class=\"permalink-input\"'+t._ssrStyle(null,null,{display:t.toggleValue?\"\":\"none\"})+\">\",\"</span>\",[s(\"factor-input-text\",t._g({ref:\"perm\",attrs:{value:t.value||t.permalink}},t.listeners))],1)],2),t._ssrNode(\" \"),t.toggleValue?t._e():t._ssrNode('<div class=\"edit-actions\">',\"</div>\",[s(\"factor-btn-dashboard\",{staticClass:\"edit\",attrs:{size:\"tiny\"},on:{click:function(e){return t.setToggle()}}},[t._v(\"Edit Permalink\")]),t._ssrNode(\" \"),s(\"factor-btn-dashboard\",{staticClass:\"edit\",attrs:{size:\"tiny\"},on:{click:function(e){return t.updateFromInitial()}}},[t._v(\"Update from Title\")])],2)],2)}),[],!1,(function(t){var e=s(148);e.__inject__&&e.__inject__(t)}),null,\"2758f509\");e.default=l.exports}]);",
    "server-bundle-1.js": "exports.ids=[1],exports.modules=Array(37).concat([function(t,e,s){\"use strict\";s.r(e);var i=s(55),a=s(0),n=s(13),r=s(2),o=s.n(r).a.extend({components:{dashboardPane:i.e},computed:{post:{get(){return Object(a.D)(this._id)||{}},set(t){Object(a.C)(this._id,t)}},_id(){return this.$route.query._id||\"\"},postType(){return this.$route.params.postType||\"\"},getPostTypeConfig(){return Object(a.k)(this.postType)},templateLoader(){const{editTemplate:t}=this.getPostTypeConfig;return t||(()=>s.e(0).then(s.bind(null,191)))},editComponents(){return Object(a.f)(\"post-edit-components\",[],{postType:this.postType}).filter(({postType:t})=>!t||t&&t.includes(this.postType))},metaComponents(){return Object(a.f)(\"post-meta-components\",[],{postType:this.postType}).filter(({postType:t})=>!t||t&&t.includes(this.postType))}},watch:{$route:function(){this._id||this.requestPost()}},mounted(){this.requestPost()},methods:{async requestPost(){const t=await Object(n.g)({_id:this._id,postType:this.postType,createOnEmpty:!0,depth:100});t._id&&this._id!==t._id&&this.$router.replace({query:{...this.$route.query,_id:t._id}})}}}),l=s(93),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(t.templateLoader,{tag:\"component\",attrs:{\"post-id\":t._id,post:t.post,\"post-type\":t.postType},scopedSlots:t._u([{key:\"edit\",fn:function(){return t._l(t.editComponents,(function(e,i){return s(\"dashboard-pane\",{key:i,attrs:{title:e.name}},[s(e.component,{tag:\"component\",attrs:{\"post-id\":t._id}})],1)}))},proxy:!0},{key:\"meta\",fn:function(){return t._l(t.metaComponents,(function(e,i){return s(\"dashboard-pane\",{key:i,attrs:{title:e.name}},[s(e.component,{tag:\"component\",attrs:{\"post-id\":t._id}})],1)}))},proxy:!0}])})}),[],!1,null,null,\"19623b92\");e.default=c.exports},,,,,,,,,,,,,,,,,,,,,,,function(t,e,s){\"use strict\";s.r(e);var i=s(54),a=s(13),n=s(0),r=s(55),o=s(2),l=s.n(o).a.extend({components:{dashboardPage:r.d,factorLink:i.x},data:()=>({loading:!0,sending:!1}),metaInfo(){return{title:this.postTypeLabel}},computed:{postIndex(){return Object(n.D)(this.postType)||[]},getPostTypeConfig(){return Object(n.k)(this.postType)},templateLoader(){const{listTemplate:t}=this.getPostTypeConfig;return t||(()=>s.e(0).then(s.bind(null,190)))},postType(){return this.$route.params.postType||\"\"},postTypeLabel(){var t,e;return null!==(e=null===(t=this.getPostTypeConfig)||void 0===t?void 0:t.namePlural)&&void 0!==e?e:\"\"},postsMeta(){return this.postIndex&&this.postIndex.meta?this.postIndex.meta:{}},posts(){return this.postIndex&&this.postIndex.posts?this.postIndex.posts:[]},filters(){const t=this.postType;let{sort:e=\"createdAt\"}=this.$route.query;const{page:s=1,status:i,category:a,tag:n,role:r,direction:o=\"descending\"}=this.$route.query;return e={[e]:o},{postType:t,page:s,status:i,category:a,tag:n,role:r,sort:e}}},watch:{$route:function(){this.setPosts()}},mounted(){this.setPosts(),Object(n.q)(\"refresh-table\",()=>{this.setPosts()})},methods:{async setPosts(){this.loading=!0,await Object(a.b)({...this.filters,cache:!1}),this.loading=!1}}}),c=s(93);var d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"dashboard-page\",{key:t.postType,staticClass:\"posts-dashboard\",attrs:{title:t.postTypeLabel},scopedSlots:t._u([{key:\"actions\",fn:function(){return[t.getPostTypeConfig.noAddNew?t._e():s(\"factor-link\",{attrs:{path:\"/dashboard/posts/\"+t.postType+\"/add-new\",btn:\"primary\",\"data-test\":\"add-post\"}},[t._v(\"Add New →\")])]},proxy:!0}])},[t._v(\" \"),s(t.templateLoader,{tag:\"component\",attrs:{list:t.posts,meta:t.postsMeta,loading:t.loading,sending:t.sending,\"post-type\":t.postType}})],1)}),[],!1,(function(t){var e=s(123);e.__inject__&&e.__inject__(t)}),null,\"37f28a6a\");e.default=d.exports},,,,,,,,,,,,,,,,,,function(t,e,s){\"use strict\";s.r(e);var i=s(2),a=s.n(i),n=s(54),r=s(0),o=a.a.extend({components:{factorInputSelect:n.p,listEmpty:()=>Promise.resolve().then(s.bind(null,79))},props:{controlActions:{type:Array,default:()=>[]},controlStatus:{type:Array,default:()=>[]},statusField:{type:String,default:\"status\"},selected:{type:Array,default:()=>[]},list:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},data:()=>({selectAllSelected:!1,actionValue:\"\"}),computed:{selectActions(){return this.controlActions.filter(t=>!t.condition||t.condition(this.$route.query))}},watch:{selected:function(t){t.length>0?this.selectAllSelected=!0:this.selectAllSelected=!1}},methods:{toLabel:r.H,selectItems(t){return t?t.filter(t=>!t.condition||t.condition(this.$route.query)):[]},getDefaultValue(t,e){if(this.$route.query[t])return this.$route.query[t];{const t=e.find(t=>t.default);return t?t.value:void 0}},controlSort:()=>[{value:\"createdAt\",label:\"Date Created\",default:!0},{value:\"date\",label:\"Date\"},{value:\"updatedAt\",label:\"Date Updated\"}],setAction(t){this.actionValue=t;const e=this.controlActions.find(e=>e.value==t);if(e){const s=e.confirm?e.confirm(this.selected):\"\";(s&&confirm(s)||!s)&&(this.$emit(\"action\",t),this.$emit(\"select-all\",!1))}setTimeout(()=>{this.actionValue=\"\",this.selectAllSelected=!1},300)},setQuery(t,e){let s=Object.assign({},this.$route.query);e?s={...s,[t]:e}:delete s[t],this.$router.push({query:s})},selectAll(){this.selectAllSelected?this.selectAllSelected=!1:this.selectAllSelected=!0,this.$emit(\"select-all\",this.selectAllSelected),Object(r.q)(\"refresh-table\",()=>{this.selectAllSelected=!1,this.$emit(\"select-all\",!1)})}}}),l=s(93);var c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"list-controls\"},[t._ssrNode('<div class=\"list-controls-pad\">',\"</div>\",[t._ssrNode('<div class=\"select-all control-col\"><input type=\"checkbox\"'+t._ssrAttr(\"checked\",Array.isArray(t.selectAllSelected)?t._i(t.selectAllSelected,null)>-1:t.selectAllSelected)+' class=\"checkbox\"></div> '),t._ssrNode('<div class=\"actions control-col\">',\"</div>\",[t._ssrNode('<div class=\"select-action\">',\"</div>\",[s(\"factor-input-select\",{attrs:{placeholder:\"Select Action\",list:t.selectItems(t.controlActions),value:t.actionValue},on:{input:function(e){return t.setAction(e)}}})],1)]),t._ssrNode(\" \"),t._ssrNode('<div class=\"selectors control-col\">',\"</div>\",[t._ssrNode('<div class=\"select-status\">',\"</div>\",[s(\"factor-input-select\",{attrs:{placeholder:t.toLabel(t.statusField),list:t.selectItems(t.controlStatus),value:t.$route.query[t.statusField]},on:{input:function(e){return t.setQuery(t.statusField,e)}}})],1),t._ssrNode(\" \"),t._ssrNode('<div class=\"sort-by\">',\"</div>\",[s(\"factor-input-select\",{attrs:{placeholder:\"Sort\",list:t.selectItems(t.controlSort()),value:t.$route.query.sort},on:{input:function(e){return t.setQuery(\"sort\",e)}}})],1)],2)],2),t._ssrNode(\" \"),s(\"list-empty\",{attrs:{loading:t.loading,list:t.list}})],2)}),[],!1,(function(t){var e=s(111);e.__inject__&&e.__inject__(t)}),null,\"1eda2851\");e.default=c.exports},function(t,e,s){\"use strict\";s.r(e);var i=s(2),a=s.n(i),n=s(54),r=a.a.extend({components:{factorLoadingRing:n.y},props:{list:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},data:()=>({selectAllSelected:!1,actionValue:\"\"}),computed:{},methods:{}}),o=s(93);var l=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"list-empty\"},[this.loading&&0==this.list.length?e(\"factor-loading-ring\"):this._e(),this._ssrNode(\" \"+(this.loading||0!=this.list.length?\"\\x3c!----\\x3e\":'<div class=\"no-posts\"><div class=\"no-posts-text\">Nothing Found</div></div>'))],2)}),[],!1,(function(t){var e=s(112);e.__inject__&&e.__inject__(t)}),null,\"789b737c\");e.default=l.exports},,function(t,e,s){\"use strict\";s.r(e);var i=s(54),a=s(2),n=s.n(a).a.extend({components:{factorInputWrap:i.v}}),r=s(93);var o=Object(r.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)(\"factor-input-wrap\",this._g(this._b({staticClass:\"dashboard-input\"},\"factor-input-wrap\",this.$attrs,!1),this.$listeners),[this._t(\"default\")],2)}),[],!1,(function(t){var e=s(114);e.__inject__&&e.__inject__(t)}),null,\"77e61e96\");e.default=o.exports},,function(t,e,s){\"use strict\";s.r(e);var i=s(55),a=s(13),n=s(2),r=s.n(n).a.extend({components:{dashboardInput:i.a,dashboardUserCard:i.g},props:{customValidity:{type:String,default:\"\"},value:{type:Array,default:()=>[]},placeholder:{type:String,default:\"Search\"}},data:()=>({potentialAuthors:[],newAuthor:\"\",searchResults:[],authors:[],toggle:!1}),watch:{authors:{handler:function(t){this.$emit(\"input\",t)},deep:!0},value:{handler:function(t){t&&t!=this.authors&&(this.authors=t)},immediate:!0}},async mounted(){const t=await Object(a.c)({postType:\"user\",conditions:{accessLevel:{$gt:99}},options:{limit:100}});this.potentialAuthors=t.map(t=>({name:`${t.displayName} (${t.email})`,value:t._id}))},methods:{addAuthor(){this.authors.includes(this.newAuthor)||this.authors.push(this.newAuthor),this.newAuthor=\"\"},deleteItem(t){this.$delete(this.authors,t)},setValidity(){const t=this.value;let e=\"\";this.min&&(!t||t.length<this.min)?e=`Add at least ${this.min} item`:this.max&&t&&t.length>this.max&&(e=`Add no more than ${this.max} items`),this.$emit(\"update:customValidity\",e)}}}),o=s(93);var l=Object(o.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"user-list-input\"},[t._ssrNode('<div class=\"user-list-items\">',\"</div>\",[t._l(t.authors,(function(e,i){return t._ssrNode('<div class=\"added-user\">',\"</div>\",[s(\"dashboard-user-card\",{staticClass:\"custom-list-item\",attrs:{\"post-id\":e},on:{remove:function(e){return t.deleteItem(i)}}})],1)})),t._ssrNode(\" \"),t._ssrNode('<div class=\"input-text\">',\"</div>\",[s(\"dashboard-input\",{attrs:{list:t.potentialAuthors,input:\"factor-input-select\",placeholder:\"Select Author\"},on:{change:function(e){return t.addAuthor(e)}},model:{value:t.newAuthor,callback:function(e){t.newAuthor=e},expression:\"newAuthor\"}})],1)],2)])}),[],!1,(function(t){var e=s(116);e.__inject__&&e.__inject__(t)}),null,\"2d32df2c\");e.default=l.exports},function(t,e,s){\"use strict\";s.r(e);var i=s(54),a=s(12),n=s(0),r=s(2),o=s.n(r).a.extend({components:{factorLoadingRing:i.y,dashboardNav:()=>s.e(0).then(s.bind(null,187)),dashboardHead:()=>s.e(0).then(s.bind(null,188))},metaInfo(){const t=this.$route.path.split(\"/\").pop();return{title:Object(n.H)(t),description:\"Factor Dashboard\",titleTemplate:\"%s - Fiction Dashboard\"}},data(){return{loading:!0,activeRoute:this.$route.path,toggle:!1}},computed:{postType(){return this.$route.params.postType||\"\"},postTypeConfig(){return Object(n.k)(this.postType)}},watch:{$route:function(t){this.activeRoute=t.path,this.toggleNav(!1)}},async mounted(){await a.g(),this.loading=!1},methods:{toggleNav(t){document&&(this.toggle=void 0===t?!this.toggle:t,this.clickHandler=()=>{this.toggle=!1,document.removeEventListener(\"click\",this.clickHandler,!1)},this.toggle?document.addEventListener(\"click\",this.clickHandler,!1):document.removeEventListener(\"click\",this.clickHandler,!1))}}}),l=s(93);var c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"app-wrap\"},[t.loading?[t._ssrNode('<div class=\"user-loading\">',\"</div>\",[s(\"factor-loading-ring\",{attrs:{width:\"4em\"}})],1)]:[t._ssrNode(\"<div\"+t._ssrClass(\"app-layout\",t.toggle?\"nav-overlay\":\"\")+\">\",\"</div>\",[s(\"dashboard-head\",{staticClass:\"app-head\"}),t._ssrNode(\" \"),t._ssrNode('<div class=\"app-nav\">',\"</div>\",[s(\"dashboard-nav\")],1),t._ssrNode(\" \"),t._ssrNode('<div class=\"app-main\">',\"</div>\",[t._ssrNode('<div class=\"app-main-content\">',\"</div>\",[t.$slots.default?t._t(\"default\"):s(\"router-view\")],2)])],2)]],2)}),[],!1,(function(t){var e=s(117);e.__inject__&&e.__inject__(t);var i=s(118);i.__inject__&&i.__inject__(t)}),null,\"0c6a9104\");e.default=c.exports},function(t,e,s){\"use strict\";s.r(e);var i=s(54),a=s(55),n=s(2),r=s.n(n).a.extend({components:{dashboardPage:a.d,dashboardPane:a.e,factorLink:i.x}}),o=s(93);var l=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e(\"dashboard-page\",[e(\"dashboard-pane\",[e(\"div\",{staticClass:\"four04\"},[e(\"div\",{staticClass:\"pad\"},[e(\"div\",{staticClass:\"title\"},[this._v(\"Not Found (404)\")]),this._v(\" \"),e(\"factor-link\",{attrs:{path:\"/dashboard\"}},[this._v(\"Go to Dashboard →\")])],1)])])],1)}),[],!1,(function(t){var e=s(119);e.__inject__&&e.__inject__(t)}),null,\"eba6d166\");e.default=l.exports},,function(t,e,s){\"use strict\";s.r(e);var i=s(2),a=s.n(i).a.extend({components:{\"el-signin\":()=>s.e(0).then(s.bind(null,189))},metaInfo:()=>({title:\"Login / Sign Up\",description:\"Login or register an account.\"})}),n=s(93);var r=Object(n.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"auth-form\"},[e(\"el-signin\")],1)}),[],!1,(function(t){var e=s(121);e.__inject__&&e.__inject__(t)}),null,\"38b31804\");e.default=r.exports},function(t,e,s){\"use strict\";s.r(e);var i=s(54),a=s(0),n=s(2),r=s.n(n),o=s(57),l=r.a.extend({components:{factorModal:i.A,factorSignin:()=>s.e(0).then(s.bind(null,189))},data:function(){return{vis:!1,redirect:\"\",title:\"\",subTitle:\"\",mode:\"\"}},computed:{view(){return this.$route.query.view||\"\"}},watch:{$route(t){t.query.signInView&&(this.vis=!0)}},mounted(){this.$route.query.signInView?this.vis=!0:(Object(a.q)(\"sign-in-modal\",(t={})=>{const{redirect:e=\"\",view:s=null,user:i}=t;this.user=i,this.redirect=e,s&&this.view!=s&&this.setView(s),this.vis=!0}),Object(a.w)(\"sign-in-modal-loaded\"))},methods:{setView(t){const e={...this.$route.query,view:t};t||delete e.view,e!=this.$route.query&&this.$router.replace({query:e})},close(){this.vis=!1,this.view&&this.setView(null),Object(o.a)()},done(){\"\"!=this.redirect&&(this.$router.push({path:this.redirect}),this.redirect=\"\"),this.close()}}}),c=s(93),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"factor-modal\",{attrs:{vis:t.vis},on:{\"update:vis\":function(e){t.vis=e},close:function(e){return t.close(\"modal\")}}},[s(\"factor-signin\",{attrs:{redirect:t.redirect,format:\"modal\"},on:{done:function(e){return t.done(e)},close:function(e){return t.close(\"signin\")}}})],1)}),[],!1,null,null,\"72df55a4\");e.default=d.exports},,,,,function(t,e,s){\"use strict\";function i(t,e,s,i,a,n,r,o){var l,c=\"function\"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),n&&(c._scopeId=\"data-v-\"+n),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):a&&(l=o?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}s.d(e,\"a\",(function(){return i}))},,,function(t,e){},,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e){!function(t){var e,s='<svg><symbol id=\"icon-prev\" viewBox=\"0 0 1024 1024\"><path d=\"M784.652701 955.6957 346.601985 517.644983c-2.822492-2.822492-2.822492-7.902977 0-11.289967l439.179713-439.179713c6.77398-6.77398 10.725469-16.370452 10.725469-25.966924L796.507166 36.692393c0-20.32194-16.370452-36.692393-36.692393-36.692393l-4.515987 0c-9.596472 0-19.192944 3.951488-25.966924 10.725469L250.072767 489.420066c-12.418964 12.418964-12.418964 32.740904 0 45.159868l477.565601 477.565601c7.338479 7.338479 17.499449 11.854465 28.224917 11.854465l0 0c22.015436 0 40.079383-18.063947 40.079383-40.079383l0 0C796.507166 973.759647 791.99118 963.598677 784.652701 955.6957z\"  ></path></symbol><symbol id=\"icon-next\" viewBox=\"0 0 1024 1024\"><path d=\"M246.121279 955.6957l438.050717-438.050717c2.822492-2.822492 2.822492-7.902977 0-11.289967L244.992282 67.175303c-6.77398-6.77398-10.725469-16.370452-10.725469-25.966924L234.266814 36.692393C234.266814 16.370452 250.637266 0 270.959206 0l4.515987 0c9.596472 0 19.192944 3.951488 25.966924 10.725469l478.694598 478.694598c12.418964 12.418964 12.418964 32.740904 0 45.159868l-477.565601 477.565601c-7.338479 7.338479-17.499449 11.854465-28.224917 11.854465l0 0c-22.015436 0-40.079383-18.063947-40.079383-40.079383l0 0C234.266814 973.759647 238.7828 963.598677 246.121279 955.6957z\"  ></path></symbol><symbol id=\"icon-zoomin\" viewBox=\"0 0 1024 1024\"><path d=\"M725.504 652.864c46.4-61.44 71.744-136.448 71.744-218.752C797.248 230.464 632.768 64 430.656 64S64 230.464 64 434.112C64 639.36 228.48 805.76 430.656 805.76c86.656 0 164.48-30.144 227.52-81.088L889.984 960 960 891.264l-234.496-238.4z m-294.848 67.456c-155.776 0-282.624-128.896-282.624-286.208s126.848-286.208 282.624-286.208 282.624 128.896 282.624 286.208-126.912 286.208-282.624 286.208z\"  ></path><path d=\"M235.712 369.92h390.72v127.104H235.712z\"  ></path><path d=\"M367.488 238.144h127.104v390.72H367.488z\"  ></path></symbol><symbol id=\"icon-rotate\" viewBox=\"0 0 1024 1024\"><path d=\"M288 352v192h128v64h-128v64h192v-320h-192z m128 128h-64v-64h64v64zM544 352v320h192v-320h-192z m128 256h-64v-192h64v192zM957.44 531.84h1.344v-1.92l-1.344 1.92z\"  ></path><path d=\"M46.72 474.88l35.84 55.04 1.28 1.92 35.84 55.04 60.16-119.04-32 1.92C168.96 277.76 331.52 128 529.28 128c211.904 0 384 172.16 384 384s-172.096 384-384 384c-140.16 0-263.04-75.52-329.6-188.16h-1.92l-0.64 0.64-53.12 31.36A446.592 446.592 0 0 0 529.28 960c247.744 0 448-200.32 448-448s-200.256-448-448-448C294.4 64 102.4 243.84 83.2 472.96l-36.48 1.92z\"  ></path></symbol><symbol id=\"icon-close\" viewBox=\"0 0 1024 1024\"><path d=\"M570.24 512l259.2 259.2-58.88 58.24L512 570.24l-261.12 261.12-58.24-58.24L453.76 512 194.56 252.8l58.24-58.24L512 453.76l261.12-261.12 58.24 58.24z\"  ></path></symbol><symbol id=\"icon-zoomout\" viewBox=\"0 0 1024 1024\"><path d=\"M725.504 652.864c46.4-61.44 71.744-136.448 71.744-218.752C797.248 230.464 632.768 64 430.656 64S64 230.464 64 434.112C64 639.36 228.48 805.76 430.656 805.76c86.656 0 164.48-30.144 227.52-81.088L889.984 960 960 891.264l-234.496-238.4z m-294.848 67.456c-155.776 0-282.624-128.896-282.624-286.208s126.848-286.208 282.624-286.208 282.624 128.896 282.624 286.208-126.912 286.208-282.624 286.208z\"  ></path><path d=\"M235.712 369.92h390.72v127.104H235.712z\"  ></path></symbol></svg>',i=(e=document.querySelectorAll(\"script\"))[e.length-1].getAttribute(\"data-injectcss\");if(i&&!t.__iconfont__svg__cssinject__){t.__iconfont__svg__cssinject__=!0;try{document.write(\"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>\")}catch(t){console&&console.log(t)}}!function(e){if(document.addEventListener)if(~[\"complete\",\"loaded\",\"interactive\"].indexOf(document.readyState))setTimeout(e,0);else{var s=function(){document.removeEventListener(\"DOMContentLoaded\",s,!1),e()};document.addEventListener(\"DOMContentLoaded\",s,!1)}else document.attachEvent&&function(t,e){var s=t.document,i=!1,a=function(){i||(i=!0,e())},n=function(){try{s.documentElement.doScroll(\"left\")}catch(t){return void setTimeout(n,50)}a()};n(),s.onreadystatechange=function(){\"complete\"==s.readyState&&(s.onreadystatechange=null,a())}}(t,e)}((function(){var t,e,i,a;(t=document.createElement(\"div\")).innerHTML=s,s=null,(e=t.querySelectorAll(\"svg\")[0])&&(e.setAttribute(\"aria-hidden\",\"true\"),e.style.position=\"absolute\",e.style.width=0,e.style.height=0,e.style.overflow=\"hidden\",i=e,(a=document.body).firstChild?function(t,e){e.parentNode.insertBefore(t,e)}(i,a.firstChild):a.append(i))}))}(window)},function(t,e){},,function(t,e){},,,,function(t,e){},function(t,e){},,function(t,e){},,function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e){},function(t,e){},function(t,e){},,function(t,e){},,,function(t,e){},,,,,,function(t,e){},function(t,e){},,,function(t,e){},,,,,,,,,,,function(t,e,s){\"use strict\";s.r(e);var i=s(0),a=s(2),n=s.n(a),r=s(32),o=n.a.extend({name:\"Site\",mixins:Object(i.f)(\"site-mixins\",[n.a.extend({data:()=>({scrollClass:\"\"}),computed:{post:()=>Object(i.D)(\"post\"),ui(){const{meta:t={}}=this.$route.matched.find(t=>t.meta.ui)||{};return`factor-${t.ui||\"app\"}`},classes(){const t=Object(r.b)();return[Object(i.f)(\"observable-class-keys\",[]).map(e=>t[e]).filter(t=>t&&Array.isArray(t)).map(t=>t.join(\" \")).join(\" \"),this.scrollClass]},injectedComponents:()=>Object(i.f)(\"site-components\",[]).map(t=>t.component)},watch:{ui:{handler:function(t,e){if(\"undefined\"!=typeof document){const s=document.documentElement;s.classList.remove(e),s.classList.add(t)}}}},mounted(){this.setScrollClass(),window.addEventListener(\"scroll\",()=>this.setScrollClass())},async serverPrefetch(){return await Object(i.w)(\"global-prefetch\",this.$route)},methods:{setScrollClass(){this.scrollClass=0==window.pageYOffset?\"top\":\"scrolled\"}}})])}),l=s(93);var c=Object(l.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"factor-site\",class:this.classes,attrs:{id:\"app\"}},[e(\"router-view\"),this._ssrNode(\" \"),this._l(this.injectedComponents,(function(t,s){return e(t,{key:s,tag:\"component\"})}))],2)}),[],!1,(function(t){var e=s(96);e.__inject__&&e.__inject__(t)}),null,\"10f1f4ce\");e.default=c.exports},,function(t,e,s){\"use strict\";s.r(e);var i=s(0),a=s(2),n=s.n(a),r=s(68),o=s.n(r),l=s(9);const c=(t,e)=>{const s=o.a.Event(\"keydown\");s.which=t.keyCode;const i=t.target,a=o()(i),n=o()(e).find(\":input\");0==n.length&&l.a.warn(\"No inputs found for input.\");const r=n.index(i),c=a.attr(\"placeholder\"),d=c?c.length:0;let u=a.val();if(!u)return;u=\"number\"==typeof u?u.toString():u;const h=u&&\"number\"!=typeof u?u.length:0;if(\"keydown\"==t.type){const e=1==t.key.length;h>=d&&e?a.val(u.slice(0,-1)):0!=i.selectionStart||\"Backspace\"!=t.key&&\"ArrowLeft\"!=t.key||0==r?i.selectionStart==h&&\"ArrowRight\"==t.key&&r!=n.length&&n.eq(r+1).focus().trigger(s):n.eq(r+-1).focus().trigger(s)}else\"input\"==t.type&&h>=d&&n.eq(r+1).focus()};var d=n.a.extend({props:{customValidity:{type:String,default:\"\"},value:{type:[String,Date,Number],default:\"\"}},data:()=>({day:\"\",monthUser:\"\",year:\"\"}),computed:{listeners(){return{...this.$listeners,input:t=>{c(t,this.$refs.wrap)},keydown:t=>{c(t,this.$refs.wrap)}}},required(){return void 0!==this.$attrs.required||\"\"!=this.theText},theText(){return this.monthUser+this.day+this.year},month(){return parseInt(this.monthUser)>=1&&parseInt(this.monthUser)},validity(){let t=!0;const e=parseInt(this.day),s=parseInt(this.monthUser),i=parseInt(this.year);return(isNaN(e)||isNaN(s)||isNaN(i)||e>31||e<1||s>12||s<1||i>3e3||i<1e3)&&(t=!1),t},birthday(){let t=\"\";return this.validity&&(t=Object(i.E)([this.year,this.month,this.day]).toDate()),this.setValidity(),t}},mounted(){this.$watch(\"value\",(function(t){if(t&&t!=this.birthday){const e=Object(i.E)(t);this.day=e.date(),this.monthUser=e.month()+1,this.year=e.year()}}),{immediate:!0}),this.$watch(\"birthday\",(function(){this.$emit(\"dob\",{month:this.monthUser,day:this.day,year:this.year}),this.$emit(\"day\",this.day),this.$emit(\"month\",this.monthUser),this.$emit(\"year\",this.year),this.$emit(\"input\",this.birthday)}))},methods:{fluidInput:c,setValidity(){let t=\"\";!this.validity&&this.required&&(t=\"Please format the date correctly\"),this.$emit(\"update:customValidity\",t)}}}),u=s(93);var h=Object(u.a)(d,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\",{staticClass:\"birthday\"},[this._ssrNode('<div class=\"date-inputs\"><input data-test=\"dob-month\" type=\"text\" placeholder=\"MM\" maxlength=\"2\" title=\"Enter a number between 1 and 12\" autocomplete=\"birthday-day\"'+this._ssrAttr(\"value\",this.monthUser)+'> <div class=\"sep\">-</div> <input data-test=\"dob-day\" type=\"text\" placeholder=\"DD\" maxlength=\"2\" title=\"Enter a number between 1 and 31\" autocomplete=\"birthday-month\"'+this._ssrAttr(\"value\",this.day)+'> <div class=\"sep\">-</div> <input data-test=\"dob-year\" type=\"text\" placeholder=\"YYYY\" title=\"Enter a 4-digit year\" maxlength=\"4\" autocomplete=\"birthday-year\"'+this._ssrAttr(\"value\",this.year)+\"></div>\")])}),[],!1,(function(t){var e=s(134);e.__inject__&&e.__inject__(t)}),null,\"ff6e0ef4\");e.default=h.exports},,,,function(t,e,s){\"use strict\";s.r(e);var i=s(2),a=s.n(i).a.extend({components:{\"btn-base\":()=>s.e(1).then(s.bind(null,156))}}),n=s(93);var r=Object(n.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)(\"btn-base\",this._g(this._b({staticClass:\"btn-dashboard\"},\"btn-base\",this.$attrs,!1),this.$listeners),[this._t(\"default\")],2)}),[],!1,(function(t){var e=s(99);e.__inject__&&e.__inject__(t)}),null,\"254fe9cd\");e.default=r.exports},function(t,e,s){\"use strict\";s.r(e);var i=s(54),a=s(2),n=s.n(a).a.extend({components:{factorLoadingRing:i.y},props:{image:{type:String,default:\"\"},text:{type:String,default:\"\"},type:{type:String,default:\"button\"},loading:{type:Boolean,default:!1},circle:{type:String,default:\"\"},btn:{type:String,default:\"\"},disabled:{type:Boolean,default:!1},size:{type:String,default:\"\"}},data:()=>({backupCircleClass:\"lightcolor\"}),computed:{scope(){return!(\"test\"==this.btn&&!this.$testing.isTest)},buttonClass(){const t=[\"factor-btn\",\"factor-btn-load\"];return this.loading&&t.push(\"loading\"),this.image&&t.push(\"with-img\"),this.disabled&&t.push(\"disabled\"),this.btn?t.push(this.btn):t.push(\"default\"),this.size&&t.push(this.size),t},circleClass(){if(this.circle)return this.circle;let t=\"lightcolor\";return[\"google\",\"default\",\"subtle\"].forEach(e=>{(this.$el&&this.$el.classList.contains(e)||this.buttonClass.includes(e))&&(t=\"darkcolor\")}),t}}}),r=s(93);var o=Object(r.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.scope?s(\"button\",t._g({class:t.buttonClass,attrs:{type:t.type}},t.$listeners),[t._ssrNode('<span class=\"wrap-items\">',\"</span>\",[t._ssrNode('<span class=\"btn-content\">',\"</span>\",[t._ssrNode((t.image?\"<img\"+t._ssrAttr(\"src\",t.image)+' alt=\"btn image\">':\"\\x3c!----\\x3e\")+\" \"),t._t(\"default\"),t._ssrNode(\" \"),t.text?s(\"span\",{directives:[{name:\"formatted-text\",rawName:\"v-formatted-text\",value:t.text,expression:\"text\"}],staticClass:\"txt\"},[]):t._e()],2),t._ssrNode(\" \"),t.loading?s(\"transition\",{attrs:{name:\"fade\"}},[t.loading?s(\"div\",{staticClass:\"waitload\"},[s(\"factor-loading-ring\",{class:t.circleClass,attrs:{width:\"1.2em\"}})],1):t._e()]):t._e()],2)]):t._e()}),[],!1,(function(t){var e=s(100);e.__inject__&&e.__inject__(t)}),null,\"9af85cb0\");e.default=o.exports},function(t,e,s){\"use strict\";s.r(e);var i=s(2),a=s.n(i).a.extend({props:{width:{type:String,default:\"3em\"}}}),n=s(93);var r=Object(n.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\",{staticClass:\"loading-ring-wrap\"},[this._ssrNode('<div class=\"loader\"'+this._ssrStyle(null,{width:this.width},null)+'><svg viewBox=\"25 25 50 50\" class=\"ring-circular\"><circle cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"5\" stroke-miterlimit=\"30\" class=\"ring-path\"></circle></svg></div>')])}),[],!1,(function(t){var e=s(102);e.__inject__&&e.__inject__(t)}),null,\"51a340b2\");e.default=r.exports},,function(t,e,s){\"use strict\";s.r(e);var i=s(2),a=s.n(i),n=s(5),r=a.a.extend({components:{},props:{imgs:{type:[Array,String],default:\"\"},visible:{type:Boolean,default:!1},index:{type:Number,default:0}},data:()=>({scale:1,rotateDeg:0,imgIndex:0,imgTransitionStatus:!0,top:0,left:0,lastX:0,lastY:0,isDraging:!1}),computed:{imgList(){return\"[object Array]\"===Object.prototype.toString.call(this.imgs)?this.imgs.map(t=>t.url?t.url:t):[this.imgs]},imgTotal(){return this.imgList.length||0},imgStyle:{get(){return{transform:`translate(-50%, -50%)\\n      scale(${this.scale})\\n      rotate(-${this.rotateDeg}deg)`,top:`calc(50% + ${this.top}px)`,left:`calc(50% + ${this.left}px)`}}}},watch:{visible(t){!0===t&&this.init(),Object(n.a)(\"modal\",t)}},mounted(){s(104),this.$nextTick(()=>{this.$el.remove(),document.querySelector(\"#app\").append(this.$el)})},destroyed(){this.$el.remove()},methods:{checkBtn:t=>0===t,handleMouseDown(t){this.checkBtn(t.button)&&(this.lastX=t.clientX,this.lastY=t.clientY,this.isDraging=!0,t.stopPropagation())},handleMouseUp(t){this.checkBtn(t.button)&&(this.isDraging=!1,this.lastX=this.lastY=0)},handleMouseMove(t){this.checkBtn(t.button)&&(this.isDraging&&(this.top=this.top-this.lastY+t.clientY,this.left=this.left-this.lastX+t.clientX,this.lastX=t.clientX,this.lastY=t.clientY),t.stopPropagation())},zoomIn(){this.scale+=.25},zoomOut(){0!==this.scale&&(this.scale-=.25)},rotate(){this.rotateDeg+=90},next(){this.reset(),this.imgIndex===this.imgList.length-1?this.imgIndex=0:this.imgIndex+=1,setTimeout(()=>{this.imgTransitionStatus=!this.imgTransitionStatus},0)},prev(){0===this.imgIndex?this.imgIndex=this.imgList.length+1:this.imgIndex-=1,this.reset(),setTimeout(()=>{this.imgTransitionStatus=!this.imgTransitionStatus},0)},reset(){this.imgTransitionStatus=!this.imgTransitionStatus,this.scale=1,this.rotateDeg=0},closeDialog(){this.$emit(\"update:visible\",!1)},init(){this.imgIndex=this.index,this.imgTransitionStatus=!0,this.scale=1,this.rotateDeg=0,this.top=0,this.left=0}}}),o=s(93);var l=Object(o.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"transition\",{attrs:{name:\"fade\"}},[t.visible?s(\"div\",{staticClass:\"img-swiper modal\",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeDialog(e)}}},[s(\"div\",{staticClass:\"img-wrapper\",class:{transition:t.imgTransitionStatus},style:t.imgStyle},[s(\"img\",{staticClass:\"img\",attrs:{src:t.imgList[t.imgIndex],alt:\"\",draggable:\"false\"}})]),t._v(\" \"),s(\"div\",{staticClass:\"btns\"},[1!==t.imgList.length?s(\"div\",{staticClass:\"btn__prev\",on:{click:t.prev}},[s(\"svg\",{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[s(\"use\",{attrs:{\"xlink:href\":\"#icon-prev\"}})])]):t._e(),t._v(\" \"),1!==t.imgList.length?s(\"div\",{staticClass:\"btn__next\",on:{click:t.next}},[s(\"svg\",{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[s(\"use\",{attrs:{\"xlink:href\":\"#icon-next\"}})])]):t._e(),t._v(\" \"),s(\"div\",{staticClass:\"btn__close\",on:{click:t.closeDialog}},[s(\"svg\",{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[s(\"use\",{attrs:{\"xlink:href\":\"#icon-close\"}})])])]),t._v(\" \"),1!==t.imgList.length?s(\"div\",{staticClass:\"pagination-total\"},[t._v(t._s(t.imgIndex+1)+\"/\"+t._s(t.imgTotal))]):t._e()]):t._e()])}),[],!1,(function(t){var e=s(105);e.__inject__&&e.__inject__(t)}),\"500f6350\",\"d750550a\");e.default=l.exports},function(t,e,s){\"use strict\";s.r(e);var i=s(5),a=s(2),n=s.n(a).a.extend({name:\"SsrBar\",data:()=>({percent:0,show:!1,canSuccess:!0,duration:3e3,height:\"3px\"}),computed:{barStyle(){return{width:`${this.percent}%`,height:this.height,opacity:this.show?1:0}}},mounted(){Object(i.b)(\"ssr-progress\",t=>{this[t]()})},methods:{start(){return this.show=!0,this.canSuccess=!0,this._timer&&(clearInterval(this._timer),this.percent=0),this._cut=1e4/Math.floor(this.duration),this._timer=setInterval(()=>{this.increase(this._cut*Math.random()),this.percent>95&&this.finish()},100),this},set(t){return this.show=!0,this.canSuccess=!0,this.percent=Math.floor(t),this},get(){return Math.floor(this.percent)},increase(t){return this.percent=this.percent+Math.floor(t),this},decrease(t){return this.percent=this.percent-Math.floor(t),this},finish(){return this.percent=100,this.hide(),this},pause(){return clearInterval(this._timer),this},hide(){return clearInterval(this._timer),this._timer=null,setTimeout(()=>{this.show=!1,this.$nextTick(()=>{setTimeout(()=>{this.percent=0},200)})},500),this},fail(){return this.canSuccess=!1,this}}}),r=s(93);var o=Object(r.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\",{staticClass:\"progress\",class:this.canSuccess?\"working\":\"failed\",style:this.barStyle},[])}),[],!1,(function(t){var e=s(122);e.__inject__&&e.__inject__(t)}),null,\"e628f8ae\");e.default=o.exports},,,,function(t,e,s){\"use strict\";s.r(e);var i=s(54),a=s(68),n=s.n(a),r=s(0),o=s(2),l=s.n(o).a.extend({components:{factorIcon:i.g},props:{toggleClass:{type:String,default:\"\"},list:{type:Array,default:()=>[]},dropDirection:{type:String,default:\"down\"},itemKey:{type:[String,Number],default:\"\"}},data:()=>({toggle:!1,clickHandler:\"\",el:!1}),computed:{ddClass(){return`drop-${this.dropDirection}`}},mounted(){this.el=this.$refs.toggle},methods:{parseList:r.r,sendEvent(t){this.$emit(\"action\",t),this.toggle=!1},setToggle(){this.clickHandler=()=>{this.toggle&&(this.toggle=!1,document.removeEventListener(\"click\",this.clickHandler,!1))},this.toggle?(this.toggle=!1,document.removeEventListener(\"click\",this.clickHandler,!1)):(n()(\"body\").click(),this.toggle=!0,document.addEventListener(\"click\",this.clickHandler,!1))},nearBottom(){return!!(this.el&&window.innerHeight-this.el.getBoundingClientRect().bottom<150)}}}),c=s(93);var d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{ref:\"toggle\",staticClass:\"quick-menu toggle\",class:t.toggle?\"active\":\"not-active\",on:{click:function(t){t.stopPropagation()}}},[t._ssrNode('<div data-test=\"menu-toggle\"'+t._ssrClass(\"toggle-btn\",[t.toggleClass])+\">\",\"</div>\",[t.$slots.default?t._t(\"default\"):s(\"factor-icon\",{attrs:{icon:\"fas fa-ellipsis-h\"}})],2),t._ssrNode(\" \"+(t.toggle?\"<div\"+t._ssrClass(\"toggle-content\",t.ddClass)+\">\"+t._ssrList(t.parseList(t.list),(function(e,s){return\"<div\"+t._ssrAttr(\"data-test\",\"menu-\"+e.value)+' class=\"toggle-item\">'+t._ssrEscape(t._s(e.name))+\"</div>\"}))+\"</div>\":\"\\x3c!----\\x3e\"))],2)}),[],!1,(function(t){var e=s(125);e.__inject__&&e.__inject__(t)}),null,\"fef43836\");e.default=d.exports},function(t,e,s){\"use strict\";s.r(e);var i=s(2),a=s.n(i).a.extend({props:{icon:{type:String,default:\"\"}},metaInfo:{link:[{vmid:\"fa\",rel:\"stylesheet\",href:\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css\"}]}}),n=s(93);var r=Object(n.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)(\"i\",{staticClass:\"factor-icon\",class:this.icon},[])}),[],!1,(function(t){}),null,\"7886edff\");e.default=r.exports},,,function(t,e,s){\"use strict\";s.r(e);var i=s(54),a=s(55),n=s(2),r=s.n(n).a.extend({components:{factorInputWrap:i.v,factorInputEmail:i.l,factorInputDate:i.j,factorInputTags:i.s,factorInputEditor:i.k,factorInputText:i.t,factorInputPhone:i.o,factorInputCheckbox:i.i,factorInputBirthday:i.h,factorInputImageUpload:i.m,factorInputSelect:i.p,factorInputSubmit:i.r,factorInputPassword:i.n,factorInputTextarea:i.u,factorInputSortable:i.q,dashboardUserList:a.h},inheritAttrs:!1,props:{value:{type:null,default:()=>{}},label:{type:String,default:\"\"},description:{type:String,default:\"\"},format:{type:String,default:\"\"},input:{type:String,default:\"\"},inputClasses:{type:String,default:\"\"},labelClasses:{type:String,default:\"\"}},computed:{renderKey(){return this.$attrs[\"data-test\"]?this.$attrs[\"data-test\"]:this.label},isRequired(){return!(void 0===this.$attrs.required&&!this.$attrs[\"input-min\"])},requiredClass(){return this.isRequired?\"is-required\":\"is-optional\"},inputFormat(){return this.format?this.format:\"vertical\"}},methods:{}}),o=s(93);var l=Object(o.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{key:t.renderKey,staticClass:\"input-wrap\",class:[t.requiredClass,t.inputFormat]},[t.label||t.description?t._ssrNode('<div class=\"input-meta\">',\"</div>\",[t._ssrNode('<label class=\"label-wrap\">'+(t.label?\"<span\"+t._ssrClass(\"label\",t.labelClasses)+\">\"+t._ssrEscape(t._s(t.label))+\"</span>\":\"\\x3c!----\\x3e\")+\"</label> \"),t.description||t.$slots.description?t._ssrNode('<div class=\"description-wrap\">',\"</div>\",[t.$slots.description?t._t(\"description\"):s(\"span\",{directives:[{name:\"formatted-text\",rawName:\"v-formatted-text\",value:t.description,expression:\"description\"}]})],2):t._e()],2):t._e(),t._ssrNode(\" \"),t._ssrNode('<div class=\"input-area\">',\"</div>\",[t._ssrNode('<div class=\"the-input\">',\"</div>\",[t.input?s(t.input,t._g(t._b({tag:\"component\",class:t.inputClasses,attrs:{value:t.value}},\"component\",t.$attrs,!1),t.$listeners)):t._e(),t._ssrNode(\" \"),t._t(\"default\")],2)])],2)}),[],!1,(function(t){var e=s(128);e.__inject__&&e.__inject__(t)}),null,\"21072550\");e.default=l.exports},function(t,e,s){\"use strict\";s.r(e);var i=s(2),a=s.n(i).a.extend({props:{value:{type:String,default:\"\"}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit(\"input\",t.target.value)}}}}),n=s(93),r=Object(n.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)(\"input\",this._g(this._b({attrs:{type:\"email\",autocomplete:\"email\",required:this.$attrs.required},domProps:{value:this.value}},\"input\",this.$attrs,!1),this.listeners),[])}),[],!1,null,null,\"f7fbd83a\");e.default=r.exports},,,,function(t,e,s){\"use strict\";s.r(e);var i=s(2),a=s.n(i).a.extend({props:{value:{type:String,default:\"\"}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit(\"input\",t.target.value)}}}}),n=s(93),r=Object(n.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)(\"input\",this._g(this._b({attrs:{autocomplete:this.$attrs.autocomplete||\"current-password\",type:\"password\",minlength:\"6\",required:this.$attrs.required},domProps:{value:this.value}},\"input\",this.$attrs,!1),this.listeners),[])}),[],!1,null,null,\"1cd011a4\");e.default=r.exports},function(t,e,s){\"use strict\";s.r(e);var i=s(2),a=s.n(i).a.extend({props:{value:{type:[String,Number],default:\"\"}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit(\"input\",t.target.value)}}}}),n=s(93),r=Object(n.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)(\"input\",this._g(this._b({class:this.$attrs.inputClasses,attrs:{type:\"text\",required:this.$attrs.required},domProps:{value:this.value}},\"input\",this.$attrs,!1),this.listeners),[])}),[],!1,null,null,\"66e4b894\");e.default=r.exports},,function(t,e,s){\"use strict\";s.r(e);var i=s(2),a=s.n(i).a.extend({inheritAttrs:!1,props:{value:{type:[String,Number],default:\"\"}},data:()=>({}),computed:{phone(){return this.value?this.addPlus(String(this.value)):\"\"},listeners(){return{...this.$listeners,input:t=>{this.send(t.target.value)}}}},methods:{addPlus:t=>(\"\"==t||t.startsWith(\"+\")||(t=`+${t}`),t),send(t){this.$emit(\"input\",this.addPlus(t))}}}),n=s(93),r=Object(n.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\",{staticClass:\"phone-inputs\"},[this._ssrNode('<input type=\"tel\" pattern=\"^[0-9-+s()]{6,16}\" autocomplete=\"tel\" size=\"15\" title=\"Enter a valid phone number with country code.\"'+this._ssrAttr(\"required\",this.$attrs.required)+this._ssrAttr(\"value\",this.phone)+this._ssrAttrs(this.$attrs)+\">\")])}),[],!1,null,null,\"6f6c6696\");e.default=r.exports},function(t,e,s){\"use strict\";s.r(e);var i=s(2),a=s.n(i).a.extend({props:{value:{type:[String,Boolean,Array],default:!1},label:{type:String,default:\"\"}},data:()=>({val:!1}),computed:{listeners(){return{...this.$listeners,input:t=>{this.$emit(\"change\",t.target.value)}}}}}),n=s(93);var r=Object(n.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)(\"label\",{staticClass:\"checkbox-wrap\"},[this._ssrNode('<input type=\"checkbox\"'+this._ssrAttr(\"checked\",this.value)+' class=\"checkbox\"> '+(this.label?'<span class=\"checkbox-label\">'+this._ssrEscape(this._s(this.label))+\"</span>\":\"\\x3c!----\\x3e\"))])}),[],!1,(function(t){}),null,\"cf06c268\");e.default=r.exports},,function(t,e,s){\"use strict\";s.r(e);var i=s(54),a=s(58),n=s(68),r=s.n(n),o=s(0),l=s(69),c=s.n(l),d=s(2),u=s.n(d),h=s(6),p=u.a.extend({components:{factorMenu:i.z,factorLoadingRing:i.y,factorIcon:i.g,factorLightbox:i.w},props:{selector:{type:String,default:\"none\"},loading:{type:Boolean,default:!1},value:{type:[Array,String],default:()=>[]},min:{type:[Number,String],default:0},max:{type:[Number,String],default:10},postId:{type:String,default:\"post\"}},data:()=>({imageIds:[],uploading:[],lightboxShow:!1,lightboxIndex:0,callback:null,copyText:\"\"}),computed:{post:{get(){return Object(o.D)(this.postId)},set(t){Object(o.C)(this.postId,t)}},single(){return\"string\"==typeof this.value||1==this.max},maxImages(){return this.single?1:Number(this.max)},isRequired(){return void 0!==this.$attrs.required},populated(){return this.imageIds.map(t=>Object(o.D)(t)).filter(t=>t)},allImages(){return[...this.populated,...this.uploading]}},mounted(){Object(o.q)(\"uploadImageWithInput\",({selector:t,callback:e})=>{t==this.selector&&(this.callback=e,this.triggerUpload())}),Object(o.q)(\"addImageToInput\",({selector:t,_id:e})=>{t==this.selector&&this.imageIds.push(e)}),this.$watch(\"value\",(function(t){t&&(this.imageIds=\"string\"==typeof t?[t]:t)}),{deep:!0,immediate:!0}),this.dom()},methods:{triggerUpload(){this.$refs.multiImageInput.click()},action(t,e){if(\"view\"==e)this.lightboxShow=!0,this.lightboxIndex=this.populated.findIndex(e=>e._id==t);else if(\"copy-URL\"==e)this.copyUrl(t);else if(\"delete\"==e){confirm(\"Are you sure? This will permanently delete this image.\")&&this.removeImage(t)}else\"upload-image\"==e&&this.triggerUpload()},copyUrl(t){const e=this.populated.find(e=>e._id==t);e&&e.url&&(this.copyText=e.url.includes(\"base64\")?`{{${t}.url}}`:e.url,this.$nextTick(()=>{this.$refs.copyInput.select(),document.execCommand(\"copy\"),Object(o.i)(\"notify\",\"Url Copied\")}))},styleImageBG(t){const{url:e}=t;return e?{backgroundImage:`url(${e})`}:{}},setValidity(){let t=\"\";this.images.length<this.min?t=`Please upload at least ${this.min} images.`:this.images.length>this.maxImages&&(t=`Please submit maximum ${this.maxImages} images.`),this.$emit(\"update:customValidity\",t)},dom(){const t=r()(this.$el),e=t.find(\".image-drop\");this.imgInput=t.find(\".input-upload\"),e.on(\"dragenter\",()=>{e.addClass(\"dragover\")}),e.on(\"dragleave\",()=>{e.removeClass(\"dragover\")}),e.on(\"drop\",()=>{e.removeClass(\"dragover\")}),t.on(\"dragover\",t=>{t.stopPropagation(),t.preventDefault()}),t.on(\"drop\",t=>{var s;t.stopPropagation(),t.preventDefault(),e.removeClass(\"dragover\"),(null===(s=t.originalEvent)||void 0===s?void 0:s.dataTransfer)&&this.handleMultiImage(t.originalEvent.dataTransfer.files)}),this.single||c.a.create(this.$refs.organizer,{filter:\".ignore-sortable\",ghostClass:\"sortable-ghost\",onUpdate:t=>{if(t.oldIndex&&this.imageIds[t.oldIndex]){const e=this.imageIds.splice(t.oldIndex,1);this.imageIds.splice(t.newIndex,0,e[0]),this.updateValue()}},onMove:t=>!r()(t.related).hasClass(\"ignore-sortable\")})},updateValue(){var t;const e=this.imageIds.filter(t=>this.populated.find(e=>e._id==t));let s;s=this.single?null!==(t=e[0])&&void 0!==t?t:null:e,this.$emit(\"input\",s),this.$emit(\"update:customValidity\",this.validity)},async removeImage(t){this.removeFromArrayById(t,this.imageIds),this.post&&this.post.images&&this.removeFromArrayById(t,this.post.images),await Object(a.a)({_id:t})},handleMultiUpload(t){this.handleMultiImage(t.target.files)},async handleMultiImage(t){let e;this.numFiles=0,t[0]&&1==this.maxImages&&this.imageIds.length>=1&&(e=this.imageIds[0],this.removeFromArrayById(e,this.imageIds));for(const s of t)if(this.imageIds.length<this.maxImages){const t={status:\"preprocess\",_id:Object(h.c)()};this.uploading.push(t),this.numFiles++,this.uploadFile({item:t,file:s,onError:()=>{},onFinished:()=>{e&&this.removeImage(e)}})}},uploadFile({file:t,onFinished:e,item:s}){this.$emit(\"upload\",{file:t,item:s}),Object(a.b)({file:t,onPrep:({preview:t=\"\"})=>{t&&this.up(s._id,\"url\",t),this.up(s._id,\"status\",\"preprocess\")},onChange:t=>{const{loaded:e,total:i}=t;this.up(s._id,\"status\",\"progress\"),this.up(s._id,\"progress\",e/i*100),e/i>=1&&this.up(s._id,\"status\",\"processing\")},onError:t=>{this.up(s._id,\"status\",\"error\"),this.up(s._id,\"message\",t.message)},onFinished:t=>{const{_id:i}=t;this.pushNewImage(i),this.removeFromArrayById(s._id,this.uploading),e&&e()}})},pushNewImage(t){this.imageIds.push(t),this.post&&this.post.images&&this.$set(this.post,\"images\",[...this.post.images,t])},up(t,e,s){const i=this.uploading.findIndex(e=>e._id==t);-1!=i&&this.$set(this.uploading[i],e,s)},removeFromArrayById(t,e){const s=e.findIndex(e=>\"string\"==typeof e?e==t:e._id==t);if(-1!=s){const t=e[s];return this.$delete(e,s),this.updateValue(),t}}}}),m=s(93);var f=Object(m.a)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"image-upload-container\"},[t._ssrNode('<div class=\"image-upload-input\">',\"</div>\",[t._ssrNode('<div class=\"image-organizer\">',\"</div>\",[t._l(t.allImages,(function(e){return t._ssrNode(\"<div\"+t._ssrClass(\"image-item image-uploaded\",t.single?\"no-sort-img\":\"sort-img\")+\">\",\"</div>\",[t._ssrNode('<div class=\"image-item-pad\">',\"</div>\",[t._ssrNode(\"<div\"+t._ssrClass(\"image-item-content\",e.status||\"no-status\")+t._ssrStyle(null,t.styleImageBG(e),null)+\">\",\"</div>\",[t._ssrNode('<div class=\"status-bar\">',\"</div>\",[[\"progress\",\"preprocess\",\"processing\"].includes(e.status)?t._ssrNode(\"<div\"+t._ssrClass(\"image-status overlay\",e.status)+\">\",\"</div>\",[t._ssrNode('<div class=\"bar\"'+t._ssrStyle(null,{width:e.progress+\"%\"},null)+\"></div>\")],2):s(\"factor-menu\",{staticClass:\"menu\",attrs:{list:[\"upload-image\",\"view\",\"copy-URL\",\"delete\"],\"drop-direction\":\"up\"},on:{action:function(s){return t.action(e._id,s)}}})],1)])])])})),t._ssrNode(\" \"),t.single||t.imageIds.length<t.maxImages?t._ssrNode(\"<div\"+t._ssrClass(\"image-item ignore-sortable image-drop\",t.single&&(t.populated.length>0||t.uploading.length>0)?\"single-image-drop\":\"\")+\">\",\"</div>\",[t._ssrNode('<div class=\"image-item-pad\">',\"</div>\",[t._ssrNode('<div class=\"image-item-content\">',\"</div>\",[t._ssrNode('<input type=\"file\" accept=\"image/*\" multiple=\"multiple\" class=\"input-upload\"> '),t.loading?s(\"factor-loading-ring\",{attrs:{width:\"2em\"}}):s(\"div\",{staticClass:\"upload-status\"},[s(\"factor-icon\",{attrs:{icon:\"fas fa-plus\"}})],1)],2)])]):t._e()],2)]),t._ssrNode(' <input type=\"text\"'+t._ssrAttr(\"value\",t.copyText)+' class=\"invisible-copy\"> '),s(\"factor-lightbox\",{attrs:{visible:t.lightboxShow,imgs:t.populated,index:t.lightboxIndex},on:{\"update:visible\":function(e){t.lightboxShow=e}}})],2)}),[],!1,(function(t){var e=s(135);e.__inject__&&e.__inject__(t)}),null,\"c08e6588\");e.default=f.exports},,function(t,e,s){\"use strict\";s.r(e);var i=s(54),a=s(2),n=s.n(a).a.extend({components:{factorBtn:i.b},inheritAttrs:!1,props:{el:{type:String,default:\"\"}},computed:{btnComponent(){return this.el?this.el:i.b}}}),r=s(93);var o=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"form-submit\"},[e(this.btnComponent,this._g(this._b({tag:\"component\",attrs:{type:\"submit\"}},\"component\",this.$attrs,!1),this.$listeners),[this._t(\"default\")],2)],1)}),[],!1,(function(t){var e=s(138);e.__inject__&&e.__inject__(t)}),null,\"347d58e1\");e.default=o.exports},function(t,e,s){\"use strict\";s.r(e);var i=s(12),a=s(0),n=s(13),r=s(2),o=s.n(r).a.extend({components:{\"edit-user\":()=>s.e(1).then(s.bind(null,184))},computed:{post:()=>Object(a.D)(Object(i.f)())||{}},async mounted(){const t=await Object(i.g)();t&&t._id&&await Object(n.g)({_id:t._id,postType:\"user\"})}}),l=s(93),c=Object(l.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)(\"edit-user\",{attrs:{post:this.post}})}),[],!1,null,null,\"5468e4aa\");e.default=c.exports},,function(t,e,s){\"use strict\";s.r(e);var i=s(55),a=s(54),n=s(12),r=s(33),o=s(0),l=s(13),c=s(2),d=s.n(c).a.extend({components:{dashboardPage:i.d,dashboardPane:i.e,dashboardInput:i.a,factorBtnDashboard:a.d},data:()=>({sending:!1,loading:!1,postType:\"user\"}),computed:{post:{get(){return Object(o.D)(this._id)||{}},set(t){Object(o.C)(this._id,t)}},profile(){return this.post.profile||{}},_id(){return this.$route.query._id||Object(n.f)()},url(){return this.post.username?`/@${this.post.username}`:`/@?_id=${this.post._id}`}},methods:{userId:n.f,standardDate:o.B,async sendVerifyEmail(){this.sending=!0,await Object(r.b)({email:this.post.email,_id:this.post._id}),this.sending=!1},async save(){this.sending=!0;try{const t=await Object(l.e)({post:this.post,postType:this.postType});t&&(this.post=t,Object(o.i)(\"notify\",\"Saved!\"))}catch(t){throw this.sending=!1,t}this.sending=!1}}}),u=s(93);var h=Object(u.a)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"dashboard-page\",{attrs:{title:t._id==t.userId()?\"Your Account\":\"Edit User\"},scopedSlots:t._u([{key:\"actions\",fn:function(){return[s(\"factor-btn-dashboard\",{attrs:{btn:\"primary\",loading:t.sending},on:{click:function(e){return t.save()}}},[t._v(\"Update\")])]},proxy:!0},{key:\"meta\",fn:function(){return[s(\"dashboard-pane\",{staticClass:\"compose inputs\",attrs:{title:\"Images\"}},[s(\"dashboard-input\",{attrs:{max:\"1\",input:\"factor-input-image-upload\",label:\"Avatar\",loading:t.loading},on:{autosave:function(e){return t.$emit(\"autosave\")}},model:{value:t.post.avatar,callback:function(e){t.$set(t.post,\"avatar\",e)},expression:\"post.avatar\"}}),t._v(\" \"),s(\"dashboard-input\",{attrs:{max:\"5\",min:\"1\",input:\"factor-input-image-upload\",label:\"Profile Photo(s)\",loading:t.loading},on:{autosave:function(e){return t.$emit(\"autosave\")}},model:{value:t.post.images,callback:function(e){t.$set(t.post,\"images\",e)},expression:\"post.images\"}}),t._v(\" \"),s(\"dashboard-input\",{attrs:{max:\"5\",min:\"1\",input:\"factor-input-image-upload\",label:\"Cover Photo(s)\",loading:t.loading},on:{autosave:function(e){return t.$emit(\"autosave\")}},model:{value:t.post.covers,callback:function(e){t.$set(t.post,\"covers\",e)},expression:\"post.covers\"}})],1)]},proxy:!0},{key:\"primary\",fn:function(){return[s(\"dashboard-pane\",{staticClass:\"compose inputs\",attrs:{title:\"Account Info\"}},[s(\"dashboard-input\",{staticClass:\"post-title\",attrs:{input:\"factor-input-text\",label:\"Display Name\"},model:{value:t.post.displayName,callback:function(e){t.$set(t.post,\"displayName\",e)},expression:\"post.displayName\"}}),t._v(\" \"),s(\"dashboard-input\",{staticClass:\"email-inputs\",attrs:{input:\"factor-input-email\",label:\"Email Address\"},model:{value:t.post.email,callback:function(e){t.$set(t.post,\"email\",e)},expression:\"post.email\"}},[t.post.email&&!t.post.emailVerified?s(\"div\",{staticClass:\"verify-email\"},[s(\"factor-btn-dashboard\",{attrs:{size:\"small\",btn:\"primary\",loading:t.sending},on:{click:function(e){return t.sendVerifyEmail()}}},[t._v(\"Unverified - Resend Email →\")])],1):t._e()]),t._v(\" \"),s(\"dashboard-input\",{attrs:{input:\"factor-input-text\",label:\"Username\",description:\"Must be unique.\"},model:{value:t.post.username,callback:function(e){t.$set(t.post,\"username\",e)},expression:\"post.username\"}}),t._v(\" \"),s(\"dashboard-input\",{attrs:{input:\"factor-input-password\",label:\"Update Password\",autocomplete:\"new-password\"},model:{value:t.post.password,callback:function(e){t.$set(t.post,\"password\",e)},expression:\"post.password\"}})],1)]},proxy:!0},{key:\"secondary\",fn:function(){return[s(\"dashboard-pane\",{staticClass:\"inputs\",attrs:{title:\"Profile\"}},[s(\"dashboard-input\",{attrs:{input:\"factor-input-textarea\",label:\"About You\"},model:{value:t.post.about,callback:function(e){t.$set(t.post,\"about\",e)},expression:\"post.about\"}}),t._v(\" \"),s(\"dashboard-input\",{attrs:{input:\"factor-input-birthday\",label:\"Birthday\",description:\"This information is not shared.\"},model:{value:t.post.birthday,callback:function(e){t.$set(t.post,\"birthday\",e)},expression:\"post.birthday\"}}),t._v(\" \"),s(\"dashboard-input\",{attrs:{list:[\"female\",\"male\"],input:\"factor-input-select\",label:\"Gender\",description:\"This information is not shared.\"},model:{value:t.post.gender,callback:function(e){t.$set(t.post,\"gender\",e)},expression:\"post.gender\"}}),t._v(\" \"),s(\"div\",{staticClass:\"user-info\"},[s(\"div\",{staticClass:\"item\"},[s(\"div\",{staticClass:\"label\"},[t._v(\"Logged In\")]),t._v(\" \"),s(\"div\",{staticClass:\"value\"},[t._v(t._s(t.standardDate(t.post.signedInAt)))])]),t._v(\" \"),s(\"div\",{staticClass:\"item\"},[s(\"div\",{staticClass:\"label\"},[t._v(\"Signed up\")]),t._v(\" \"),s(\"div\",{staticClass:\"value\"},[t._v(t._s(t.standardDate(t.post.createdAt)))])])])],1)]},proxy:!0}])})}),[],!1,(function(t){var e=s(107);e.__inject__&&e.__inject__(t)}),null,\"298e85fc\");e.default=h.exports},,,,,,,,,,,,function(t,e,s){\"use strict\";s.r(e);var i=s(2),a=s.n(i),n=s(54),r=s(0),o=s(1),l=a.a.extend({props:{btn:{type:String,default:\"\"},size:{type:String,default:\"\"},disabled:{type:Boolean,default:!1},path:{type:String,default:\"\"},event:{type:String,default:\"\"},query:{type:Object,default:()=>{}},loading:{type:Boolean,default:!1},text:{type:String,default:\"\"}},render:function(t){let e=this.path,s=this.text||this.$slots.default,i=\"span\",a={},l={};const c=Object(r.s)(this.query,r.l)||{};e=e||Object(r.m)(c)?e:this.$route.path,e=Object(o.c)(\"link-path\",e.trim(),{query:c});[\"http:\",\"https:\",\"ftp:\",\"mailto:\",\"file:\",\"data:\",\"irc:\"].some(t=>e.includes(t))?(i=\"a\",a={href:e},l=[]):e&&(i=\"router-link\",a={},l={to:{path:e,query:c}});const d={\"factor-link\":!0};if(this.btn){d[\"btn-link\"]=!0;const e={btn:this.btn,disabled:this.disabled,size:this.size,loading:this.loading};let i;i=this.btnElement?this.btnElement:this.$route.path.includes(\"dashboard\")?n.d:n.b,s=t(i,{props:e,attrs:e},[s])}this.disabled&&(d.disabled=!0),this.$route.path!=this.path&&this.$route.meta.activePath!=this.path||(d[\"active-path\"]=!0);const u=this.event?{click:t=>(t.preventDefault(),Object(r.i)(this.event,c),!1)}:this.$listeners;return t(i,{class:d,attrs:a,props:l,on:u,...\"a\"==i||\"span\"==i?{}:{nativeOn:u}},[s])}}),c=s(93);var d=Object(c.a)(l,void 0,void 0,!1,(function(t){var e=s(101);e.__inject__&&e.__inject__(t)}),null,\"289e8e00\");e.default=d.exports}]);",
    "server-bundle-main.js": "module.exports=function(e){var t={},n={2:0};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.e=function(t){if(0!==n[t]){var r=require(\"./server-bundle-\"+({}[t]||t)+\".js\"),o=r.modules,a=r.ids;for(var i in o)e[i]=o[i];for(var s=0;s<a.length;s++)n[a[s]]=0}return Promise.all([])},r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"/\",r.oe=function(e){process.nextTick((function(){throw e}))},r(r.s=65)}([function(e,t,n){\"use strict\";n.d(t,\"n\",(function(){return r.f})),n.d(t,\"m\",(function(){return r.e})),n.d(t,\"s\",(function(){return r.i})),n.d(t,\"I\",(function(){return r.n})),n.d(t,\"l\",(function(){return r.d})),n.d(t,\"o\",(function(){return r.g})),n.d(t,\"J\",(function(){return r.o})),n.d(t,\"H\",(function(){return r.m})),n.d(t,\"A\",(function(){return r.k})),n.d(t,\"r\",(function(){return r.h})),n.d(t,\"E\",(function(){return o.b})),n.d(t,\"B\",(function(){return o.a})),n.d(t,\"G\",(function(){return o.d})),n.d(t,\"f\",(function(){return a.c})),n.d(t,\"c\",(function(){return a.b})),n.d(t,\"v\",(function(){return a.d})),n.d(t,\"a\",(function(){return a.a})),n.d(t,\"w\",(function(){return a.e})),n.d(t,\"x\",(function(){return c})),n.d(t,\"F\",(function(){return d})),n.d(t,\"h\",(function(){return p})),n.d(t,\"z\",(function(){return f})),n.d(t,\"j\",(function(){return y})),n.d(t,\"t\",(function(){return g})),n.d(t,\"e\",(function(){return m.a})),n.d(t,\"u\",(function(){return m.c})),n.d(t,\"k\",(function(){return m.b})),n.d(t,\"y\",(function(){return v.a})),n.d(t,\"i\",(function(){return h.a})),n.d(t,\"q\",(function(){return h.b})),n.d(t,\"d\",(function(){return j.a})),n.d(t,\"b\",(function(){return O.a})),n.d(t,\"g\",(function(){return O.c})),n.d(t,\"p\",(function(){return O.d})),n.d(t,\"C\",(function(){return u.c})),n.d(t,\"D\",(function(){return u.d}));n(9);var r=n(6),o=n(26),a=n(1),i=n(46),s=n.n(i);const c=e=>s()(e,{allowedTags:!1,allowedAttributes:!1,allowedSchemes:[\"http\",\"https\",\"mailto\"],allowedSchemesByTag:{img:[\"data\",\"http\",\"https\"]}});var u=n(4),l=n(40);const d=e=>{const{titleTag:t,title:n}=Object(u.d)(e)||{};return t||n||\"\"},p=e=>{const{descriptionTag:t,subTitle:n,content:r}=Object(u.d)(e)||{};return t||n||Object(l.a)(r)||\"\"},f=e=>{const{shareImage:t,avatar:n}=Object(u.d)(e)||{},r=t||n,{url:o}=Object(u.d)(r)||{};return o||\"\"};var m=n(21),h=n(5),b=(n(13),n(14));const y=e=>{const{postType:t=\"post\",permalink:n=\"\",root:o=!1,path:a=\"\"}=e,i=[];if(i.push(o?Object(b.b)():\"\"),a)return i.push(a),i.join(\"\").replace(/\\/$/,\"\");{const o=!!t&&Object(m.b)(t);if(o){const{baseRoute:e}=o;e&&i.push(e.replace(/^\\/|\\/$/g,\"\"))}return i.push(!n&&e.title?Object(r.k)(e.title):n),i.join(\"/\")}},g=(e,t={})=>{const n=Object(u.d)(e);if(!n)return\"\";const r=t.root?Object(b.b)():\"\",{permalink:o}=Object(m.b)(n.postType);return`${r}${o?o(n):\"\"}`};var v=n(3),j=(n(25),n(17)),O=n(10)},function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return u})),n.d(t,\"b\",(function(){return l})),n.d(t,\"d\",(function(){return d})),n.d(t,\"a\",(function(){return p})),n.d(t,\"e\",(function(){return f}));var r=n(6),o=n(2),a=n.n(o),i=n(24);const s=()=>(a.a.$filters||(a.a.$filters={filters:{},applied:{},controllers:{}}),a.a.$filters),c=(e,...t)=>{const{filters:n,controllers:r}=s();n[e]||(n[e]={});let o=n[e];if(r&&r[e]){const n=Object.values(r[e]).map(e=>e.callback);for(const e of n){const n=e(o,...t);void 0!==n&&(o=n)}}return o},u=(e,t,...n)=>{const o=c(e,...n),a=Object.keys(o),i=a.length;if(o&&i>0){const e=a.map(e=>o[e]),i=Object(r.l)(e);for(const e of i){const{callback:r}=e,o=r(t,...n);void 0!==o&&(t=o)}}return Array.isArray(t)&&(t=Object(r.l)(t)),t},l=e=>{let{callback:t}=e;const n=Object(i.d)(e,[\"callback\"]);t=\"function\"!=typeof t?()=>t:t,(({hook:e,key:t,callback:n,priority:r})=>{const{filters:o}=s();o[e]||(o[e]={}),o[e][t]={hook:e,key:t,callback:n,priority:r},o[e]})({...n,callback:t})},d=e=>{let{item:t}=e;const n=Object(i.d)(e,[\"item\"]);l({...n,callback:(e,...n)=>(t=\"function\"==typeof t?t(...n):t,[...e,t])})},p=e=>{const{callback:t,...n}=e;l({...n,callback:(e=[],...n)=>[...e,t(...n)]})},f=async(e,...t)=>{const n=u(e,[],...t);return await Promise.all(n)}},function(e,t){e.exports=require(\"vue\")},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var r=n(6),o=n(1);var a=n(2),i=n.n(a);const s=e=>e||(process.env.FACTOR_CWD?process.env.FACTOR_CWD:process.cwd()?process.cwd():\"base\"),c=e=>Object(r.a)([{package:{name:\"dashboard-test-package\",version:\"1.0.0\",dependencies:{\"@factor/core\":\"^1.0.0\"}}},{app:{components:{error404:()=>n.e(0).then(n.bind(null,152)),content:()=>n.e(0).then(n.bind(null,153)),site:()=>n.e(1).then(n.bind(null,149))},icon:()=>n(62),templatePath:\"__FIND__/index.html\",faviconPath:\"__FIND__/static/favicon.png\"},metaInfo:{titleTemplate:\"%s\",image:\"\"}}]),u=e=>{const t=c();let a=[];a=e?n(63)(`${e}/.factor/loader-settings`).default:n(66).default;const u=Object(o.c)(\"factor-settings\",a.map(e=>\"function\"==typeof e?e():e)),l=Object(r.a)([t,...u]);((e,t)=>{i.a.$factorSettings||(i.a.$factorSettings={}),i.a.$factorSettings[s(t)]=e})(Object(o.c)(\"merged-factor-settings\",l,{cwd:e}),e)},l=(e,{cwd:t}={})=>{const n=(e=>(i.a.$factorSettings||(i.a.$factorSettings={}),i.a.$factorSettings[s(e)]?i.a.$factorSettings[s(e)]:c()))(t);return Object(r.b)({key:e,settings:n})};(()=>{const e=\"createSettings\";Object(o.a)({hook:\"before-server-plugins\",callback:()=>u(),key:e}),Object(o.a)({hook:\"before-app-plugins\",callback:()=>u(),key:e})})()},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c})),n.d(t,\"c\",(function(){return u})),n.d(t,\"d\",(function(){return l})),n.d(t,\"b\",(function(){return d}));var r=n(34),o=n.n(r),a=n(2),i=n.n(a);let s;i.a.use(o.a);const c=()=>(s=new o.a.Store({strict:!1,state:()=>({}),getters:{getItem:e=>t=>e[t]},mutations:{setItem:(e,{item:t,value:n})=>{i.a.set(e,t,n)}}}),\"undefined\"!=typeof window&&window.__INITIAL_STATE__&&s.replaceState(window.__INITIAL_STATE__),s),u=(e,t)=>{if(!s)throw new Error(`Store not available for ${e}:${t}`);return s.commit(\"setItem\",{item:e,value:t})},l=e=>s&&e?s.getters.getItem(e):void 0,d=()=>{if(!s)throw new Error(\"Store not available for state.\");return s.state}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a})),n.d(t,\"b\",(function(){return i}));var r=n(2);const o=new(n.n(r).a),a=(e,...t)=>{o.$emit(e,...t)},i=(e,t)=>{o.$on(e,t)}},function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return p.c})),n.d(t,\"e\",(function(){return p.b})),n.d(t,\"i\",(function(){return p.e})),n.d(t,\"n\",(function(){return p.f})),n.d(t,\"d\",(function(){return p.a})),n.d(t,\"g\",(function(){return c.a})),n.d(t,\"c\",(function(){return l.a})),n.d(t,\"o\",(function(){return f})),n.d(t,\"j\",(function(){return m})),n.d(t,\"l\",(function(){return h})),n.d(t,\"b\",(function(){return b})),n.d(t,\"a\",(function(){return y})),n.d(t,\"m\",(function(){return g})),n.d(t,\"k\",(function(){return v})),n.d(t,\"h\",(function(){return j}));var r=n(42),o=n.n(r),a=n(43),i=n.n(a),s=n(38),c=n.n(s),u=n(39),l=n.n(u),d=[\"a\",\"able\",\"about\",\"above\",\"abroad\",\"according\",\"accordingly\",\"across\",\"actually\",\"adj\",\"after\",\"afterwards\",\"again\",\"against\",\"ago\",\"ahead\",\"aint\",\"all\",\"allow\",\"allows\",\"almost\",\"alone\",\"along\",\"alongside\",\"already\",\"also\",\"although\",\"always\",\"am\",\"amid\",\"amidst\",\"among\",\"amongst\",\"an\",\"and\",\"another\",\"any\",\"anybody\",\"anyhow\",\"anyone\",\"anything\",\"anyway\",\"anyways\",\"anywhere\",\"apart\",\"appear\",\"appreciate\",\"appropriate\",\"are\",\"arent\",\"around\",\"as\",\"as\",\"aside\",\"ask\",\"asking\",\"associated\",\"at\",\"available\",\"away\",\"awfully\",\"b\",\"back\",\"backward\",\"backwards\",\"be\",\"became\",\"because\",\"become\",\"becomes\",\"becoming\",\"been\",\"before\",\"beforehand\",\"begin\",\"behind\",\"being\",\"believe\",\"below\",\"beside\",\"besides\",\"best\",\"better\",\"between\",\"beyond\",\"both\",\"brief\",\"but\",\"by\",\"c\",\"came\",\"can\",\"cannot\",\"cant\",\"cant\",\"caption\",\"cause\",\"causes\",\"certain\",\"certainly\",\"changes\",\"clearly\",\"cmon\",\"co\",\"co.\",\"com\",\"come\",\"comes\",\"concerning\",\"consequently\",\"consider\",\"considering\",\"contain\",\"containing\",\"contains\",\"corresponding\",\"could\",\"couldnt\",\"course\",\"cs\",\"currently\",\"d\",\"dare\",\"darent\",\"definitely\",\"described\",\"despite\",\"did\",\"didnt\",\"different\",\"directly\",\"do\",\"does\",\"doesnt\",\"doing\",\"done\",\"dont\",\"down\",\"downwards\",\"during\",\"e\",\"each\",\"edu\",\"eg\",\"eight\",\"eighty\",\"either\",\"else\",\"elsewhere\",\"end\",\"ending\",\"enough\",\"entirely\",\"especially\",\"et\",\"etc\",\"even\",\"ever\",\"evermore\",\"every\",\"everybody\",\"everyone\",\"everything\",\"everywhere\",\"ex\",\"exactly\",\"except\",\"f\",\"fairly\",\"far\",\"farther\",\"few\",\"fewer\",\"fifth\",\"first\",\"five\",\"followed\",\"following\",\"follows\",\"for\",\"forever\",\"former\",\"formerly\",\"forth\",\"forward\",\"found\",\"four\",\"from\",\"further\",\"furthermore\",\"g\",\"get\",\"gets\",\"getting\",\"given\",\"gives\",\"go\",\"goes\",\"going\",\"gone\",\"got\",\"gotten\",\"greetings\",\"h\",\"had\",\"hadnt\",\"half\",\"happens\",\"hardly\",\"has\",\"hasnt\",\"have\",\"havent\",\"having\",\"he\",\"hed\",\"hell\",\"hello\",\"help\",\"hence\",\"her\",\"here\",\"hereafter\",\"hereby\",\"herein\",\"heres\",\"hereupon\",\"hers\",\"herself\",\"hes\",\"hi\",\"him\",\"himself\",\"his\",\"hither\",\"hopefully\",\"how\",\"howbeit\",\"however\",\"hundred\",\"i\",\"id\",\"ie\",\"if\",\"ignored\",\"ill\",\"im\",\"immediate\",\"in\",\"inasmuch\",\"inc\",\"inc.\",\"indeed\",\"indicate\",\"indicated\",\"indicates\",\"inner\",\"inside\",\"insofar\",\"instead\",\"into\",\"inward\",\"is\",\"isnt\",\"it\",\"itd\",\"itll\",\"its\",\"its\",\"itself\",\"ive\",\"j\",\"just\",\"k\",\"keep\",\"keeps\",\"kept\",\"know\",\"known\",\"knows\",\"l\",\"last\",\"lately\",\"later\",\"latter\",\"latterly\",\"least\",\"less\",\"lest\",\"let\",\"lets\",\"like\",\"liked\",\"likely\",\"likewise\",\"little\",\"look\",\"looking\",\"looks\",\"low\",\"lower\",\"ltd\",\"m\",\"made\",\"mainly\",\"make\",\"makes\",\"many\",\"may\",\"maybe\",\"maynt\",\"me\",\"mean\",\"meantime\",\"meanwhile\",\"merely\",\"might\",\"mightnt\",\"mine\",\"minus\",\"miss\",\"more\",\"moreover\",\"most\",\"mostly\",\"mr\",\"mrs\",\"much\",\"must\",\"mustnt\",\"my\",\"myself\",\"n\",\"name\",\"namely\",\"nd\",\"near\",\"nearly\",\"necessary\",\"need\",\"neednt\",\"needs\",\"neither\",\"never\",\"neverf\",\"neverless\",\"nevertheless\",\"new\",\"next\",\"nine\",\"ninety\",\"no\",\"nobody\",\"non\",\"none\",\"nonetheless\",\"noone\",\"no-one\",\"nor\",\"normally\",\"not\",\"nothing\",\"notwithstanding\",\"novel\",\"now\",\"nowhere\",\"o\",\"obviously\",\"of\",\"off\",\"often\",\"oh\",\"ok\",\"okay\",\"old\",\"on\",\"once\",\"one\",\"ones\",\"ones\",\"only\",\"onto\",\"opposite\",\"or\",\"other\",\"others\",\"otherwise\",\"ought\",\"oughtnt\",\"our\",\"ours\",\"ourselves\",\"out\",\"outside\",\"over\",\"overall\",\"own\",\"p\",\"particular\",\"particularly\",\"past\",\"per\",\"perhaps\",\"placed\",\"please\",\"plus\",\"possible\",\"presumably\",\"probably\",\"provided\",\"provides\",\"q\",\"que\",\"quite\",\"qv\",\"r\",\"rather\",\"rd\",\"re\",\"really\",\"reasonably\",\"recent\",\"recently\",\"regarding\",\"regardless\",\"regards\",\"relatively\",\"respectively\",\"right\",\"round\",\"s\",\"said\",\"same\",\"saw\",\"say\",\"saying\",\"says\",\"second\",\"secondly\",\"see\",\"seeing\",\"seem\",\"seemed\",\"seeming\",\"seems\",\"seen\",\"self\",\"selves\",\"sensible\",\"sent\",\"serious\",\"seriously\",\"seven\",\"several\",\"shall\",\"shant\",\"she\",\"shed\",\"shell\",\"shes\",\"should\",\"shouldnt\",\"since\",\"six\",\"so\",\"some\",\"somebody\",\"someday\",\"somehow\",\"someone\",\"something\",\"sometime\",\"sometimes\",\"somewhat\",\"somewhere\",\"soon\",\"sorry\",\"specified\",\"specify\",\"specifying\",\"still\",\"sub\",\"such\",\"sup\",\"sure\",\"t\",\"take\",\"taken\",\"taking\",\"tell\",\"tends\",\"th\",\"than\",\"thank\",\"thanks\",\"thanx\",\"that\",\"thatll\",\"thats\",\"thats\",\"thatve\",\"the\",\"their\",\"theirs\",\"them\",\"themselves\",\"then\",\"thence\",\"there\",\"thereafter\",\"thereby\",\"thered\",\"therefore\",\"therein\",\"therell\",\"therere\",\"theres\",\"theres\",\"thereupon\",\"thereve\",\"these\",\"they\",\"theyd\",\"theyll\",\"theyre\",\"theyve\",\"thing\",\"things\",\"think\",\"third\",\"thirty\",\"this\",\"thorough\",\"thoroughly\",\"those\",\"though\",\"three\",\"through\",\"throughout\",\"thru\",\"thus\",\"till\",\"to\",\"together\",\"too\",\"took\",\"toward\",\"towards\",\"tried\",\"tries\",\"truly\",\"try\",\"trying\",\"ts\",\"twice\",\"two\",\"u\",\"un\",\"under\",\"underneath\",\"undoing\",\"unfortunately\",\"unless\",\"unlike\",\"unlikely\",\"until\",\"unto\",\"up\",\"upon\",\"upwards\",\"us\",\"use\",\"used\",\"useful\",\"uses\",\"using\",\"usually\",\"v\",\"value\",\"various\",\"versus\",\"very\",\"via\",\"viz\",\"vs\",\"w\",\"want\",\"wants\",\"was\",\"wasnt\",\"way\",\"we\",\"wed\",\"welcome\",\"well\",\"well\",\"went\",\"were\",\"were\",\"werent\",\"weve\",\"what\",\"whatever\",\"whatll\",\"whats\",\"whatve\",\"when\",\"whence\",\"whenever\",\"where\",\"whereafter\",\"whereas\",\"whereby\",\"wherein\",\"wheres\",\"whereupon\",\"wherever\",\"whether\",\"which\",\"whichever\",\"while\",\"whilst\",\"whither\",\"who\",\"whod\",\"whoever\",\"whole\",\"wholl\",\"whom\",\"whomever\",\"whos\",\"whose\",\"why\",\"will\",\"willing\",\"wish\",\"with\",\"within\",\"without\",\"wonder\",\"wont\",\"would\",\"wouldnt\",\"x\",\"y\",\"yes\",\"yet\",\"you\",\"youd\",\"youll\",\"your\",\"youre\",\"yours\",\"yourself\",\"yourselves\",\"youve\",\"z\",\"zero\"],p=n(24);const f=e=>new Promise(t=>setTimeout(t,e||0)),m=(e=16)=>i.a.generate(e),h=e=>e&&0!=e.length?e.sort((e,t)=>{const n=e.priority||100,r=t.priority||100;let o=0;return n<r?o=-1:n>r&&(o=1),o}):e,b=({key:e,settings:t})=>{const n=e.slice(0,e.indexOf(\".\")),r=e.slice(e.indexOf(\".\")+1);return void 0!==t[e]?t[e]:\"object\"==typeof t[n]?b({key:r,settings:t[n]}):void 0},y=e=>{const t=e.filter(e=>e);return o.a.all(t,{arrayMerge:(e,t)=>t.map(t=>{if(null===t||\"object\"!=typeof t)return t;const n=e.find(e=>null!==e&&\"object\"==typeof e&&(!(!e._item||!t._item||e._item!=t._item)||!(!e._key||!t._key||e._key!=t._key)));return n?y([n,t]):t})})},g=e=>{if(!e||\"string\"!=typeof e)return\"\";var t;return((e,t=[])=>{if(0==t.length&&(t=d),e.split(\" \").length<=1)return e;const n=new RegExp(\"\\\\b(\"+t.join(\"|\")+\")\\\\b\",\"gi\");return e.replace(n,e=>e.toLowerCase())})((t=e,t?t.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase():t).replace(new RegExp(\"-|_\",\"g\"),\" \").replace(/\\b\\w/g,e=>e.toUpperCase()),[\"and\",\"an\",\"a\",\"the\",\"or\",\"am\"])},v=e=>e?e.toString().toLowerCase().replace(/\\s+/g,\"-\").replace(/[^\\w-]+/g,\"\").replace(/^\\d+/g,\"\").replace(/--+/g,\"-\").replace(/^-+/,\"\").replace(/-+$/,\"\"):e,j=(e=[],t={})=>{const{prefix:n=\"\"}=t;let{suffix:r=\"\"}=t;if(!Array.isArray(e))return[];return r=r?\" \"+r:\"\",e.map(e=>{if(\"string\"==typeof e||\"number\"==typeof e){const t=`${n}${g(e)}${r}`;return{value:e,name:t,label:t,desc:\"\"}}{const{name:t,label:o,value:a}=e;if(!t&&o?e.name=o:!o&&t&&(e.label=t),!e.label&&a){const t=`${n}${g(a)}${r}`;e.name=t,e.label=t}else void 0===a&&e.label&&(e.value=v(e.label));return e}})}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d})),n.d(t,\"b\",(function(){return p}));var r=n(5),o=n(0),a=n(9),i=n(14),s=n(12),c=n(11),u=n(27),l=n.n(u);const d=async(e,t,n={})=>{var r;const{headers:a={}}=n,u=await(async e=>(\"object\"==typeof e&&null!=e&&e.params&&e.params.token||await Object(s.g)(),`Bearer ${Object(c.b)()}`))(t),d=null!==(r=Object(o.y)(\"package.name\"))&&void 0!==r?r:\"\";return n.headers={Authorization:u,from:d,...a},n.timeout=3e4,o.o&&(n.baseURL=Object(i.c)()),await l.a.post(e,t,n)},p=async({id:e,method:t,params:n={},headers:i={}})=>{if(!t)throw new Error(`Endpoint request to \"${e}\" requires a method.`);const{data:{result:s,error:u}}=await d((l=e,`/_api_/${l}`),{method:t,params:n},{headers:i});var l;return u&&Object(c.a)(u,{onError:()=>{const e=new Error(u.message.replace(\"Error: \",\"\"));if(Object(r.a)(\"error\",e),!o.o)throw e;a.a.error(e)}}),s}},function(e,t){e.exports=require(\"lodash-es\")},function(e,t,n){\"use strict\";var r=n(44),o=n.n(r),a=n(23),i=n.n(a),s=n(16),c=n.n(s),u=n(27),l=n.n(u),d=n(3),p=n(28);const f=()=>`${(Object(d.a)(\"app.email\")?Object(d.a)(\"app.email\"):Object(d.a)(\"app.url\"))||\"unknown\"}-${p.version}`;var m=n(0);t.a=new class{constructor(){this.utility=o.a.create({level:5})}error(...e){Reflect.apply(this.utility.error,null,e);const t=e[0];let n;t instanceof Error?n=t.message:\"string\"==typeof t&&(n=t),n&&this.diagnostic({event:\"factorError\",action:n})}warn(...e){Reflect.apply(this.utility.warn,null,e)}success(...e){Reflect.apply(this.utility.log,null,e)}log(...e){Reflect.apply(this.utility.log,null,e)}info(...e){Reflect.apply(this.utility.log,null,e)}server(e,{color:t=\"cyan\"}={}){const n=c.a.keyword(t);this.log(n(`${i.a.tick} `)+e)}async diagnostic({event:e,action:t,label:n}){if(!m.o)return;n=n||f();const r=encodeURI(`https://factor.dev/__track_event__?event=${e}&action=${t}&label=${n}`);try{await l.a.get(r)}catch(e){}}formatted({title:e,lines:t=[],format:n=\"\",color:r=\"cyan\"}){}}},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return l})),n.d(t,\"a\",(function(){return p})),n.d(t,\"c\",(function(){return f})),n.d(t,\"d\",(function(){return m}));var r=n(1),o=(n(5),n(2)),a=n.n(o),i=n(35),s=n.n(i),c=n(30),u=n.n(c);n(0);a.a.use(s.a);const l=()=>{const e=Object(r.c)(\"routes\",[]).filter(e=>e),t=new s.a({mode:\"history\",routes:e,base:Object(r.c)(\"app-base-route\",\"/\"),scrollBehavior:(e,t,n)=>{const r={x:0,y:0};return e.hash?{...r,selector:e.hash}:n?{...r,...n}:r},parseQuery:e=>u.a.parse(e),stringifyQuery:e=>u.a.stringify(e)?`?${u.a.stringify(e)}`:\"\"});return a.a.$router=t,t},d=()=>a.a.$router,p=(e,t)=>{Object(r.d)({hook:\"content-routes\",key:`add-${e.path}`,item:e,...t})},f=()=>d().currentRoute,m=e=>d().push(e)},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return o})),n.d(t,\"a\",(function(){return a}));var r=n(5);const o=e=>{if(\"undefined\"==typeof localStorage||!localStorage)return\"\";if(\"destroy\"===e)localStorage.removeItem(\"token\");else{if(!e){const e=localStorage.getItem(\"token\");return e?JSON.parse(e).token:\"\"}localStorage.setItem(\"token\",JSON.stringify({token:e}))}},a=(e,{onError:t})=>{const n=\"token signature is invalid\";e&&\"string\"==typeof e&&e.includes(n)||\"object\"==typeof e&&e.message&&e.message.includes(n)?Object(r.a)(\"invalid-user-token\",e):t&&t()}},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return I})),n.d(t,\"g\",(function(){return q})),n.d(t,\"d\",(function(){return P})),n.d(t,\"f\",(function(){return E})),n.d(t,\"c\",(function(){return L})),n.d(t,\"a\",(function(){return A})),n.d(t,\"e\",(function(){return R}));var r=n(13),o=n(32),a=n(2),i=n.n(a),s=n(6),c=n(1),u=n(10),l=n(4),d=n(9),p=n(5),f=n(7),m=n(0),h=n(33),b=n(22),y=n(18),g=n(17),v=n(49),j=n.n(v),O=n(50),k=n.n(O),w=n(36),x=n.n(w),_=n(15),T=()=>({name:\"user\",permissions:{retrieve:{accessLevel:0}},populatedFields:Object(c.c)(\"user-populated-fields\",[{field:\"covers\",depth:30}]),callback:e=>{e.methods.comparePassword=async function(e){return x.a.compare(e,this.password)},e.pre(\"save\",(async function(e){if(!this.isModified(\"password\")||!this.password)return e();try{return this.password=await x.a.hash(this.password,10),e()}catch(t){return e(t)}})),e.pre(\"save\",(function(e){this.displayName&&(this.title=this.displayName),!this.username&&this.displayName?this.username=`${Object(s.k)(this.displayName)}-${Object(s.j)(3)}`:this.username||(this.username=`user-${Object(s.j)(6)}`),this.username&&(this.permalink=`@${this.username}`),e()})),Object(c.c)(\"user-schema-hooks\",e)},schema:Object(c.c)(\"user-schema\",{signedInAt:Date,username:{type:String,trim:!0,index:{unique:!0,sparse:!0},minlength:3},email:{type:String,required:!0,trim:!0,lowercase:!0,index:{unique:!0},validate:{validator:e=>j()(e)||!1,message:\"Email is invalid.\"}},emailVerified:{type:Boolean,default:!1},password:{select:!1,type:String,trim:!0,validate:{validator:e=>e.length>=8,message:\"Password is shorter than minimum (8 characters)\"}},displayName:{type:String,trim:!0},phoneNumber:{type:String,lowercase:!0,trim:!0,validate:{validator:e=>k()(e),message:\"Phone number is invalid.\"}},covers:[{type:Object(_.a)(),ref:\"attachment\"}],birthday:Date,gender:{type:String,enum:[\"male\",\"female\"]},about:String}),options:{toObject:{virtuals:!0},toJSON:{virtuals:!0}}});Object(g.a)(()=>T());var S=n(21);Object(c.d)({key:\"account\",hook:\"dashboard-routes\",item:{path:\"account\",component:()=>n.e(1).then(n.bind(null,182)),meta:{postType:\"user\"}}}),Object(c.d)({key:\"account\",hook:\"account-menu\",item:{group:\"account\",path:\"account\",name:\"Your Account\",icon:n(41)}}),Object(c.d)({key:\"account\",hook:\"action-menu\",item:{key:\"logout\",click:()=>Object(b.a)(),name:\"Logout\"}}),Object(S.a)({postType:\"user\",icon:n(41),nameIndex:\"Users\",nameSingle:\"User\",namePlural:\"Users\",listTemplate:()=>n.e(0).then(n.bind(null,183)),editTemplate:()=>n.e(1).then(n.bind(null,184)),baseRoute:\"@\",accessLevel:500,noAddNew:!0});var $=n(11);const I=()=>Object(l.d)(\"currentUser\"),q=async e=>{const[t]=await Promise.all([i.a.$initializedUser,Object(m.J)(50)]);return e&&e(t),t},P=async e=>{let t,n;e&&e.token?t=e.token:Object($.b)()&&(t=Object($.b)());try{t&&(n=await Object(r.g)({token:t,postType:\"user\",log:\"loadUser\"}),Object(b.b)({user:n,token:t,current:!0}))}catch(e){Object($.a)(e,{onError:()=>d.a.error(e)})}return n},E=()=>{const e=I();return e&&e._id?e._id:\"\"},L=()=>!!I(),A=async e=>{const t=await(async(e,t)=>await Object(f.b)({id:\"user\",method:e,params:t}))(\"authenticate\",e);return t&&t.token&&(Object(p.a)(\"userAuthenticated\",{user:t,params:e}),await Object(c.e)(\"userAuthenticatedCallbacks\",t,e),Object(r.d)({posts:[t]}),Object(b.b)({user:t,token:t.token,current:!0})),t},R=({role:e=\"\",accessLevel:t=-1,post:n})=>{var r;const o=I(),a=o&&o.accessLevel?o.accessLevel:0,i=e?y.b[e]:1e3;return!(!o||!(null===(r=null==n?void 0:n.author)||void 0===r?void 0:r.includes(o._id)))||(t>=0&&a>=t||!!(e&&a>=i))};Object(c.a)({key:\"verifyEmail\",hook:\"route-query-action-verify-email\",callback:e=>Object(h.e)(e)}),Object(c.a)({key:\"resetPassword\",hook:\"route-query-action-reset-password\",callback:()=>Object(h.c)()}),Object(c.b)({key:\"userInit\",hook:\"before-app\",callback:()=>{s.g||i.a.$initializedUser||(i.a.$initializedUser=(async()=>{await Object(o.a)();const e=await P();return Object(p.a)(\"userInitialized\",e),await Object(c.e)(\"before-user-init\",e),i.a.$userIsInitialized=!0,e})(),Object(c.a)({key:\"authRouting\",hook:\"client-route-before\",callback:async({to:e})=>{var t,n,r;const o=await q(),{path:a}=e,i=e.matched.some(e=>e.meta.auth),s=null!==(t=null==o?void 0:o.accessLevel)&&void 0!==t?t:0;let c=0;if(e.matched.forEach(({meta:e})=>{e.accessLevel&&e.accessLevel>c&&(c=e.accessLevel)}),e.path.includes(\"dashboard\")&&e.params.postType){const t=null!==(r=null===(n=Object(m.k)(e.params.postType))||void 0===n?void 0:n.accessLevel)&&void 0!==r?r:0;t>c&&(c=t)}return(!0===i||c>0)&&!o?(Object(p.a)(\"sign-in-modal\",{redirect:a}),!1):!(c>s&&(Object(u.d)({path:\"/\"}),Object(p.a)(\"error\",\"403: Permissions needed\"),1))}}),Object(c.a)({key:\"authRouting\",hook:\"before-user-init\",callback:e=>{var t,n,r;const{path:o,matched:a,params:i}=Object(u.c)(),s=a.some(e=>e.meta.auth),c=null!==(t=null==e?void 0:e.accessLevel)&&void 0!==t?t:0;let l=0;if(a.forEach(({meta:e})=>{e.accessLevel&&e.accessLevel>l&&(l=e.accessLevel)}),o.includes(\"dashboard\")&&i.postType){const e=null!==(r=null===(n=Object(m.k)(i.postType))||void 0===n?void 0:n.accessLevel)&&void 0!==r?r:0;e>l&&(l=e)}(l>0||!0===s)&&!e?Object(u.d)({path:\"/signin\",query:{redirect:o}}):l>c&&(Object(u.d)({path:\"/\"}),Object(p.a)(\"error\",\"403: Permissions needed\"))}}))}}),Object(p.b)(\"invalid-user-token\",()=>{Object(b.b)({user:void 0,current:!0})})},function(e,t,n){\"use strict\";n.d(t,\"d\",(function(){return m})),n.d(t,\"e\",(function(){return b})),n.d(t,\"f\",(function(){return y})),n.d(t,\"a\",(function(){return g})),n.d(t,\"g\",(function(){return v})),n.d(t,\"b\",(function(){return j})),n.d(t,\"c\",(function(){return O}));var r=n(7),o=n(4),a=n(26),i=n(0),s=n(51),c=n.n(s),u=n(19),l=n(17);const d=e=>{Object(o.c)(`${e}Cache`,Object(a.c)())},p=e=>Object(o.d)(`${e}Cache`)||\"\",f=async(e,t)=>await Object(r.b)({id:\"posts\",method:e,params:t}),m=async({posts:e,depth:t=10})=>{let n=[];e.forEach(e=>{var r;Object(o.c)(e._id,e),Object(l.b)({postType:null!==(r=e.postType)&&void 0!==r?r:\"post\",depth:t}).forEach(t=>{const r=e[t];r&&(Array.isArray(r)?n=[...n,...r]:n.push(r))})});const r=n.filter((e,t,n)=>!Object(o.d)(e)&&n.indexOf(e)===t);if(r.length>0){const e=await f(\"populatePosts\",{_ids:r});await m({posts:e,depth:t})}return n},h=async(e,{depth:t=10}={})=>{var n;if(e){const r=[e,...null!==(n=e.embedded)&&void 0!==n?n:[]];i.o?await m({posts:r,depth:t}):m({posts:r,depth:t})}},b=async({post:e,postType:t})=>{const n=await f(\"savePost\",{data:e,postType:t});return d(t),await h(n),n},y=async({_ids:e,data:t,postType:n})=>(d(n),await f(\"updateManyById\",{data:t,_ids:e,postType:n})),g=async({_ids:e,postType:t})=>(d(t),await f(\"deleteManyById\",{_ids:e})),v=async e=>{const{permalink:t,field:n=\"permalink\",postType:r=\"post\",log:a=\"\",_id:i,token:s,createOnEmpty:c=!1,status:u=\"all\",depth:l=50}=e,d={postType:r,createOnEmpty:c,status:u,log:a};i?d._id=i:t?d.conditions={[n]:t}:s&&(d.token=s);let p=Object(o.d)(i);return p||(p=await f(\"getSinglePost\",d)),await h(p,{depth:l}),p},j=async e=>{const{limit:t=20,page:n=1,postType:r,sort:a,order:i,time:s,search:l,cache:d=!0,sameSource:h=!1,conditions:b={}}=e,y=c()({...e,cache:p(r)}),g=Object(o.d)(y),v=(n-1)*t;if(g&&d)return Object(o.c)(r,g),g;const j={conditions:b,postType:r,options:{limit:t,skip:v,page:n,sort:a,order:i,time:s,search:l},sameSource:h};[\"tag\",\"category\",\"status\",\"role\"].forEach(t=>{e[t]&&(j.conditions[t]=e[t])}),e.status||(j.conditions.status={$ne:u.a.Trash});const O=await f(\"postIndex\",j);if(O){const{posts:e,meta:t}=O;return Object(o.c)(y,{posts:e,meta:t}),Object(o.c)(r,{posts:e,meta:t}),await m({posts:e,depth:20}),{posts:e,meta:t}}return{posts:[],meta:{}}},O=async e=>{const{limit:t=10,page:n=1,postType:r,sort:o,depth:a=20,conditions:i={},sameSource:s}=e,c=(n-1)*t,u=await f(\"postList\",{postType:r,conditions:i,options:{limit:t,skip:c,page:n,sort:o},sameSource:s});return await m({posts:u,depth:a}),u}},function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return r})),n.d(t,\"b\",(function(){return o})),n.d(t,\"a\",(function(){return a}));n(3);const r=()=>{const e=process.env.PORT||3e3;return`${process.env.HTTP_PROTOCOL||\"http\"}://localhost:${e}`},o=()=>r(),a=e=>[\"http:\",\"https:\",\"ftp:\",\"mailto:\",\"file:\",\"data:\",\"irc:\"].some(t=>e.includes(t))?e:`${o()}${e}`},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(31);Object.defineProperty(r.ObjectId.prototype,\"_id\",{enumerable:!1,configurable:!0,get:function(){return this}});const o=()=>r.ObjectId},function(e,t){e.exports=require(\"chalk\")},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c})),n.d(t,\"b\",(function(){return l})),n.d(t,\"c\",(function(){return d}));var r=n(1),o=(n(6),n(3)),a=n(15),i=n(19),s=()=>({name:\"post\",options:{timestamps:!0},permissions:{create:{accessLevel:100},retrieve:{accessLevel:100,accessPublished:0,accessAuthor:!0},update:{accessLevel:100,accessAuthor:!0},delete:{accessLevel:200,accessAuthor:!0},embedded:{create:{accessLevel:1},retrieve:{accessLevel:0},update:{accessLevel:100,accessAuthor:!0},delete:{accessLevel:100,accessAuthor:!0}}},populatedFields:Object(r.c)(\"post-populated-fields\",[{field:\"author\",depth:10,context:\"list\"},{field:\"images\",depth:10,context:\"single\"},{field:\"avatar\",depth:3,context:\"any\"}]),schema:Object(r.c)(\"post-schema\",{postType:{type:String,index:!0,sparse:!0},date:Date,title:{type:String,trim:!0},synopsis:{type:String,trim:!0},content:{type:String,trim:!0},author:[{type:Object(a.a)(),ref:\"user\"}],follower:[{type:Object(a.a)(),ref:\"user\"}],images:[{type:Object(a.a)(),ref:\"attachment\"}],avatar:{type:Object(a.a)(),ref:\"attachment\"},tag:{type:[String],index:!0},category:{type:[String],index:!0,default:[]},source:{type:String,trim:!0,default:Object(o.a)(\"package.name\"),index:!0},settings:{},list:{type:[Object]},embedded:{type:[Object],select:!1},embeddedCount:{type:Number,default:0,index:!0},status:{type:String,enum:Object.values(i.a),index:!0,default:i.a.Draft},uniqueId:{type:String,trim:!0,index:{unique:!0,sparse:!0}},permalink:{type:String,trim:!0,index:{unique:!0,sparse:!0},minlength:3,validator:function(e){return/^[\\d-az-]+$/.test(e)},message:e=>`permalink ${e.value} is not URL compatible.`}}),callback:e=>{e.index({title:\"text\",content:\"text\",username:\"text\",\"embedded.$.title\":\"text\",\"embedded.$.content\":\"text\"}),e.pre(\"save\",(function(e){if(this.markModified(\"settings\"),!this.date){const e=new Date;this.date=e.toISOString()}this.postType=this.get(\"__t\")||\"post\",e()}))}});n(9),n(18);const c=e=>{const t=\"function\"==typeof e?e().name:e.name;Object(r.d)({hook:\"data-schemas\",key:t,item:e})},u=e=>{var t;return null!==(t=Object(r.c)(\"data-schemas\",[s()]).map(e=>{const t=\"function\"==typeof e?e():e;return t.schema=Object(r.c)(`schema-definition-${e.name}`,t.schema),Object(r.c)(`data-schema-${e.name}`,t)}).find(t=>t.name==e))&&void 0!==t?t:s()},l=({postType:e=\"post\",depth:t=10})=>{let n=u(\"post\").populatedFields||[];const r=u(e);if(\"post\"!=e&&r){const e=r.populatedFields||[];n=[...n,...e]}return n.filter(e=>e.depth<=t).map(e=>e.field)},d=({meta:e,field:t=\"status\",key:n,nullKey:r=\"\"})=>{if(!e[t])return 0;let o=0;const a=e[t].find(e=>e._id==n);if(o=a?a.count:0,r&&n==r){const n=e[t].find(e=>null==e._id);o+=n?n.count:0}return o}},function(e,t,n){\"use strict\";var r,o;n.d(t,\"a\",(function(){return o})),n.d(t,\"b\",(function(){return a})),function(e){e.Male=\"male\",e.Female=\"female\"}(r||(r={})),function(e){e.Admin=\"admin\",e.Moderator=\"moderator\",e.Editor=\"editor\",e.Creator=\"creator\",e.Member=\"member\",e.Anonymous=\"anonymous\"}(o||(o={}));const a={admin:500,moderator:300,editor:200,creator:100,member:20,anonymous:0}},function(e,t,n){\"use strict\";var r,o,a,i,s,c;n.d(t,\"a\",(function(){return o})),function(e){e.Any=\"any\",e.List=\"list\",e.Single=\"single\",e.Detailed=\"detailed\"}(r||(r={})),function(e){e.Draft=\"draft\",e.Published=\"published\",e.Trash=\"trash\"}(o||(o={})),function(e){e.Day=\"day\",e.Week=\"week\",e.Month=\"month\",e.Year=\"year\",e.AllTime=\"all-time\"}(a||(a={})),function(e){e.Latest=\"latest\",e.Popular=\"popular\",e.Top=\"top\",e.Oldest=\"oldest\"}(i||(i={})),function(e){e.Ascending=\"ascending\",e.Descending=\"descending\"}(s||(s={})),function(e){e.Create=\"create\",e.Retrieve=\"retrieve\",e.Update=\"update\",e.Delete=\"delete\"}(c||(c={}))},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return s})),n.d(t,\"a\",(function(){return c}));var r=n(1),o=n(2),a=n.n(o);a.a.config.productionTip=!1,a.a.config.silent=!1;let i={};const s=()=>i,c=async(e={})=>{await Object(r.e)(\"before-app-plugins\",e);try{n(67)}catch(e){if(\"MODULE_NOT_FOUND\"!==e.code)throw new Error(e)}i=a.a.observable(Object(r.c)(\"register-global-observables\",{})),await Object(r.e)(\"initialize-app\",e)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i})),n.d(t,\"c\",(function(){return s})),n.d(t,\"b\",(function(){return c}));var r=n(1),o=n(6),a=n(0);const i=e=>{Object(r.d)({hook:\"post-types-config\",key:e.postType,item:e})},s=()=>Object(r.c)(\"post-types-config\",[]).map(e=>{const t=void 0===e.baseRoute?e.postType:e.baseRoute,n=Object(o.m)(e.postType);return{postType:\"post\",permalink:e=>Object(a.j)({postType:e.postType,permalink:e.permalink,root:!1}),baseRoute:t,nameIndex:n,nameSingle:n,namePlural:n,...e}}),c=e=>s().find(t=>t.postType==e)||{postType:\"post\"}},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return s})),n.d(t,\"a\",(function(){return c}));var r=n(0),o=n(2),a=n.n(o),i=(n(18),n(11));const s=({user:e,token:t=\"\",current:n=!1})=>{n&&(a.a.$initializedUser=e||void 0,t&&e?Object(i.b)(t):void 0===e&&Object(i.b)(\"destroy\"),Object(r.C)(\"currentUser\",e),localStorage&&localStorage[e?\"setItem\":\"removeItem\"](\"user\",JSON.stringify(e))),e&&e._id&&Object(r.C)(e._id,e)},c=async(e={})=>{if(s({user:void 0,current:!0}),Object(r.i)(\"logout\"),Object(r.i)(\"notify\",\"Successfully logged out.\"),e.redirect||Object(r.g)().matched.some(e=>e.meta.auth)){const{redirect:t=\"/\"}=e;Object(r.p)({path:t})}else Object(r.i)(\"reset-ui\")}},function(e,t){e.exports=require(\"figures\")},function(e,t,n){\"use strict\";var r=n(8);n.d(t,\"c\",(function(){return r.isEqual})),n.d(t,\"b\",(function(){return r.isEmpty})),n.d(t,\"e\",(function(){return r.pickBy})),n.d(t,\"f\",(function(){return r.uniq})),n.d(t,\"a\",(function(){return r.identity})),n.d(t,\"d\",(function(){return r.omit}))},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var r=n(1),o=n(3),a=n(10),i=n(4),s=n(13);const c=async({to:e=null,clientOnly:t=!1}={})=>{const n=e||Object(a.c)(),c=Object(r.c)(\"post-params\",{...n.params,...n.query,status:\"published\",log:\"prefetch\"}),{permalink:u=\"\",_id:l}=c,d=Object(o.a)(\"dashboard.route\");if(!u&&!l||u&&\"__webpack_hmr\"==u||u.includes(\".\")||n.path.includes(d))return;c.permalink=decodeURIComponent(u),t&&Object(i.c)(\"post\",{loading:!0});const p=await Object(s.g)(c);Object(i.c)(\"post\",p)}},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return c})),n.d(t,\"a\",(function(){return u})),n.d(t,\"d\",(function(){return l})),n.d(t,\"c\",(function(){return d}));var r=n(29),o=n.n(r),a=n(45),i=n.n(a);o.a.extend(i.a);const s=e=>!(!e||!(e=>!(isNaN(parseFloat(e))||!isFinite(e)))(e))&&(e=e.toString(),/^\\d{8,11}$/.test(e)),c=e=>e&&s(e)?(e=parseFloat(e.toString()),o.a.unix(e)):o()(e),u=e=>e?c(e).format(\"MMM DD, YYYY\"):\"\",l=e=>c(e).toDate(),d=e=>e?c(e).unix():c().unix()},function(e,t){e.exports=require(\"axios\")},function(e){e.exports=JSON.parse('{\"name\":\"@factor/core\",\"description\":\"This is the parent package for all Factor core packages.\",\"version\":\"1.5.3\",\"license\":\"GPL-2.0\",\"publishConfig\":{\"access\":\"public\"},\"factor\":{\"_id\":\"core\"},\"dependencies\":{\"@factor/api\":\"^1.5.3\",\"@factor/app\":\"^1.5.0\",\"@factor/attachment\":\"^1.4.0\",\"@factor/build\":\"^1.4.6\",\"@factor/cli\":\"^1.5.3\",\"@factor/dashboard\":\"^1.5.0\",\"@factor/email\":\"^1.3.12\",\"@factor/endpoint\":\"^1.5.0\",\"@factor/loader\":\"^1.5.3\",\"@factor/meta\":\"^1.4.6\",\"@factor/plugin-ssr-bar\":\"^1.3.11\",\"@factor/post\":\"^1.5.0\",\"@factor/server\":\"^1.5.0\",\"@factor/templates\":\"^1.4.6\",\"@factor/ui\":\"^1.5.3\",\"@factor/user\":\"^1.5.0\",\"ts-node\":\"^8.5.0\",\"typescript\":\"^3.8.0\"},\"gitHead\":\"b257411e1c6c32b52b444cc6f1518bf1bee1e480\"}')},function(e,t){e.exports=require(\"dayjs\")},function(e,t){e.exports=require(\"qs\")},function(e,t){e.exports=require(\"bson\")},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var r=n(3),o=n(1),a=n(5),i=n(20);n.d(t,\"b\",(function(){return i.b}));const s=new Promise(e=>Object(a.b)(\"app-mounted\",()=>e())),c=async e=>{await s,e&&e()};Object(o.a)({hook:\"initialize-app\",key:\"setupApp\",callback:()=>{const e=Object(r.a)(\"app.components.error404\"),t=Object(r.a)(\"app.components.content\");if(!e||!t)throw new Error(\"core components missing\");Object(o.b)({hook:\"routes\",key:\"appRoutes\",callback:n=>{const r=Object(o.c)(\"content-routes\",[{name:\"forbidden\",path:\"/forbidden\",component:e,meta:{error:403}}]).filter((e,t,n)=>t===n.map(e=>e.path).lastIndexOf(e.path));return n.push({path:\"/\",component:t,children:r}),n.push({path:\"*\",component:t,children:Object(o.c)(\"content-routes-unmatched\",[{name:\"notFound\",path:\"*\",component:e,meta:{error:404}}]),priority:3e3}),n}})}})},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return c})),n.d(t,\"e\",(function(){return u})),n.d(t,\"c\",(function(){return l})),n.d(t,\"d\",(function(){return d})),n.d(t,\"a\",(function(){return p}));var r,o=n(0),a=n(7),i=n(12);!function(e){e[e.success=0]=\"success\",e[e.failure=1]=\"failure\"}(r||(r={}));const s=async(e,t)=>await Object(a.b)({id:\"userEmails\",method:e,params:t}),c=async({_id:e,email:t})=>{await s(\"sendVerifyEmail\",{_id:e,email:t})==r.success&&Object(o.i)(\"notify\",\"Verification email sent!\")},u=async({_id:e,code:t})=>{const{result:n,user:a}=await s(\"verifyEmail\",{_id:e,code:t});n==r.success&&(Object(o.i)(\"accountEmailVerified\",{user:a}),Object(o.i)(\"notify\",\"Email is verified!\"),Object(i.d)())},l=async()=>{Object(o.a)({key:\"resetPass\",hook:\"sign-in-modal-loaded\",callback:()=>{Object(o.i)(\"sign-in-modal\")}})},d=async e=>{await s(\"verifyAndResetPassword\",e)==r.success&&Object(o.i)(\"notify\",\"Password successfully reset!\")},p=async({email:e})=>{await s(\"sendPasswordResetEmail\",{email:e})==r.success&&Object(o.i)(\"notify\",\"Password reset email sent.\")}},function(e,t){e.exports=require(\"vuex\")},function(e,t){e.exports=require(\"vue-router\")},function(e,t){e.exports=require(\"bcryptjs\")},,function(e,t){e.exports=require(\"detect-node\")},function(e,t){e.exports=require(\"uniqid\")},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(47),o=n.n(r),a=n(48),i=n.n(a);const s=(e,{length:t=42}={})=>{if(!e)return\"\";const n=(e=>{let t=\"\";return o()().use(i.a).process(e,(e,n)=>{if(e)throw e;t=String(n)}),t})(e).replace(/\\n|\\r/g,\" \").split(\" \");return n.length>t?n.slice(0,t).join(\" \")+\"...\":n.join(\" \")}},function(e,t,n){e.exports=n.p+\"users-b2dddf79.svg\"},function(e,t){e.exports=require(\"deepmerge\")},function(e,t){e.exports=require(\"rand-token\")},function(e,t){e.exports=require(\"consola\")},function(e,t){e.exports=require(\"dayjs/plugin/relativeTime\")},function(e,t){e.exports=require(\"sanitize-html\")},function(e,t){e.exports=require(\"remark\")},function(e,t){e.exports=require(\"strip-markdown\")},function(e,t){e.exports=require(\"validator/lib/isEmail\")},function(e,t){e.exports=require(\"validator/lib/isMobilePhone\")},function(e,t){e.exports=require(\"object-hash\")},function(e,t){e.exports=require(\"blueimp-load-image\")},function(e,t){e.exports=require(\"vue-meta\")},function(e,t,n){\"use strict\";n.d(t,\"e\",(function(){return i})),n.d(t,\"x\",(function(){return s})),n.d(t,\"b\",(function(){return c})),n.d(t,\"c\",(function(){return u})),n.d(t,\"d\",(function(){return l})),n.d(t,\"A\",(function(){return d})),n.d(t,\"y\",(function(){return p})),n.d(t,\"z\",(function(){return f})),n.d(t,\"g\",(function(){return m})),n.d(t,\"a\",(function(){return h})),n.d(t,\"w\",(function(){return b})),n.d(t,\"f\",(function(){return y})),n.d(t,\"v\",(function(){return g})),n.d(t,\"l\",(function(){return v})),n.d(t,\"s\",(function(){return j})),n.d(t,\"k\",(function(){return O})),n.d(t,\"j\",(function(){return k})),n.d(t,\"n\",(function(){return w})),n.d(t,\"t\",(function(){return x})),n.d(t,\"u\",(function(){return _})),n.d(t,\"o\",(function(){return T})),n.d(t,\"i\",(function(){return S})),n.d(t,\"q\",(function(){return $})),n.d(t,\"h\",(function(){return I})),n.d(t,\"m\",(function(){return q})),n.d(t,\"p\",(function(){return P})),n.d(t,\"r\",(function(){return E}));var r=n(3),o=n(0);const a=\"formattedText\";Object(o.c)({key:a,hook:\"client-directives\",callback:e=>(e[\"formatted-text\"]=function(e,t){e.innerHTML=Object(o.x)(t.value)},e)}),Object(o.c)({key:a,hook:\"server-directives\",callback:e=>(e[\"formatted-text\"]=function(e,t){if(!e.data)return;const n=Object(o.x)(t.value);(e.data.domProps||(e.data.domProps={})).innerHTML=n},e)});const i=Object(r.a)(\"app.components.error404\"),s=(Object(r.a)(\"app.components.content\"),Object(r.a)(\"app.components.site\"),Object(r.a)(\"core.components.link\")),c=Object(r.a)(\"core.components.btn\"),u=Object(r.a)(\"core.components.btnBase\"),l=Object(r.a)(\"core.components.btnDashboard\"),d=Object(r.a)(\"core.components.modalApp\"),p=(Object(r.a)(\"core.components.modal\"),Object(r.a)(\"core.components.loadingRing\")),f=()=>n.e(1).then(n.bind(null,164)),m=()=>n.e(1).then(n.bind(null,165)),h=()=>n.e(0).then(n.bind(null,166)),b=Object(r.a)(\"core.components.lightbox\"),y=()=>n.e(0).then(n.bind(null,167)),g=()=>n.e(1).then(n.bind(null,168)),v=()=>n.e(1).then(n.bind(null,169)),j=()=>n.e(0).then(n.bind(null,170)),O=()=>n.e(0).then(n.bind(null,171)),k=()=>n.e(0).then(n.bind(null,172)),w=()=>n.e(1).then(n.bind(null,173)),x=()=>n.e(1).then(n.bind(null,174)),_=()=>n.e(0).then(n.bind(null,175)),T=()=>n.e(1).then(n.bind(null,176)),S=()=>n.e(1).then(n.bind(null,177)),$=()=>n.e(0).then(n.bind(null,178)),I=()=>n.e(1).then(n.bind(null,151)),q=()=>n.e(1).then(n.bind(null,179)),P=()=>n.e(0).then(n.bind(null,180)),E=()=>n.e(1).then(n.bind(null,181))},function(e,t,n){\"use strict\";n.d(t,\"e\",(function(){return i})),n.d(t,\"d\",(function(){return s})),n.d(t,\"c\",(function(){return c})),n.d(t,\"b\",(function(){return u})),n.d(t,\"f\",(function(){return l})),n.d(t,\"a\",(function(){return d})),n.d(t,\"g\",(function(){return p})),n.d(t,\"h\",(function(){return f})),n.d(t,\"i\",(function(){return h}));var r=n(0),o=n(3),a=n(12);const i=()=>n.e(0).then(n.bind(null,75)),s=()=>n.e(0).then(n.bind(null,76)),c=()=>n.e(0).then(n.bind(null,77)),u=()=>n.e(1).then(n.bind(null,78)),l=()=>n.e(0).then(n.bind(null,80)),d=()=>n.e(1).then(n.bind(null,81)),p=()=>n.e(0).then(n.bind(null,82)),f=()=>n.e(1).then(n.bind(null,83)),m=()=>{const e=Object(o.a)(\"dashboard.route\");if(!e)throw new Error(\"Dashboard settings are missing. There may be a problem with settings generation; check the files in your '.factor' folder.\");return e},h=(e,t)=>{if(e&&e.startsWith(\"/\"))return e;return`${t||m()}/${e||\"\"}`};Object(r.c)({key:\"dashboard\",hook:\"routes\",callback:e=>{const t=m(),o=h(\"account\");return e.push({path:\"/admin\",redirect:o}),e.push({path:t,redirect:o}),e.push({path:t,component:()=>n.e(1).then(n.bind(null,84)),children:Object(r.f)(\"dashboard-routes\",[{path:\"*\",component:()=>n.e(1).then(n.bind(null,85)),meta:{auth:!0},priority:3e3}]),meta:{auth:!0,format:\"dashboard\",ui:\"dashboard\"}}),e}}),Object(r.c)({key:\"dashboard\",hook:\"admin-menu\",callback:e=>(Object(r.u)().filter(({hideAdmin:e,accessLevel:t})=>!(e||t&&!Object(a.e)({accessLevel:t}))).forEach(({postType:t,namePlural:n,icon:o=\"\",noAddNew:a=!1,addNewText:i=\"Add New\"})=>{var s;const c=[];!a&&i&&c.push({path:null!==(s=Object(r.A)(i))&&void 0!==s?s:\"\",name:i}),c.push({path:\"edit\"}),e.push({group:t,path:`posts/${t}`,name:n||Object(r.H)(t),icon:o,items:Object(r.f)(`admin-menu-post-${t}`,c)})}),e)})},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a})),n.d(t,\"b\",(function(){return i}));var r=n(0),o=n(17);const a=()=>{const e=Object(r.y)(\"pageTemplates.templates\")||[];return Object(r.f)(\"page-templates\",e).filter((e,t,n)=>t===n.map(e=>e.slug).lastIndexOf(e.slug)).map(e=>({name:e.name||Object(r.H)(e.slug.replace(\"tpl-\",\"\")),...e}))},i=async e=>{const t=a();let n=t.find(t=>t.slug==e);return n||(n=t.find(e=>\"\"==e.slug)),n?(n.fields=await(async e=>{const t=await e.component(),{default:{options:{templateSettings:n}}}=t;return n?n():[]})(n),n):{}};Object(o.a)(()=>({name:\"page\",schema:Object(r.f)(\"page-template-schema\",{template:{type:String,default:\"default\"}})})),Object(r.e)({postType:\"page\",baseRoute:\"\",icon:n(64),nameIndex:\"Pages\",nameSingle:\"Page\",namePlural:\"Pages\",model:\"Page\",customPermalink:!0,addSitemap:!0}),Object(r.v)({key:\"pageTemplateSettings\",hook:\"post-meta-components\",item:{postType:[\"page\"],name:\"Page Template\",component:()=>n.e(0).then(n.bind(null,161))}}),Object(r.v)({key:\"pageTemplateSettings\",hook:\"post-edit-components\",item:{name:\"Template Settings\",component:()=>n.e(0).then(n.bind(null,162))}}),Object(r.c)({key:\"pageTemplateSettings\",hook:\"post-edit-components\",callback:(e,{postType:t})=>{const o=Object(r.k)(t);return(\"page\"==t||o.templateSettings)&&e.push({name:\"Template Settings\",component:()=>n.e(0).then(n.bind(null,162))}),e}}),Object(r.c)({key:\"runTemplatePermalink\",hook:\"content-routes-unmatched\",callback:e=>(e.unshift({path:\"/:permalink\",component:()=>n.e(0).then(n.bind(null,163))}),e)})},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(0),o=n(12);const a=()=>{const e=Object(o.b)();e&&e.email&&Object(r.i)(\"notify\",{message:`Signed in as ${e.email}`})};Object(r.b)({name:\"signin\",path:\"/signin\",component:()=>n.e(1).then(n.bind(null,87))}),Object(r.v)({key:\"dashboard\",hook:\"site-components\",item:{name:\"sign-in-modal\",component:()=>n.e(1).then(n.bind(null,88))}})},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c})),n.d(t,\"b\",(function(){return l}));var r=n(7),o=n(0),a=n(52),i=n.n(a);var s={name:\"attachment\",schema:{mimetype:String,imageData:Buffer,size:Number,url:String},permissions:{create:{accessLevel:1},retrieve:{accessLevel:0}}};Object(o.d)(s);const c=async e=>await(async({method:e,params:t})=>await Object(r.b)({id:\"storage\",method:e,params:t}))({method:\"deleteImage\",params:e}),u=async({file:e,onPrep:t},n={})=>(t&&t({mode:\"started\",percent:5}),e.type.includes(\"image\")&&(e=await(async(e,{maxWidth:t=1200,maxHeight:n=1200})=>await new Promise(r=>{i()(e,t=>{t.toBlob(e=>{e&&r(e)},e.type)},{maxWidth:t,maxHeight:n,canvas:!0,orientation:!0})}))(e,n),t&&t({mode:\"resized\",percent:25,preview:URL.createObjectURL(e)})),t&&t({mode:\"finished\",percent:100}),e),l=async({file:e,onPrep:t,onFinished:n,onError:a,onChange:i})=>{e=await u({file:e,onPrep:t});const s=new FormData;s.append(\"imageUpload\",e);const{data:{result:c,error:l}}=await Object(r.a)(\"/_upload\",s,{headers:{\"Content-Type\":\"multipart/form-data\"},onUploadProgress:function(e){i&&i(e)}});l&&a?a(l):(Object(o.C)(c._id,c),n&&n(c))}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(25),o=n(1);const a=()=>n.e(0).then(n.bind(null,89));Object(o.b)({key:\"dashboardRoutes\",hook:\"dashboard-routes\",callback:e=>{const t={auth:!0,accessLevel:100};return[...e,...[{path:\"posts\",component:()=>n.e(1).then(n.bind(null,60)),meta:t},{path:\"posts/edit\",component:()=>n.e(1).then(n.bind(null,37)),meta:t},{path:\"posts/:postType/edit\",component:()=>n.e(1).then(n.bind(null,37)),meta:t},{path:\"posts/:postType/add-new\",component:()=>n.e(1).then(n.bind(null,37)),meta:t},{path:\"posts/:postType\",component:()=>n.e(1).then(n.bind(null,60)),meta:t}]]}});Object(o.a)({key:\"prefetch\",hook:\"global-prefetch\",callback:e=>Object(r.a)(e)}),Object(o.a)({key:\"prefetch\",hook:\"client-route-before\",callback:e=>Object(r.a)({clientOnly:!0,...e})})},,function(e,t){e.exports=require(\"flatted/cjs\")},function(e,t,n){e.exports=n.p+\"icon-10e23a37.svg\"},function(e,t){function n(e){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=63},function(e,t,n){e.exports=n.p+\"pages-36f2fa5f.svg\"},function(e,t,n){\"use strict\";n.r(t);n(32);var r=n(2),o=n.n(r),a=n(53),i=n.n(a),s=n(0),c=n(3),u=n(14),l=n(20);const d=\"routeClass\",p=e=>{if(!e)return;const{routeClass:t}=e;if(t){let e=\"function\"==typeof t?t():t;if(\"string\"==typeof e)e=[e];else if(!e)return;Object(l.b)().routeClass.push(...e)}};Object(s.a)({key:d,hook:\"ssr-context-callbacks\",callback:({matchedComponents:e})=>e.forEach(e=>p(e))});Object(s.c)({key:d,hook:\"before-app\",callback:()=>{0}}),Object(s.c)({key:d,hook:\"register-global-observables\",callback:e=>({...e,routeClass:[]})}),Object(s.v)({key:d,hook:\"observable-class-keys\",item:\"routeClass\"});var f=n(28);o.a.use(i.a,{keyName:\"metaInfoCore\"});Object(s.c)({key:\"metaInfo\",hook:\"ssr-context-ready\",callback:(e,{vm:t,router:n})=>{e.metaInfo=t.$meta();[\"factor_head\",\"factor_body_start\",\"factor_body_end\"].forEach(t=>{e[t]=()=>Object(s.f)(t,[],{context:e}).join(\"\")});const{meta:{ui:r=\"app\"}={}}=n.currentRoute.matched.find(e=>e.meta.ui)||{};return[{name:\"factor_html_attr\",attr:[],classes:[`factor-${r}`]},{name:\"factor_body_attr\",attr:[],classes:[]},{name:\"factor_head_attr\",attr:[],classes:[]}].forEach(({name:t,attr:n,classes:r})=>{e[t]=o=>(o&&r.push(o),n.push(`class=\"${r.join(\" \")}\"`),Object(s.f)(t,n,{context:e}).join(\" \"))}),e}}),Object(s.c)({key:\"metaInfo\",hook:\"site-mixins\",callback:e=>[...e,{metaInfo(){var e;const t=this.post,n=t?{title:Object(s.F)(t._id),description:Object(s.h)(t._id),image:Object(s.z)(t._id)}:{},r={htmlAttrs:{lang:\"en\"},meta:[{charset:\"utf-8\"},{name:\"viewport\",content:\"width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no\"},{name:\"generator\",content:`Factor ${f.version}`}]},o=null!==(e=Object(c.a)(\"metaInfo\"))&&void 0!==e?e:{};return Object(s.f)(\"meta-default\",{...r,...o,...n})}}]}),Object(s.a)({key:\"metaInfo\",hook:\"initialize-app\",callback:()=>{o.a.mixin(o.a.extend({metaInfoCore(){const e=this.$options.metaInfo;if(!e)return{};const t=\"function\"==typeof e?e.call(this):e;return Object(s.f)(\"meta-component\",t)}}))}}),Object(s.c)({key:\"metaInfo\",hook:\"meta-component\",callback:e=>(e.meta||(e.meta=[]),e.description&&e.meta.push({vmid:\"description\",name:\"description\",content:e.description}),e.image&&!e.image.includes(\"base64\")&&e.meta.push({vmid:\"og:image\",property:\"og:image\",content:Object(u.a)(e.image)}),e.title&&e.meta.push({vmid:\"og:title\",property:\"og:title\",content:e.title}),e),priority:200}),Object(s.c)({key:\"metaInfo\",hook:\"factor_head\",callback:(e,{context:t})=>{const{title:n,link:r,style:o,script:a,noscript:i,meta:s}=t.metaInfo.inject();return[...e,s.text(),n.text(),r.text(),o.text(),a.text(),i.text()]}}),Object(s.c)({key:\"metaInfo\",hook:\"factor_html_attr\",callback:(e,{context:t})=>{const{htmlAttrs:n}=t.metaInfo.inject();return[...e,n.text(!0)]}}),Object(s.c)({key:\"metaInfo\",hook:\"factor_body_attr\",callback:(e,{context:t})=>{const{bodyAttrs:n}=t.metaInfo.inject();return[...e,n.text()]}}),Object(s.c)({key:\"metaInfo\",hook:\"factor_head_attr\",callback:(e,{context:t})=>{const{headAttrs:n}=t.metaInfo.inject();return[...e,n.text()]}}),Object(s.c)({key:\"metaInfo\",hook:\"factor_body_start\",callback:(e,{context:t})=>{const{style:n,script:r,noscript:o}=t.metaInfo.inject();return[...e,n.text({pbody:!0}),r.text({pbody:!0}),o.text({pbody:!0})]}}),Object(s.c)({key:\"metaInfo\",hook:\"factor_body_end\",callback:(e,{context:t})=>{const{style:n,script:r,noscript:o}=t.metaInfo.inject();return[...e,n.text({body:!0}),r.text({body:!0}),o.text({body:!0})]}});var m=n(10),h=n(5),b=n(4),y=n(1);var g=n(9);t.default=async e=>{const{vm:t,router:n,store:r}=await(async({url:e=\"/\"}={})=>{process.env.FACTOR_TARGET=\"app\",await Object(l.a)();const t=Object(b.a)(),n=Object(m.b)();Object(y.e)(\"before-app\");const r=Object(c.a)(\"app.components.site\");return{vm:new o.a({mounted(){setTimeout(()=>Object(h.a)(\"app-mounted\"),0)},render:e=>e(r),router:n,store:t}),router:n,store:t,context:{url:e}}})({url:e.url});return await(async({context:e,vm:t,router:n,store:r})=>{const{url:o=\"\"}=e,{fullPath:a}=n.resolve(o).route;n.push(a!==o?a:o).catch(e=>g.a.error(e)),e=Object(y.c)(\"ssr-context-init\",e,{vm:t,router:n,store:r}),await new Promise((e,t)=>{n.onReady(()=>e(!0),t)});const i={context:e,fullPath:a,matchedComponents:n.getMatchedComponents(a),vm:t,router:n,store:r};return await Object(y.e)(\"ssr-context-callbacks\",i),(e=Object(y.c)(\"ssr-context-ready\",e,i)).state=r.state,e})({context:e,vm:t,router:n,store:r}),t}},function(e,t,n){\"use strict\";n.r(t);var r={pageTemplates:{templates:[{name:\"Default\",slug:\"default\",component:()=>n.e(0).then(n.bind(null,150))}]}},o={core:{components:{btn:()=>n.e(0).then(n.bind(null,154)),btnDashboard:()=>n.e(1).then(n.bind(null,155)),btnBase:()=>n.e(1).then(n.bind(null,156)),link:()=>n.e(1).then(n.bind(null,196)),loadingRing:()=>n.e(1).then(n.bind(null,157)),modal:()=>n.e(0).then(n.bind(null,158)),modalApp:()=>n.e(0).then(n.bind(null,158)),lightbox:()=>n.e(1).then(n.bind(null,159))}}};t.default=[{dashboard:{route:\"/dashboard\"}},r,o]},function(e,t,n){\"use strict\";n.r(t);n(0),n(58),n(55),n(57),n(7);var r=n(1);Object(r.d)({hook:\"site-components\",key:\"ssrProgressBar\",item:{name:\"plugin-ssr-bar\",component:()=>n.e(1).then(n.bind(null,160))}});n(59),n(56),n(54),n(12)},function(e,t){e.exports=require(\"jquery\")},function(e,t){e.exports=require(\"sortablejs\")},function(e,t){e.exports=require(\"markdown-it\")},function(e,t){e.exports=require(\"markdown-it-anchor\")},function(e,t){e.exports=require(\"markdown-it-video\")},function(e,t){e.exports=require(\"markdown-it-link-attributes\")},function(e,t){e.exports=require(\"markdown-it-implicit-figures\")},,,,,,,,,,,,,,,,function(e,t){e.exports=require(\"easymde\")},function(e,t){e.exports=require(\"vuejs-datepicker\")},function(e,t){e.exports=require(\"vue-client-only\")}]);"
  },
  "maps": {}
}